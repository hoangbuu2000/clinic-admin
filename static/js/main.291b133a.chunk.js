(this["webpackJsonpclinic-management"]=this["webpackJsonpclinic-management"]||[]).push([[0],{346:function(e,t,n){},347:function(e,t,n){},413:function(e,t){},536:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(36),i=n.n(r),o=(n(346),n(5)),s=n(15),l=(n(347),n(29)),d=n(21),u=n(19),h=n(8),j=n(228),b=n(42),p=n(612),g=n(611),m=n(592),O=n(545),f=n(610),x=n(73),v=n(604),y=n(122),w=n(286),S=n.n(w),k=n(289),C=n.n(k),N=n(288),I=n.n(N),A=n(546),B=n(550),P=n(613),D=n(120),T=n.n(D),z=n(290),E=n.n(z),L=n(291),M=n.n(L),_=n(292),R=n.n(_),V=n(296),F=n.n(V),q=n(293),U=n.n(q),W=n(294),G=n.n(W),Y=n(295),H=n.n(Y),J=n(297),$=n.n(J),Q=n(135),X=n.n(Q),K=n(299),Z=n.n(K),ee=n(300),te=n.n(ee),ne=n(585),ae=n(56),ce=n.n(ae),re=n(106),ie=n(170),oe=n(1);function se(e){var t,n;"primary"===e.color?(t="#e1f5fe",n="black"):"secondary"===e.color?(t=ie.a.A400,n="white"):"lightPrimary"===e.color?(t="#ffffff",n="#000000"):"darkPrimary"===e.color?(t="#afc2cb",n="#000000"):"darkSecondary"===e.color?(t="#cbcbcb",n="#000000"):"white"===e.color&&(t="white",n=ne.a.A400);var a={color:n,background:t};return Object.assign(a,e.style),Object(oe.jsx)(re.a,{id:e.id,onClick:e.onClick,type:e.type,variant:e.variant?e.variant:"contained",style:a,children:e.title})}var le=n(95),de=n.n(le),ue=n(82),he=n.n(ue),je=n(13),be=n.n(je),pe={roles:"roles",accounts:"accounts",medicines:"medicines",shifts:"shifts",admins:"admins",doctors:"doctors",employees:"employees",schedules:"schedules",bookings:"bookings",patients:"patients",prescriptions:"prescriptions",invoices:"invoices",services:"services",categories:"categories"},ge=ce.a.create({baseURL:"http://localhost:8080/"}),me=n(129),Oe=Object(j.a)((function(e){return{typoContainer:{padding:30,width:"30%",margin:"0 auto"},typo:{borderRadius:6,textAlign:"center",background:"#e1f5fe",fontSize:24,padding:5,color:"#000000"},root:{"& .super-app-theme--Max":{backgroundColor:"#ef9a9a","&:hover":{backgroundColor:"#ffcdd2"}}}}}));function fe(e){var t,n=Oe();return Object(oe.jsxs)("div",{className:n.root,children:[e.header?Object(oe.jsx)("div",{className:n.typoContainer,children:Object(oe.jsx)(x.a,{className:n.typo,variant:"h4",children:e.header})}):"",Object(oe.jsx)(me.a,(t={getRowClassName:function(e){return!0===e.getValue(e.id,"isMax")?"super-app-theme--Max":""},className:e.className,rows:e.rows,columns:e.columns,pageSize:e.pageSize,checkboxSelection:!!e.checkboxSelection||e.checkboxSelection,disableSelectionOnClick:!!e.disableSelectionOnClick||e.disableSelectionOnClick,paginationMode:e.server?"server":"client",filterMode:e.filter?"server":"client",onCellEditCommit:e.handleCellEditCommit,rowCount:e.rowCount,onPageChange:e.handlePageChange,page:e.currentPage,autoHeight:!0,selectionModel:e.selectionModel,onSelectionModelChange:e.handleSelectionChange},Object(s.a)(t,"checkboxSelection",!!e.checkboxSelection),Object(s.a)(t,"isRowSelectable",e.isRowSelectable),t)),Object(oe.jsx)("br",{}),""!==e.btnTitle&&""!==e.createURL?Object(oe.jsx)(l.b,{to:e.createURL,style:{textDecoration:"none",position:"fixed",right:0,top:100},children:Object(oe.jsx)(se,{title:e.btnTitle,color:"primary"})}):""]})}var xe="/login",ve=21,ye=Object(j.a)((function(e){var t;return{root:(t={height:e.spacing(50),width:"100%",marginTop:e.spacing(6)+2},Object(s.a)(t,e.breakpoints.down("xs"),{marginTop:e.spacing(6)+2}),Object(s.a)(t,"background","white"),t),table:{display:"block"}}}));function we(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(o.a)(r,2),s=i[0],u=i[1],h=Object(d.g)(),j=a.useContext(yc),b=ye();function p(){u(!0),ge.get(pe.roles,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var t=e.data.content,n=0;n<t.length;n++)Object.assign(t[n],{action:"Delete"});c(t),u(!1)})).catch((function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),h.push(xe))}))}Object(a.useEffect)((function(){p(),j.setPage(window.location.href.substring(ve))}),[]);var g=[{field:"id",headerName:"ID",width:200,renderCell:function(e){var t=e.getValue(e.id,"id"),n="/roles/"+t;return Object(oe.jsx)(l.b,{style:{textDecoration:"none",color:"black",width:"100%"},to:n,children:t})}},{field:"name",headerName:"Name",width:700,editable:!0},{field:"active",headerName:"Active",width:200,editable:!0,type:"boolean",renderCell:function(e){return!0===e.getValue(e.id,"active")?Object(oe.jsx)(de.a,{style:{fill:"#b3e5fc"}}):!1===e.getValue(e.id,"active")?Object(oe.jsx)(he.a,{style:{fill:"#afc2cb"}}):void 0}},{field:"action",headerName:" ",width:150,align:"center",renderCell:function(e){return Object(oe.jsx)(se,{onClick:function(){var t=e.getValue(e.id,"id");be()({title:"Are you sure to delete?",icon:"warning",buttons:{cancel:"Cancel",inactive:{text:"Inactivate",value:"inactive"},delete:{text:"Delete anyway",value:"delete"}}}).then((function(n){switch(n){case"inactive":return ce()("http://localhost:8080/roles/".concat(t),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{name:e.getValue(e.id,"name"),active:!1}});case"delete":return ce()("http://localhost:8080/roles/".concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});default:return}})).then((function(e){var t,n;200===(null===e||void 0===e?void 0:e.status)&&("put"===(null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.method)?(be()("Inactivated","","success"),p()):"delete"===(null===e||void 0===e||null===(n=e.config)||void 0===n?void 0:n.method)&&(be()("Deleted","","success"),p()))})).catch((function(e){var t;console.log(e.response),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),h.push(xe))}))},color:"primary",title:"Delete"})}}],m=Object(a.useCallback)((function(e){var t=e.id,n=e.field,a=e.value,c={};ge("".concat(pe.roles,"/").concat(t),{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){(c=e.data)[n]=a,ge("".concat(pe.roles,"/").concat(t),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:c}).then((function(e){return console.log(e)})).catch((function(e){401===e.response.status&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),h.push(xe))}))})).catch((function(e){401===e.response.status&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),h.push(xe))}))}),[]);return Object(oe.jsx)("div",{className:b.root,children:s?Object(oe.jsx)("img",{style:{width:"100%",height:600},src:"/clinic-admin/images/loading.gif"}):Object(oe.jsx)(fe,{className:b.table,header:"LIST ROLE",rows:n,columns:g,pageSize:5,handleCellEditCommit:m,createURL:"/roles/create",btnTitle:"Create"})})}var Se,ke=n(136),Ce=Object(j.a)({root:(Se={background:"white",color:"white",padding:"0 30px",borderRadius:3,display:"flex"},Object(s.a)(Se,"padding",100),Object(s.a)(Se,"marginTop",20),Object(s.a)(Se,"boxShadow","0 3px 5px 2px rgba(189, 225, 255, 1)"),Object(s.a)(Se,"borderRadius","0% 100% 0% 100% / 77% 0% 100% 23% "),Se),btn:{margin:10},error:{color:ie.a.A400,fontWeight:"bold"}});function Ne(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(d.g)(),s=Ce();return Object(oe.jsxs)("div",{className:s.root,children:[Object(oe.jsxs)("form",{onSubmit:function(e){ce()({method:"post",url:"http://localhost:8080/roles",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{name:c}}).then((function(e){console.log(e.data),i.push("/roles")})).catch((function(e){var t;400===(null===(t=e.response)||void 0===t?void 0:t.status)&&(document.querySelector("#error").innerText="This field is required");console.log(e)})),e.preventDefault()},children:[Object(oe.jsx)(x.a,{style:{color:"black"},variant:"h4",children:"CREATE ROLE"}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(ke.a,{required:!0,id:"standard-required",value:c,onChange:function(e){"name"===e.target.name&&(r(e.target.value),""!==e.target.value&&(document.querySelector("#error").innerText=""))},label:"Name",name:"name"}),Object(oe.jsx)("p",{id:"error",className:s.error})]}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px"},title:e.type,type:"submit",color:"primary"}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 10px"},onClick:function(){i.goBack()},title:"Go Back",color:"darkPrimary"})]}),Object(oe.jsx)("img",{style:{height:"400px",marginLeft:"300px"},src:"/clinic-admin/images/gui1.svg"})]})}var Ie=n(102),Ae=n(594),Be=n(595),Pe=n(596),De=n(597),Te=n(598),ze=n(138),Ee=n(588),Le=n(629),Me=n(593);function _e(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(oe.jsxs)("div",{style:e.style,children:[Object(oe.jsxs)("label",{htmlFor:"update-photo",children:[Object(oe.jsx)("input",{id:"update-photo",name:"file",onChange:function(e){var t=this,n=e.target.value.toLowerCase().endsWith(".png"),a=e.target.value.toLowerCase().endsWith(".jpg"),c=e.target.value.toLowerCase().endsWith(".jpeg"),i=e.target.value.toLowerCase().endsWith(".svg");if(n||a||c||i){var o=URL.createObjectURL(document.getElementById("update-photo").files[0]),s=document.getElementById("img-container");s.style.display="block",r(o),s.onload=function(){URL.revokeObjectURL(t.src)}}else be()("Pls choose a file with valid extension","","warning"),e.target.value=""},style:{display:"none"},type:"file"}),Object(oe.jsx)(re.a,{startIcon:Object(oe.jsx)(Me.a,{}),style:{background:"#e1f5fe",color:"black"},variant:"contained",component:"span",children:"Upload photo"})]}),Object(oe.jsxs)("div",{id:"img-container",style:{display:"none"},children:[Object(oe.jsx)("img",{id:"img",src:c,width:"150",height:"150",style:{marginTop:"20px"}}),Object(oe.jsx)(he.a,{style:{cursor:"pointer"},onClick:function(){document.getElementById("update-photo").value="",r(""),document.getElementById("img-container").style.display="none"}})]})]})}var Re=Object(j.a)({card:{maxWidth:345},media:{height:200},pagination:{marginTop:30},info:{marginTop:30,fontSize:16,textAlign:"center","& p":{borderRadius:10,background:"#e1f5fe",color:"black",width:"50%",margin:"0 auto",marginBottom:15,padding:10}},form:{background:"white",textAlign:"center",paddingTop:"170px !important"},formLoading:{background:"white",textAlign:"center",paddingTop:"170px !important",opacity:.5,pointerEvents:"none",backgroundImage:'url("https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/6d391369321565.5b7d0d570e829.gif")',backgroundSize:"cover",backgroundPosition:"center"}}),Ve=Object(Ie.b)({palette:{primary:{main:"#e1f5fe"}}});function Fe(e){var t,n=Re(),c=Object(d.h)().roleId,r=Object(d.g)(),i=Object(a.useState)(null),s=Object(o.a)(i,2),l=s[0],u=s[1],h=Object(a.useState)(!0),j=Object(o.a)(h,2),b=j[0],p=j[1],g=Object(a.useState)(!1),m=Object(o.a)(g,2),O=m[0],f=m[1],v=Object(a.useState)(""),y=Object(o.a)(v,2),w=y[0],S=y[1],k=Object(a.useState)(""),C=Object(o.a)(k,2),N=C[0],I=C[1],A=Object(a.useState)(1),B=Object(o.a)(A,2),P=B[0],D=B[1],T=Object(a.useContext)(yc),z={};function E(){ge.get("".concat(pe.roles,"/").concat(c),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){Object.assign(z,e.data),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"?p=1";return ge.get("".concat(pe.roles,"/").concat(c,"/").concat(pe.accounts).concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}(window.location.search).then((function(e){Object.assign(z,{accounts:e.data.content,totalElements:e.data.totalElements,totalPages:e.data.totalPages,currentPage:parseInt(e.data.number)+1}),u(z),p(!1)}))})).catch((function(e){var t,n,a,c;404===(null===(t=e.response)||void 0===t?void 0:t.status)?alert(null===(a=e.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message):401===(null===(n=e.response)||void 0===n?void 0:n.status)&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),r.push(xe))}))}function L(e){"username"===e.target.name?S(e.target.value):"password"===e.target.name&&I(e.target.value)}return Object(a.useEffect)((function(){E(),T.setPage(window.location.href.substring(ve))}),[]),Object(oe.jsx)("div",{children:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,style:{display:"flex"},children:[b?Object(oe.jsx)("img",{src:"/clinic-admin/images/loading.gif"}):Object(oe.jsxs)(Ae.a,{container:!0,item:!0,xs:6,spacing:4,children:[Object(oe.jsxs)(Ae.a,{className:n.info,item:!0,md:12,children:[Object(oe.jsxs)("p",{children:["Role name: ",null===l||void 0===l?void 0:l.name]}),Object(oe.jsxs)("p",{children:["Total accounts: ",null===l||void 0===l?void 0:l.totalElements]})]}),null===l||void 0===l||null===(t=l.accounts)||void 0===t?void 0:t.map((function(e){return Object(oe.jsx)(Ae.a,{item:!0,xs:4,children:Object(oe.jsx)(Be.a,{onClick:function(){return r.push("/accounts/".concat(e.id))},className:n.card,children:Object(oe.jsxs)(Pe.a,{children:[Object(oe.jsx)(De.a,{className:n.media,image:e.image,title:"Contemplative Reptile"}),Object(oe.jsx)(Te.a,{children:Object(oe.jsx)(x.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.username})})]})})},e.id)}))]}),Object(oe.jsxs)(Ae.a,{item:!0,xs:6,className:O?n.formLoading:n.form,children:[Object(oe.jsx)("h3",{children:"ADD ACCOUNT"}),Object(oe.jsxs)("form",{id:"formAccount",onSubmit:function(e){e.preventDefault();var t=document.getElementById("formAccount"),n=new FormData(t);f(!0),ge("".concat(pe.roles,"/").concat(c,"/").concat(pe.accounts),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"multipart/form-data"},data:n}).then((function(e){E(),f(!1)})).catch((function(e){var t,n,a,c,i;if(console.log(e.response),401===e.response.status&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),r.push(xe)),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)be()(null===(c=e.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.message,"","error");else if(Array.isArray(null===(a=e.response)||void 0===a?void 0:a.data))for(var o=0;o<e.response.data.length;o++)be()("",e.response.data[o].message,"warning");f(!1)}))},children:[Object(oe.jsxs)(ze.a,{children:[Object(oe.jsx)(ke.a,{required:!0,id:"standard-required",value:w,label:"Username",name:"username",onChange:L}),Object(oe.jsx)("p",{className:n.error})]})," ",Object(oe.jsx)("br",{}),Object(oe.jsxs)(ze.a,{children:[Object(oe.jsx)(ke.a,{required:!0,id:"standard-required",type:"password",value:N,label:"Password",name:"password",onChange:L}),Object(oe.jsx)("p",{className:n.error})]})," ",Object(oe.jsx)("br",{}),Object(oe.jsx)(ze.a,{children:Object(oe.jsx)(_e,{style:{margin:"0px 0px 20px 0px"}})})," ",Object(oe.jsx)("br",{}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px"},title:"Create",type:"submit",color:"darkPrimary"}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 10px"},onClick:function(){r.goBack()},title:"Go Back",color:"darkSecondary"})]})]})]}),Object(oe.jsx)(Ee.a,{theme:Ve,children:Object(oe.jsx)(Le.a,{color:"primary",className:n.pagination,page:P,count:null===l||void 0===l?void 0:l.totalPages,showFirstButton:!0,showLastButton:!0,onChange:function(e,t){r.push("/roles/".concat(c,"?p=").concat(t)),D(t),E()}})})]})})}var qe=n(4),Ue=n.n(qe),We=n(10),Ge=n(176),Ye=n(85),He=Object(j.a)({card:{maxWidth:345},media:{height:200},pagination:{marginTop:30},info:{marginTop:30,fontSize:16,textAlign:"center","& p":{borderRadius:5,background:"#e1f5fe",color:"black",width:"50%",margin:"0 auto",marginBottom:15,padding:10}},action:{background:"white",textAlign:"center",paddingTop:"180px !important"},roleInfo:{position:"relative",background:"#e1f5fe",color:"black",padding:"30px 10px 10px 10px",height:150,margin:"0 auto",fontSize:16,cursor:"pointer"},form:{position:"absolute",top:80,marginLeft:22}}),Je=Object(Ie.b)({palette:{primary:{main:"#e1f5fe"}}});function $e(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(o.a)(r,2),s=i[0],l=i[1],h=Object(a.useState)(!0),j=Object(o.a)(h,2),b=j[0],p=j[1],g=Object(a.useState)(1),m=Object(o.a)(g,2),O=m[0],f=m[1],v=Object(a.useState)(1),y=Object(o.a)(v,2),w=y[0],S=y[1],k=Object(a.useState)({username:"",role:"0",hasInfo:""}),C=Object(o.a)(k,2),N=C[0],I=C[1],A=He(),B=Object(d.g)(),P=Object(a.useContext)(yc),D=[];function T(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"?p=1",n=arguments.length>1?arguments[1]:void 0,a=n.username,r=n.role,i=n.hasInfo;p(!0),""===a&&"0"===r&&""===i?e="".concat(pe.accounts).concat(t):"0"!==r&&""!==a&&""!==i?e="".concat(pe.accounts).concat(t,"&role=").concat(r,"&username=").concat(a,"&hasInfo=").concat(i):"0"!==r&&""===a&&""===i?e="".concat(pe.accounts).concat(t,"&role=").concat(r):"0"!==r&&""!==a&&""===i?e="".concat(pe.accounts).concat(t,"&role=").concat(r,"&username=").concat(a):"0"===r&&""!==a&&""===i?e="".concat(pe.accounts).concat(t,"&username=").concat(a):"0"===r&&""!==a&&""!==i?e="".concat(pe.accounts).concat(t,"&username=").concat(a,"&hasInfo=").concat(i):"0"===r&&""===a&&""!==i?e="".concat(pe.accounts).concat(t,"&hasInfo=").concat(i):"0"!==r&&""===a&&""!==i&&(e="".concat(pe.accounts).concat(t,"&role=").concat(r,"&hasInfo=").concat(i)),ge.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),I(Object(u.a)(Object(u.a)({},N),{},{username:a})),c(e.data.content),p(!1),f(e.data.number+1),S(e.data.totalPages)})).catch((function(e){var t;401===(null===(t=e.response)||void 0===t?void 0:t.status)&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),B.push(xe)),console.log(e.response)}))}function z(){return(z=Object(We.a)(Ue.a.mark((function e(t){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.get("".concat(pe.roles,"/").concat(t,"/").concat(pe.accounts),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.data.totalElements})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){var t=N;t[e.target.name]=e.target.value,I(t),T("?p=".concat(O),N)}return Object(a.useEffect)((function(){ge.get("".concat(pe.roles),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){for(var t=e.data.content,n=function(e){D.push(function(e){return z.apply(this,arguments)}(t[e].id).then((function(n){Object.assign(t[e],{totalAccounts:n})})))},a=0;a<t.length;a++)n(a);Promise.all(D).then((function(){return l(t)}))})).catch((function(e){401===e.response.status&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),B.push(xe))})),T(window.location.search,N),P.setPage(window.location.href.substring(ve))}),[]),Object(oe.jsx)("div",{children:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,style:{display:"flex"},children:[b?Object(oe.jsx)("img",{src:"/clinic-admin/images/loading.gif"}):Object(oe.jsxs)(Ae.a,{container:!0,item:!0,xs:6,spacing:4,children:[Object(oe.jsx)(Ae.a,{className:A.info,item:!0,md:12,children:Object(oe.jsx)("p",{children:"LIST ACCOUNT"})}),null===n||void 0===n?void 0:n.map((function(e){return Object(oe.jsx)(Ae.a,{item:!0,xs:4,children:Object(oe.jsx)(Be.a,{onClick:function(){return B.push("/accounts/".concat(e.id))},className:A.card,children:Object(oe.jsxs)(Pe.a,{children:[Object(oe.jsx)(De.a,{className:A.media,image:e.image,title:"Contemplative Reptile"}),Object(oe.jsxs)(Te.a,{children:[Object(oe.jsx)(x.a,{gutterBottom:!0,variant:"h6",component:"h2",children:e.username}),e.active?Object(oe.jsx)(de.a,{}):Object(oe.jsx)(he.a,{})]})]})})},e.id)}))]}),Object(oe.jsxs)(Ae.a,{container:!0,item:!0,xs:6,className:A.action,children:[s.length>0?Object(oe.jsxs)("form",{className:A.form,children:[Object(oe.jsx)(ke.a,{variant:"outlined",onChange:E,required:!0,id:"standard-required",label:"Username",value:N.username,name:"username"}),Object(oe.jsxs)(Ge.a,{style:{width:180},name:"role",variant:"outlined",onChange:E,value:N.role,children:[Object(oe.jsx)(Ye.a,{value:0,children:"Choose Role"}),s&&s.map((function(e){return Object(oe.jsx)(Ye.a,{value:e.id,children:e.name},e.id)}))]}),Object(oe.jsxs)(Ge.a,{style:{width:180},name:"hasInfo",variant:"outlined",onChange:E,value:N.hasInfo,children:[Object(oe.jsx)(Ye.a,{value:!0,children:"Has info"}),Object(oe.jsx)(Ye.a,{value:!1,children:"No info"})]})]}):"",s&&s.map((function(e,t){return Object(oe.jsxs)(Ae.a,{onClick:function(){return t=e.id,B.push("/roles/".concat(t)),void P.setPage("/roles");var t},item:!0,xs:5,className:A.roleInfo,children:[Object(oe.jsxs)("p",{children:["Role name: ",e.name]}),Object(oe.jsxs)("p",{children:["Total accounts: ",e.totalAccounts]})]},e.id)}))]})]}),Object(oe.jsx)(Ee.a,{theme:Je,children:Object(oe.jsx)(Le.a,{color:"primary",className:A.pagination,page:O,count:w,showFirstButton:!0,showLastButton:!0,onChange:function(e,t){B.push("/accounts?p=".concat(t)),f(t),N?T("?p="+t,N):T("?p="+t)}})})]})})}var Qe=n(74),Xe=Object(Qe.a)({root:{height:400,width:"100%",marginTop:50,background:"white"},imageContainer:{position:"absolute",top:130,left:350,width:"60%"},updateLoading:{height:400,width:"100%",marginTop:50,background:"white",opacity:.5,pointerEvents:"none",backgroundImage:'url("https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/6d391369321565.5b7d0d570e829.gif")',backgroundSize:"cover",backgroundPosition:"center"},imageScale:{width:"100%",height:"520px"},btnClose:{cursor:"pointer",position:"absolute",top:0,right:0,width:120},btnUpload:{position:"absolute",top:30,right:0,width:120}});function Ke(){var e,t,n,c,r,i,s,l,u,h,j=Object(a.useState)([]),b=Object(o.a)(j,2),p=b[0],g=b[1],m=Object(a.useState)([]),O=Object(o.a)(m,2),f=O[0],x=O[1],v=Object(a.useState)(!0),y=Object(o.a)(v,2),w=y[0],S=y[1],k=Object(a.useState)(!1),C=Object(o.a)(k,2),N=C[0],I=C[1],A=Object(a.useState)(0),B=Object(o.a)(A,2),P=B[0],D=B[1],T=Object(a.useState)(0),z=Object(o.a)(T,2),E=z[0],L=z[1],M=Object(a.useState)(0),_=Object(o.a)(M,2),R=_[0],V=_[1],F=Xe(),q=Object(d.g)(),U=Object(a.useContext)(yc);function W(){return G.apply(this,arguments)}function G(){return(G=Object(We.a)(Ue.a.mark((function e(){var t,n,a,c,r,i=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"?p=1",S(!0),e.next=4,ge.get("".concat(pe.medicines).concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return g(e.data.content),D(e.data.totalElements),L(e.data.number),S(!1),e.data.content.map((function(e){return e.category_id}))})).catch((function(e){return console.log(e)}));case 4:for(n=e.sent,a=[],c=[],r=0;r<(null===n||void 0===n?void 0:n.length);r++)a.push(ge.get("".concat(pe.categories,"/").concat(n[r]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(a).then((function(){return x(c)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){W(),U.setPage(window.location.href.substring(ve))}),[]);var Y=function(){var e=Object(We.a)(Ue.a.mark((function e(t,n){var a,c,r,i,o,s;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value.toLowerCase().endsWith(".png"),c=t.target.value.toLowerCase().endsWith(".jpg"),r=t.target.value.toLowerCase().endsWith(".jpeg"),i=t.target.value.toLowerCase().endsWith(".svg"),!(a||c||r||i)){e.next=14;break}return I(!0),o=document.getElementById("update-photo").files[0],e.next=9,ge.get("".concat(pe.medicines,"/").concat(n),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var t=new FormData,n=e.data;return n.file=o,t.append("id",n.id),t.append("name",n.name),t.append("description",n.description),t.append("price",n.price),t.append("unit",n.unit),t.append("image",n.image),t.append("active",n.active),t.append("file",n.file),document.getElementById("image-container").style.display="none",t})).catch((function(e){401===e.response.status&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),q.push(xe))}));case 9:return s=e.sent,e.next=12,ge("".concat(pe.medicines,"/").concat(n),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"multipart/form-data"},data:s}).then((function(e){console.log(e);var t=e.data.image;document.getElementById("image".concat(n)).src=t,I(!1),W("?p="+(E+1))})).catch((function(e){401===e.response.status&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),q.push(xe))}));case 12:e.next=16;break;case 14:be()("Pls choose a file with valid extension","","warning"),t.target.value="";case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=[{field:"id",headerName:"ID",width:150},{field:"name",headerName:"Name",width:300,editable:"ROLE_ADMIN"===(null===(e=U.currentAuth)||void 0===e?void 0:e.role)},{field:"description",headerName:"Description",width:300,editable:"ROLE_ADMIN"===(null===(t=U.currentAuth)||void 0===t?void 0:t.role)},{field:"price",headerName:"Price",width:200,editable:"ROLE_ADMIN"===(null===(n=U.currentAuth)||void 0===n?void 0:n.role)},{field:"unit",headerName:"Unit",width:150,editable:"ROLE_ADMIN"===(null===(c=U.currentAuth)||void 0===c?void 0:c.role)},{field:"active",headerName:"Active",width:200,editable:"ROLE_ADMIN"===(null===(r=U.currentAuth)||void 0===r?void 0:r.role),type:"boolean",renderCell:function(e){return!0===e.getValue(e.id,"active")?Object(oe.jsx)(de.a,{style:{fill:"#b3e5fc"}}):!1===e.getValue(e.id,"active")?Object(oe.jsx)(he.a,{style:{fill:"#afc2cb"}}):void 0}},{field:"image",headerName:"Image",width:120,renderCell:function(e){var t=e.getValue(e.id,"image"),n=e.getValue(e.id,"id");return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("img",{id:"image"+n,onClick:function(){var e=document.getElementById("img-scale"),a=document.getElementById("image-container");e.src=t,a.style.display="block",V(n)},style:{width:"70%",height:"100%",padding:"5px"},src:t,alt:"No image"})})}},{field:"unitInStock",headerName:"Unit in stock",width:200,editable:"ROLE_ADMIN"===(null===(i=U.currentAuth)||void 0===i?void 0:i.role)},{field:"category_id",headerName:"Category",width:200,renderCell:function(e){var t=e.getValue(e.id,"category_id"),n=f.filter((function(e){return e.id===t}))[0];return Object(oe.jsx)("p",{children:null===n||void 0===n?void 0:n.name})}},"ROLE_ADMIN"===(null===(s=U.currentAuth)||void 0===s?void 0:s.role)?{field:"action",headerName:" ",width:150,align:"center",renderCell:function(e){return Object(oe.jsx)(se,{onClick:function(){var t=e.getValue(e.id,"id");be()({title:"Are you sure to delete?",icon:"warning",buttons:{cancel:"Cancel",inactive:{text:"Inactivate",value:"inactive"},delete:{text:"Delete anyway",value:"delete"}}}).then((function(n){switch(n){case"inactive":var a=new FormData;return a.append("name",e.getValue(e.id,"name")),a.append("description",e.getValue(e.id,"description")),a.append("price",e.getValue(e.id,"price")),a.append("unit",e.getValue(e.id,"unit")),a.append("image",e.getValue(e.id,"image")),a.append("active",!1),a.append("unitInStock",e.getValue(e.id,"unitInStock")),ge("".concat(pe.medicines,"/").concat(t),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"multipart/form-data"},data:a});case"delete":return ge("".concat(pe.medicines,"/").concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}})).then((function(e){var t,n;200===(null===e||void 0===e?void 0:e.status)&&("put"===(null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.method)?(be()("Inactivated","","success"),W("?p="+(E+1))):"delete"===(null===e||void 0===e||null===(n=e.config)||void 0===n?void 0:n.method)&&(be()("Deleted","","success"),W("?p="+(E+1))))})).catch((function(e){var t;console.log(e.response),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),q.push(xe))}))},color:"primary",title:"Delete"})}}:""];var J=function(){var e=Object(We.a)(Ue.a.mark((function e(t){var n,a,c,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.field,c=t.value,e.next=3,ge.get("".concat(pe.medicines,"/").concat(n),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var t=new FormData,n=e.data;return n[a]=c,t.append("id",n.id),t.append("name",n.name),t.append("description",n.description),t.append("price",n.price),t.append("unit",n.unit),t.append("image",n.image),t.append("active",n.active),t.append("unitInStock",n.unitInStock),t}));case 3:return r=e.sent,e.next=6,ge("".concat(pe.medicines,"/").concat(n),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"multipart/form-data"},data:r}).then((function(e){return console.log(e)})).catch((function(e){return alert("".concat(a," - ").concat(e.response.data[0].message))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(oe.jsxs)("div",{className:N?F.updateLoading:F.root,children:[w?Object(oe.jsx)("img",{style:{width:"100%",height:600},src:"/clinic-admin/images/loading.gif"}):Object(oe.jsx)(fe,{header:"LIST MEDICINE",rows:p,columns:H,pageSize:5,handleCellEditCommit:J,createURL:"ROLE_ADMIN"===(null===(l=U.currentAuth)||void 0===l?void 0:l.role)?"/medicines/create":"",btnTitle:"ROLE_ADMIN"===(null===(u=U.currentAuth)||void 0===u?void 0:u.role)?"Create":"",rowCount:P,handlePageChange:function(e){W("?p=".concat(e+1)),L(e)},currentPage:E,server:!0}),Object(oe.jsxs)("div",{id:"image-container",className:F.imageContainer,style:{display:"none"},children:[Object(oe.jsx)("img",{id:"img-scale",className:F.imageScale,src:""}),Object(oe.jsx)("div",{className:F.btnClose,children:Object(oe.jsx)(re.a,{onClick:function(){var e=document.getElementById("img-scale"),t=document.getElementById("image-container");e.src="",t.style.display="none"},style:{width:"100%",fontSize:10},variant:"contained",color:"secondary",children:"Close"})}),"ROLE_ADMIN"===(null===(h=U.currentAuth)||void 0===h?void 0:h.role)?Object(oe.jsx)("div",{className:F.btnUpload,children:Object(oe.jsxs)("label",{style:{width:"100%"},htmlFor:"update-photo",children:[Object(oe.jsx)("input",{id:"update-photo",name:"file",onClick:function(e){return e.target.click()},onChange:function(e){return Y(e,R)},style:{display:"none"},type:"file"}),Object(oe.jsx)(re.a,{style:{width:"100%",fontSize:10},color:"primary",variant:"contained",component:"span",children:"Upload photo"})]})}):""]})]})}var Ze,et,tt=n(614),nt=n(615),at=n(616),ct=n(209),rt=n(599),it=n(600),ot=n(601),st=n(602),lt=n(23),dt=n(45),ut=n.n(dt),ht=n(63),jt=n.n(ht),bt=n(134),pt=n.n(bt),gt=Object(j.a)({root:(Ze={background:"white",color:"white",padding:"0 30px",borderRadius:3,display:"flex"},Object(s.a)(Ze,"padding",100),Object(s.a)(Ze,"marginTop",20),Object(s.a)(Ze,"boxShadow","0 3px 5px 2px rgba(189, 225, 255, 1)"),Object(s.a)(Ze,"borderRadius","0% 100% 0% 100% / 77% 0% 100% 23% "),Ze),btn:{margin:10},error:{color:ie.a.A400,fontWeight:"bold"},loading:(et={opacity:.5,pointerEvents:"none",backgroundImage:'url("https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/6d391369321565.5b7d0d570e829.gif")',backgroundSize:"cover",backgroundPosition:"center",background:"linear-gradient(45deg, #81d4fa 20%, #8c9eff 90%)",color:"white",padding:"0 30px",borderRadius:3,display:"flex"},Object(s.a)(et,"padding",100),Object(s.a)(et,"marginTop",20),Object(s.a)(et,"boxShadow","0 3px 5px 2px rgba(255, 105, 135, .3)"),Object(s.a)(et,"borderRadius","0% 100% 0% 100% / 77% 0% 100% 23% "),et)});function mt(e){var t=gt(),n=Object(d.g)(),c=Object(a.useState)(""),r=Object(o.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),h=u[0],j=u[1],b=Object(a.useState)(0),p=Object(o.a)(b,2),g=p[0],m=p[1],O=Object(a.useState)(""),f=Object(o.a)(O,2),v=f[0],w=f[1],S=Object(a.useState)(0),k=Object(o.a)(S,2),C=k[0],N=k[1],I=Object(a.useState)(),A=Object(o.a)(I,2),B=A[0],P=A[1],D=Object(a.useState)(),T=Object(o.a)(D,2),z=T[0],E=T[1],L=Object(a.useState)(0),M=Object(o.a)(L,2),_=M[0],R=M[1],V=Object(a.useState)(0),F=Object(o.a)(V,2),q=F[0],U=F[1],W=Object(a.useState)(!1),G=Object(o.a)(W,2),Y=G[0],H=G[1],J=Object(a.useState)(!1),$=Object(o.a)(J,2),Q=$[0],X=$[1],K=Object(a.useState)(""),Z=Object(o.a)(K,2),ee=Z[0],te=Z[1];function ne(e){var t=e.target.name,n=e.target.value;"name"===t?s(n):"description"===t?j(n):"price"===t?m(n):"unit"===t?w(n):"unitInStock"===t&&N(n)}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"?p=1",t="n=7";ge.get("".concat(pe.categories).concat(e,"&").concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){E(e.data.content),R(e.data.number),U(e.data.totalElements),X(!0)})).catch((function(e){return console.log(e.response)}))}return Object(a.useEffect)((function(){}),[]),Object(oe.jsxs)("div",{className:Y?t.loading:t.root,children:[Object(oe.jsxs)(lt.ValidatorForm,{id:"form-medicine",onSubmit:function(e){if(e.preventDefault(),B){var t=document.querySelector("#form-medicine"),a=new FormData(t);H(!0),ge("".concat(pe.medicines),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"multipart/form-data"},data:a}).then((function(e){console.log(e),H(!1),n.push("/medicines")})).catch((function(e){400===e.response.status&&(alert("Please enter valid values"),H(!1))}))}else be()("Please choose a category","","warning")},children:[Object(oe.jsx)(x.a,{style:{color:"black"},variant:"h4",children:"CREATE MEDICINE"}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(lt.TextValidator,{id:"standard-required",value:i,onChange:ne,label:"Name",name:"name",validators:["required"],errorMessages:["this field is required"]}),Object(oe.jsx)("p",{id:"error",className:t.error})]}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(lt.TextValidator,{id:"standard-required",value:h,onChange:ne,label:"Description",name:"description",validators:["required"],errorMessages:["this field is required"]}),Object(oe.jsx)("p",{id:"error",className:t.error})]}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(lt.TextValidator,{id:"standard-required",value:g,onChange:ne,label:"Price",name:"price",type:"number",validators:["required"],errorMessages:["this field is required"]}),Object(oe.jsx)("p",{id:"error",className:t.error})]}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(lt.TextValidator,{id:"standard-required",value:v,onChange:ne,label:"Unit",name:"unit",validators:["required"],errorMessages:["this field is required"]}),Object(oe.jsx)("p",{id:"error",className:t.error})]}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(lt.TextValidator,{id:"standard-required",value:C,onChange:ne,label:"Unit In Stock",name:"unitInStock",type:"number",validators:["required"],errorMessages:["this field is required"]}),Object(oe.jsx)("p",{id:"error",className:t.error})]}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(re.a,{onClick:function(){return ae()},variant:"outlined",color:"primary",style:{minWidth:192},children:"Choose category"}),B?Object(oe.jsx)(ct.a,{color:"primary",arrow:!0,title:ee,children:Object(oe.jsx)(pt.a,{})}):""]}),Object(oe.jsx)("div",{children:Object(oe.jsx)(_e,{style:{margin:"25px 0px 25px 10px"}})}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px"},title:e.type,type:"submit",color:"darkPrimary"}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 10px"},onClick:function(){n.goBack()},title:"Go Back",color:"darkSecondary"})]}),Object(oe.jsx)("img",{style:{height:"400px",marginLeft:"205px"},src:"/clinic-admin/images/gui4.svg"}),Object(oe.jsxs)(rt.a,{fullScreen:!0,open:Q,children:[Object(oe.jsxs)(it.a,{children:[Object(oe.jsx)(y.a,{edge:"start",onClick:function(){X(!1),P()},children:Object(oe.jsx)(ut.a,{})}),Object(oe.jsx)(y.a,{edge:"end",style:{position:"absolute",right:15},onClick:function(){B?(te("Category: ".concat(B.name)),X(!1)):be()("Please choose a category","","warning")},children:Object(oe.jsx)(jt.a,{})})]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{children:Object(oe.jsx)(fe,{header:"",rows:z,server:!0,columns:[{field:"id",headerName:"ID",width:200},{field:"name",headerName:"Name",width:350},{field:"description",headerName:"Description",width:500}],pageSize:7,rowCount:q,createURL:"",handleSelectionChange:function(e){ge.get("".concat(pe.categories,"/").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return P(e.data)})).catch((function(e){return console.log(e.response)}))},handlePageChange:function(e){ae("?p=".concat(e+1)),R(e)},currentPage:_,btnTitle:""})})})]})]})}var Ot;function ft(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(o.a)(i,2),l=s[0],u=s[1],h=Object(d.g)(),j=Object(a.useContext)(yc),b=[{field:"id",headerName:"ID",width:150},{field:"name",headerName:"Name",width:300,editable:!0},{field:"description",headerName:"Description",width:500,editable:!0},{field:"active",headerName:"Active",width:150,type:"boolean",editable:!0,renderCell:function(e){return!0===e.getValue(e.id,"active")?Object(oe.jsx)(de.a,{style:{fill:"#b3e5fc"}}):!1===e.getValue(e.id,"active")?Object(oe.jsx)(he.a,{style:{fill:"#afc2cb"}}):void 0}},{field:"action",headerName:" ",width:150,align:"center",renderCell:function(e){return Object(oe.jsx)(se,{onClick:function(){var t=e.getValue(e.id,"id");be()({title:"Are you sure to delete?",icon:"warning",buttons:{cancel:"Cancel",inactive:{text:"Inactivate",value:"inactive"},delete:{text:"Delete anyway",value:"delete"}}}).then((function(n){switch(n){case"inactive":var a={name:e.getValue(e.id,"name"),description:e.getValue(e.id,"description"),active:!1};return ge("".concat(pe.shifts,"/").concat(t),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:a});case"delete":return ge("".concat(pe.shifts,"/").concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});default:return}})).then((function(e){var t,n;200===(null===e||void 0===e?void 0:e.status)&&("put"===(null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.method)?(be()("Inactivated","","success"),p()):"delete"===(null===e||void 0===e||null===(n=e.config)||void 0===n?void 0:n.method)&&(be()("Deleted","","success"),p()))})).catch((function(e){var t;console.log(e.response),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),h.push(xe))}))},color:"primary",title:"Delete"})}}];function p(){r(!0),ge("".concat(pe.shifts),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){u(e.data.content),r(!1)})).catch((function(e){return console.log(e.response)}))}return Object(a.useEffect)((function(){p(),j.setPage(window.location.href.substring(ve))}),[]),Object(oe.jsx)("div",{style:{height:400,width:"100%",marginTop:50,background:"white"},children:c?Object(oe.jsx)("img",{style:{width:"100%",height:600},src:"/clinic-admin/images/loading.gif"}):Object(oe.jsx)(fe,{header:"LIST SHIFT",rows:l,columns:b,pageSize:5,handleCellEditCommit:function(e){var t={name:e.getValue(e.id,"name"),description:e.getValue(e.id,"description"),active:e.getValue(e.id,"active")};t[e.field]=e.value,ge("".concat(pe.shifts,"/").concat(e.id),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:t}).then((function(e){return console.log(e)})).catch((function(e){401===e.response.status&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),h.push(xe))}))},createURL:"/shifts/create",btnTitle:"Create"})})}var xt=Object(j.a)({root:(Ot={background:"white",color:"white",padding:"0 30px",borderRadius:3,display:"flex"},Object(s.a)(Ot,"padding",100),Object(s.a)(Ot,"marginTop",20),Object(s.a)(Ot,"boxShadow","0 3px 5px 2px rgba(189, 225, 255, 1)"),Object(s.a)(Ot,"borderRadius","0% 100% 0% 100% / 77% 0% 100% 23% "),Ot),btn:{margin:10},error:{color:ie.a.A400,fontWeight:"bold"}});function vt(e){var t=xt(),n=Object(d.g)(),c=Object(a.useState)(""),r=Object(o.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),h=u[0],j=u[1];function b(e){"name"===e.target.name?s(e.target.value):"description"===e.target.name&&j(e.target.value)}return Object(oe.jsxs)("div",{className:t.root,children:[Object(oe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),ge("".concat(pe.shifts),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{name:i,description:h}}).then((function(e){n.push("/shifts")})).catch((function(e){console.log(e.response),401===e.response.status?window.confirm("Login expired! Please login again")&&(localStorage.clear(),n.push(xe)):400===e.response.status&&alert("Please enter valid values")}))},children:[Object(oe.jsx)(x.a,{style:{color:"black"},variant:"h4",children:"CREATE SHIFT"}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(ke.a,{required:!0,id:"standard-required",onChange:b,value:i,label:"Name",name:"name"}),Object(oe.jsx)("p",{id:"error",className:t.error})]}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(ke.a,{required:!0,id:"standard-required",onChange:b,value:h,label:"Description",name:"description"}),Object(oe.jsx)("p",{id:"error",className:t.error})]}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px"},title:e.type,type:"submit",color:"darkPrimary"}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 10px"},onClick:function(){n.goBack()},title:"Go Back",color:"darkSecondary"})]}),Object(oe.jsx)("img",{style:{height:"400px",marginLeft:"380px"},src:"/clinic-admin/images/gui3.svg"})]})}var yt=n(541),wt=n(636),St=n(548),kt=n(631),Ct=n(32),Nt=n(52),It=n(627),At=Object(j.a)({error:{color:ie.a.A400,fontWeight:"bold"},formLoading:{opacity:.5,pointerEvents:"none",backgroundImage:'url("https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/6d391369321565.5b7d0d570e829.gif")',backgroundSize:"cover",backgroundPosition:"center"}}),Bt=Object(Ie.b)({palette:{primary:{main:"#afc2cb"},secondary:{main:"#e1f5fe"}}});function Pt(e){var t,n,c,r,i=At(),s=Object(d.g)(),l=Object(a.useState)({}),h=Object(o.a)(l,2),j=h[0],b=h[1],p=Object(a.useState)(null),g=Object(o.a)(p,2),m=g[0],O=g[1],f=Object(a.useState)(!1),x=Object(o.a)(f,2),v=x[0],y=x[1],w=Object(a.useState)(!1),S=Object(o.a)(w,2),k=S[0],C=S[1],N=Object(a.useState)(new Date),I=Object(o.a)(N,2),A=I[0],B=I[1],P=Object(a.useState)([]),D=Object(o.a)(P,2),T=D[0],z=D[1];function E(t){y(!0);var n={firstName:j.firstName,lastName:j.lastName,gender:j.gender,dateOfBirth:A,email:j.email,phone:j.phone,idCardNumber:j.idCardNumber,address:j.address,hometown:j.hometown},a="ROLE_ADMIN"===m.name?"admins":"ROLE_DOCTOR"===m.name?"doctors":"ROLE_EMPLOYEE"===m.name?"employees":"ROLE_USER"===m.name?"patients":"";j.id?ge("".concat(pe.accounts,"/").concat(j.account_id,"/").concat(a,"/").concat(j.id),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:n}).then((function(e){console.log(e),y(!1),be()("Success","","success")})).catch((function(e){return console.log(e.response)})):ge("".concat(pe.accounts,"/").concat(e.accountId,"/").concat(a),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:n}).then((function(e){y(!1),be()("Success","","success")})).catch((function(e){return console.log(e.response)})),t.preventDefault()}function L(e){var t=Object(u.a)({},j);t[e.target.name]=e.target.value,b(t)}function M(){s.goBack()}return Object(a.useEffect)((function(){return b(e.information),O(e.role),C(e.disabled),ce.a.get("https://provinces.open-api.vn/api/p/").then((function(e){return z(e.data)})).catch((function(e){return console.log(e)})),lt.ValidatorForm.addValidationRule("isPhoneNumber",(function(e){return new RegExp("(84|0[3|5|7|8|9])+([0-9]{8})\\b").test(e)})),lt.ValidatorForm.addValidationRule("isCardNumber",(function(e){return new RegExp(/^(\d{9}|\d{12})$/).test(e)})),function(){lt.ValidatorForm.removeValidationRule("isPhoneNumber"),lt.ValidatorForm.removeValidationRule("isCardNumber")}}),[]),Object(a.useEffect)((function(){if(b(e.information),O(e.role),B(e.information?e.information.dateOfBirth:new Date),k){document.querySelector("#formAccount").style.cursor="not-allowed";var t=document.querySelector("#formAccount");Array.from(t.elements).forEach((function(e){return e.disabled=!0}))}else{document.querySelector("#formAccount").style.cursor="default";var n=document.querySelector("#formAccount");Array.from(n.elements).forEach((function(e){return e.disabled=!1}))}}),[e.information,e.role,k]),Object(a.useEffect)((function(){if(C(e.disabled),k){document.querySelector("#formAccount").style.cursor="not-allowed";var t=document.querySelector("#formAccount");Array.from(t.elements).forEach((function(e){return e.disabled=!0}))}else{document.querySelector("#formAccount").style.cursor="default";var n=document.querySelector("#formAccount");Array.from(n.elements).forEach((function(e){return e.disabled=!1}))}}),[e.disabled]),Object(oe.jsx)("div",{className:v?i.formLoading:"",children:"ROLE_ADMIN"===(null===(t=e.role)||void 0===t?void 0:t.name)||"ROLE_DOCTOR"===(null===(n=e.role)||void 0===n?void 0:n.name)||"ROLE_EMPLOYEE"===(null===(c=e.role)||void 0===c?void 0:c.name)?Object(oe.jsxs)(lt.ValidatorForm,{id:"formAccount",onSubmit:E,children:[Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsx)(Ae.a,{item:!0,xs:12,children:Object(oe.jsx)("h3",{children:"INFORMATION"})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"First name *",onChange:L,name:"firstName",validators:["required"],errorMessages:["this field is required"],value:(null===j||void 0===j?void 0:j.firstName)||""})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"Last name *",onChange:L,name:"lastName",validators:["required"],errorMessages:["this field is required"],value:(null===j||void 0===j?void 0:j.lastName)||""})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"Gender *",onChange:L,name:"gender",validators:["required"],errorMessages:["this field is required"],value:(null===j||void 0===j?void 0:j.gender)||""})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(Ee.a,{theme:Bt,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{style:{width:200},color:"primary",label:"DOB *",format:"dd-MM-yyyy",onChange:function(e){return B(e)},name:"dateOfBirth",value:A})})})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"Email *",onChange:L,name:"email",validators:["required","isEmail"],errorMessages:["this field is required","invalid email"],value:(null===j||void 0===j?void 0:j.email)||""})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"Phone *",onChange:L,name:"phone",validators:["required","isPhoneNumber"],errorMessages:["this field is required","invalid phone number"],value:(null===j||void 0===j?void 0:j.phone)||""})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"Card number *",onChange:L,name:"idCardNumber",validators:["required","isCardNumber"],errorMessages:["this field is required","invalid card number"],value:(null===j||void 0===j?void 0:j.idCardNumber)||""})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"Address *",onChange:L,name:"address",validators:["required"],errorMessages:["this field is required"],value:(null===j||void 0===j?void 0:j.address)||""})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(ze.a,{variant:"outlined",children:Object(oe.jsx)(lt.SelectValidator,{style:{width:195,textAlign:"left"},name:"hometown",label:"Hometown *",value:(null===j||void 0===j?void 0:j.hometown)||"",onChange:L,validators:["required"],errorMessages:["this field is required"],children:T&&T.map((function(e){return Object(oe.jsx)(Ye.a,{value:e.name,children:e.name})}))})})})]}),Object(oe.jsx)("br",{}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px"},title:(null===j||void 0===j?void 0:j.id)?"Save":"Create",type:"submit",color:"darkPrimary"}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 10px"},onClick:M,title:"Go Back",color:"darkSecondary"})]}):"ROLE_USER"===(null===(r=e.role)||void 0===r?void 0:r.name)?Object(oe.jsxs)(lt.ValidatorForm,{id:"formAccount",onSubmit:E,children:[Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsx)(Ae.a,{item:!0,xs:12,children:Object(oe.jsx)("h3",{children:"INFORMATION"})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"First name *",onChange:L,name:"firstName",validators:["required"],errorMessages:["this field is required"],value:(null===j||void 0===j?void 0:j.firstName)||""})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"Last name *",onChange:L,name:"lastName",validators:["required"],errorMessages:["this field is required"],value:(null===j||void 0===j?void 0:j.lastName)||""})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"Gender *",onChange:L,name:"gender",validators:["required"],errorMessages:["this field is required"],value:(null===j||void 0===j?void 0:j.gender)||""})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(Ee.a,{theme:Bt,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{style:{width:200},color:"primary",label:"DOB *",format:"dd-MM-yyyy",onChange:function(e){return B(e)},name:"dateOfBirth",value:A})})})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"Email *",onChange:L,name:"email",validators:["required","isEmail"],errorMessages:["this field is required","invalid email"],value:(null===j||void 0===j?void 0:j.email)||""})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"Phone *",onChange:L,name:"phone",validators:["required","isPhoneNumber"],errorMessages:["this field is required","invalid phone number"],value:(null===j||void 0===j?void 0:j.phone)||""})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{label:"Address *",onChange:L,name:"address",validators:["required"],errorMessages:["this field is required"],value:(null===j||void 0===j?void 0:j.address)||""})})]}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px"},title:(null===j||void 0===j?void 0:j.id)?"Save":"Create",type:"submit",color:"darkPrimary"}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 10px"},onClick:M,title:"Go Back",color:"darkSecondary"})]}):""})}var Dt=n(281),Tt=n.n(Dt),zt=n(283),Et=n.n(zt),Lt=n(282),Mt=n.n(Lt),_t=Object(j.a)({info:{marginTop:30,fontSize:16,textAlign:"center","& p":{borderRadius:10,background:"#e1f5fe",color:"black",width:"50%",margin:"0 auto",marginBottom:15,padding:10}},form:{background:"white",textAlign:"center",paddingTop:"30px !important"},formLoading:{background:"white",textAlign:"center",paddingTop:"30px !important",opacity:.5,pointerEvents:"none",backgroundImage:'url("https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/6d391369321565.5b7d0d570e829.gif")',backgroundSize:"cover",backgroundPosition:"center"},formAccountLoading:{opacity:.5,pointerEvents:"none",backgroundImage:'url("https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/6d391369321565.5b7d0d570e829.gif")',backgroundSize:"cover",backgroundPosition:"center"}}),Rt=Object(Ie.b)({palette:{primary:{main:"#e1f5fe"}}});function Vt(e){var t=Object(d.h)().accountId,n=Object(a.useState)(null),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(null),l=Object(o.a)(s,2),h=l[0],j=l[1],b=Object(a.useState)([]),p=Object(o.a)(b,2),g=p[0],m=p[1],O=Object(a.useState)(null),f=Object(o.a)(O,2),x=f[0],v=f[1],y=Object(a.useState)(!1),w=Object(o.a)(y,2),S=w[0],k=w[1],C=Object(a.useState)(!1),N=Object(o.a)(C,2),I=N[0],A=N[1],B=_t(),P=Object(d.g)(),D=Object(a.useContext)(yc),T=function(){var e=Object(We.a)(Ue.a.mark((function e(){var n,a;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.get("".concat(pe.accounts,"/").concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return i(e.data),e.data.role_id})).catch((function(e){var t,n;if(401===(null===(t=e.response)||void 0===t?void 0:t.status))window.confirm("Login expired! Please login again.")&&P.push(xe);else if(404===(null===(n=e.response)||void 0===n?void 0:n.status)){var a,c;be()(null===(a=e.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message,"","error").then((function(e){return P.goBack()}))}}));case 2:return n=e.sent,e.next=5,ge.get("".concat(pe.roles,"/").concat(n),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return j(e.data),"ROLE_ADMIN"===e.data.name?"admins":"ROLE_DOCTOR"===e.data.name?"doctors":"ROLE_EMPLOYEE"===e.data.name?"employees":"patients"})).catch((function(e){var t,n;if(401===(null===(t=e.response)||void 0===t?void 0:t.status))window.confirm("Login expired! Please login again.")&&P.push(xe);else if(404===(null===(n=e.response)||void 0===n?void 0:n.status)){var a,c;be()(null===(a=e.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message,"","error").then((function(e){return P.goBack()}))}}));case 5:return a=e.sent,e.next=8,ge.get("".concat(pe.accounts,"/").concat(t,"/").concat(a),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){v(e.data),console.log(e.data),""===e.data&&be()("This account doesn't have any information. You can enter it immediately.","","info")})).catch((function(e){var t,n;if(401===(null===(t=e.response)||void 0===t?void 0:t.status))window.confirm("Login expired! Please login again.")&&P.push(xe);else if(404===(null===(n=e.response)||void 0===n?void 0:n.status)){var a,c;be()(null===(a=e.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message,"","error").then((function(e){return P.goBack()}))}}));case 8:return e.next=10,ge.get("".concat(pe.roles),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return m(e.data.content)})).catch((function(e){return console.log(e.response)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function z(e){var t=Object(u.a)({},r);"active"===e.target.name?t[e.target.name]="true"===e.target.value:t[e.target.name]=e.target.value,i(t)}Object(a.useEffect)((function(){D.setPage(window.location.href.substring(ve)),T()}),[]);return Object(oe.jsx)(oe.Fragment,{children:h&&g&&r?Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsxs)(Ae.a,{className:S?B.formAccountLoading:"",container:!0,item:!0,xs:6,spacing:4,children:[Object(oe.jsx)("div",{style:{position:"absolute",left:713,top:65,padding:10,cursor:"pointer",borderRadius:10},onClick:function(){k(!0);var e=new FormData;e.append("username",r.username),e.append("password",r.password),e.append("image",r.image),e.append("active",r.active);var n=document.getElementById("upload-image").files[0];n&&e.append("file",n),ge("".concat(pe.roles,"/").concat(h.id,"/").concat(pe.accounts,"/").concat(t),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"Multipart/form-data"},data:e}).then((function(e){i(e.data),k(!1),A(!1),be()("Success","","success")})).catch((function(e){return console.log(e.response)}))},children:Object(oe.jsx)(Ee.a,{theme:Rt,children:Object(oe.jsx)(Tt.a,{color:"primary",style:{fontSize:40}})})}),Object(oe.jsx)("div",{style:{position:"absolute",left:673,top:65,padding:10,cursor:"pointer",borderRadius:10},onClick:function(){ge("".concat(pe.roles,"/").concat(h.id,"/accounts/").concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e.response)}))},children:Object(oe.jsx)(Ee.a,{theme:Rt,children:Object(oe.jsx)(Mt.a,{color:"primary",style:{fontSize:40}})})}),Object(oe.jsx)(Ae.a,{className:B.info,item:!0,xs:12,children:Object(oe.jsx)("p",{children:"ACCOUNT DETAILS"})}),Object(oe.jsx)(Ae.a,{item:!0,xs:4,children:Object(oe.jsxs)("div",{style:{position:"relative"},children:[Object(oe.jsx)("img",{id:"image",style:{width:"100%",border:"3px solid #afc2cb"},src:null===r||void 0===r?void 0:r.image}),Object(oe.jsxs)("label",{style:{position:"absolute",top:10,left:145},children:[Object(oe.jsx)("input",{id:"upload-image",type:"file",style:{display:"none"},onChange:function(e){var t=e.target.value.toLowerCase().endsWith(".png"),n=e.target.value.toLowerCase().endsWith(".jpg"),a=e.target.value.toLowerCase().endsWith(".jpeg"),c=e.target.value.toLowerCase().endsWith(".svg");if(t||n||a||c){var o=URL.createObjectURL(document.getElementById("upload-image").files[0]),s=document.getElementById("image");i(Object(u.a)(Object(u.a)({},r),{},{image:o})),s.onload=function(){URL.revokeObjectURL(s.src)}}else be()("Pls choose a file with valid extension","","warning"),e.target.value=""}}),Object(oe.jsx)(Et.a,{})]})]})}),Object(oe.jsxs)(Ae.a,{item:!0,xs:8,children:[Object(oe.jsxs)("p",{children:["ID: ",null===r||void 0===r?void 0:r.id]}),Object(oe.jsxs)("p",{children:["Username: ",null===r||void 0===r?void 0:r.username]}),Object(oe.jsxs)("p",{children:["Active: ",(null===r||void 0===r?void 0:r.active)?"True":"False"]}),Object(oe.jsxs)("p",{children:["Role: ",null===h||void 0===h?void 0:h.name]})]}),Object(oe.jsx)("form",{children:Object(oe.jsxs)(Ae.a,{container:!0,item:!0,xs:12,spacing:4,children:[Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsxs)(ze.a,{children:[Object(oe.jsx)(ke.a,{required:!0,id:"standard-required",label:"Username",name:"username",value:(null===r||void 0===r?void 0:r.username)||"",onChange:z}),Object(oe.jsx)("p",{className:B.error})]})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsxs)(ze.a,{children:[Object(oe.jsx)(ke.a,{type:"password",required:!0,id:"standard-required",label:"Password",name:"password",value:(null===r||void 0===r?void 0:r.password)||"",onChange:z}),Object(oe.jsx)("p",{className:B.error})]})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsxs)(ze.a,{children:[Object(oe.jsx)(yt.a,{component:"legend",children:"Active:"}),Object(oe.jsxs)(wt.a,{"aria-label":"active",name:"active",value:(null===r||void 0===r?void 0:r.active)?"true":"false",onChange:z,children:[Object(oe.jsx)(St.a,{value:"true",control:Object(oe.jsx)(kt.a,{color:"primary"}),label:"Active"}),Object(oe.jsx)(St.a,{value:"false",control:Object(oe.jsx)(kt.a,{color:"primary"}),label:"Inactive"})]})]})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsxs)(ze.a,{style:{width:150},children:[Object(oe.jsx)(yt.a,{id:"demo-simple-select-label",children:"Role:"}),Object(oe.jsx)(Ge.a,{disabled:!!x,labelId:"role",id:"role",value:h.id,onChange:function(e){ge.get("".concat(pe.roles,"/").concat(e.target.value),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){r.role_id===e.target.value?A(!1):A(!0),j(t.data)})).catch((function(e){var t,n,a;404===(null===(t=e.response)||void 0===t?void 0:t.status)&&be()(null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message,"","error")}))},children:g&&g.map((function(e){return Object(oe.jsx)(Ye.a,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name})}))})]})})]})})]}),Object(oe.jsx)(Ae.a,{className:B.form,item:!0,xs:6,children:Object(oe.jsx)(Pt,{disabled:I,information:x,accountId:r.id,role:h})})]}):""})}var Ft=Object(j.a)({root:{height:400,width:"100%",marginTop:50,background:"white"}}),qt=Object(Ie.b)({palette:{primary:{main:"#afc2cb"}}});function Ut(e){var t=Ft(),n=Object(a.useState)([]),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)([]),u=Object(o.a)(s,2),h=u[0],j=u[1],b=Object(a.useState)(),p=Object(o.a)(b,2),g=p[0],m=p[1],O=Object(a.useState)(0),f=Object(o.a)(O,2),x=f[0],v=f[1],y=Object(a.useState)(!0),w=Object(o.a)(y,2),S=w[0],k=w[1],C=Object(a.useContext)(yc),N=Object(d.g)(),I=[{field:"id",hide:!0},{field:"account_id",hide:!0},{field:"image",headerName:"Avatar",width:120,renderCell:function(e){var t=e.getValue(e.id,"account_id"),n=h.filter((function(e){return e.id===t})),a="/accounts/".concat(t);return Object(oe.jsx)(l.b,{style:{textDecoration:"none",color:"black",width:"100%"},to:a,children:Object(oe.jsx)("img",{style:{width:"70%",height:"55px",padding:"5px",marginTop:20},src:n[0]?n[0].image:""})})}},{field:"firstName",headerName:"First Name",width:200},{field:"lastName",headerName:"Last Name",width:200},{field:"gender",headerName:"Gender",width:150},{field:"dateOfBirth",headerName:"DOB",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:qt,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"dateOfBirth")})})})}},{field:"phone",headerName:"Phone",width:200},{field:"email",headerName:"Email",width:200},{field:"joinDate",headerName:"Join Date",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:qt,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"joinDate")})})})}},{field:"idCardNumber",headerName:"Card Number",width:200},{field:"address",headerName:"Address",width:200},{field:"hometown",headerName:"Hometown",width:200},{field:"action",headerName:" ",width:150,align:"center",renderCell:function(e){return Object(oe.jsx)(se,{onClick:function(){var t=e.getValue(e.id,"id"),n=e.getValue(e.id,"account_id"),a=h.filter((function(e){return e.id===n}));be()({title:"Are you sure to delete?",icon:"warning",buttons:{cancel:"Cancel",inactive:{text:"Inactivate",value:"inactive"},delete:{text:"Delete anyway",value:"delete"}}}).then((function(e){switch(e){case"inactive":var c=new FormData;return c.append("username",a[0].username),c.append("password",a[0].password),c.append("image",a[0].image),c.append("active",!1),ge("".concat(pe.roles,"/").concat(a[0].role_id,"/accounts/").concat(n),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"multipart/form-data"},data:c});case"delete":return ge("".concat(pe.accounts,"/").concat(n,"/admins/").concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}})).then((function(e){var t,n;200===(null===e||void 0===e?void 0:e.status)&&("put"===(null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.method)?be()("Inactivated","","success"):"delete"===(null===e||void 0===e||null===(n=e.config)||void 0===n?void 0:n.method)&&(be()("Deleted","","success"),A("?p="+(x+1))))})).catch((function(e){var t;console.log(e.response),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),N.push(xe))}))},color:"primary",title:"Delete"})}}],A=function(){var e=Object(We.a)(Ue.a.mark((function e(){var t,n,a,c,r,o=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"?p=1",k(!0),e.next=4,ge.get("".concat(pe.admins).concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return i(e.data.content),m(e.data.totalElements),v(e.data.number),k(!1),e.data.content.map((function(e){return e.account_id}))})).catch((function(e){return console.log(e.response)}));case 4:for(n=e.sent,a=[],c=[],r=0;r<n.length;r++)a.push(ge.get("".concat(pe.accounts,"/").concat(n[r]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c.push(e.data)})));Promise.all(a).then((function(){return j(c)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){A(),C.setPage(window.location.href.substring(ve))}),[]),Object(oe.jsx)("div",{className:t.root,children:S?Object(oe.jsx)("img",{style:{width:"100%",height:600},src:"/clinic-admin/images/loading.gif"}):Object(oe.jsx)(fe,{header:"LIST ADMIN",rows:r,columns:I,pageSize:7,createURL:"",server:!0,btnTitle:"",rowCount:g,handlePageChange:function(e){A("?p=".concat(e+1)),v(e)},currentPage:x})})}var Wt=n(171),Gt=Object(j.a)({root:{height:400,width:"100%",marginTop:50,background:"white"}}),Yt=Object(Ie.b)({palette:{primary:{main:Wt.a.A400}}});function Ht(){var e=Gt(),t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(0),s=Object(o.a)(i,2),u=s[0],h=s[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),p=b[0],g=b[1],m=Object(a.useState)([]),O=Object(o.a)(m,2),f=O[0],x=O[1],v=Object(a.useState)(!0),y=Object(o.a)(v,2),w=y[0],S=y[1],k=Object(a.useContext)(yc),C=Object(d.g)(),N=[{field:"id",hide:!0},{field:"account_id",hide:!0},{field:"image",headerName:"Avatar",width:120,renderCell:function(e){var t=e.getValue(e.id,"account_id"),n=f.filter((function(e){return e.id===t})),a="/accounts/".concat(t);return Object(oe.jsx)(l.b,{style:{textDecoration:"none",color:"black",width:"100%"},to:a,children:Object(oe.jsx)("img",{style:{width:"70%",height:"55px",padding:"5px",marginTop:20},src:n[0]?n[0].image:""})})}},{field:"firstName",headerName:"First Name",width:200},{field:"lastName",headerName:"Last Name",width:200},{field:"gender",headerName:"Gender",width:150},{field:"dateOfBirth",headerName:"DOB",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:Yt,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"dateOfBirth")})})})}},{field:"phone",headerName:"Phone",width:200},{field:"email",headerName:"Email",width:200},{field:"joinDate",headerName:"Join Date",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:Yt,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"joinDate")})})})}},{field:"idCardNumber",headerName:"Card Number",width:200},{field:"address",headerName:"Address",width:200},{field:"hometown",headerName:"Hometown",width:200},{field:"action",headerName:" ",width:150,align:"center",renderCell:function(e){return Object(oe.jsx)(se,{onClick:function(){var t=e.getValue(e.id,"id"),n=e.getValue(e.id,"account_id"),a=f.filter((function(e){return e.id===n}));be()({title:"Are you sure to delete?",icon:"warning",buttons:{cancel:"Cancel",inactive:{text:"Inactivate",value:"inactive"},delete:{text:"Delete anyway",value:"delete"}}}).then((function(e){switch(e){case"inactive":var c=new FormData;return c.append("username",a[0].username),c.append("password",a[0].password),c.append("image",a[0].image),c.append("active",!1),ge("".concat(pe.roles,"/").concat(a[0].role_id,"/accounts/").concat(n),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"multipart/form-data"},data:c});case"delete":return ge("".concat(pe.accounts,"/").concat(n,"/doctors/").concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}})).then((function(e){var t,n;200===(null===e||void 0===e?void 0:e.status)&&("put"===(null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.method)?be()("Inactivated","","success"):"delete"===(null===e||void 0===e||null===(n=e.config)||void 0===n?void 0:n.method)&&(be()("Deleted","","success"),I("?p="+(c+1))))})).catch((function(e){var t;console.log(e.response),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),C.push(xe))}))},color:"primary",title:"Delete"})}}],I=function(){var e=Object(We.a)(Ue.a.mark((function e(){var t,n,a,c,i,o=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"?p=1",S(!0),e.next=4,ge.get("".concat(pe.doctors).concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return g(e.data.content),r(e.data.number),h(e.data.totalElements),S(!1),e.data.content.map((function(e){return e.account_id}))})).catch((function(e){return console.log(e.response)}));case 4:for(n=e.sent,a=[],c=[],i=0;i<n.length;i++)a.push(ge.get("".concat(pe.accounts,"/").concat(n[i]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c.push(e.data)})));Promise.all(a).then((function(){return x(c)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){I(),k.setPage(window.location.href.substring(ve))}),[]),Object(oe.jsx)("div",{className:e.root,children:w?Object(oe.jsx)("img",{style:{width:"100%",height:600},src:"/clinic-admin/images/loading.gif"}):Object(oe.jsx)(fe,{header:"LIST DOCTOR",rows:p,columns:N,pageSize:7,createURL:"",server:!0,btnTitle:"",rowCount:u,handlePageChange:function(e){I("?p=".concat(e+1)),r(e)},currentPage:c})})}var Jt=Object(j.a)({root:{height:400,width:"100%",marginTop:50,background:"white"}}),$t=Object(Ie.b)({palette:{primary:{main:Wt.a.A400}}});function Qt(){var e=Jt(),t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(o.a)(i,2),u=s[0],h=s[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),p=b[0],g=b[1],m=Object(a.useState)(0),O=Object(o.a)(m,2),f=O[0],x=O[1],v=Object(a.useState)(0),y=Object(o.a)(v,2),w=y[0],S=y[1],k=Object(a.useContext)(yc),C=Object(d.g)(),N=[{field:"id",hide:!0},{field:"account_id",hide:!0},{field:"image",headerName:"Avatar",width:120,renderCell:function(e){var t=e.getValue(e.id,"account_id"),n=p.filter((function(e){return e.id===t})),a="/accounts/".concat(t);return Object(oe.jsx)(l.b,{style:{textDecoration:"none",color:"black",width:"100%"},to:a,children:Object(oe.jsx)("img",{style:{width:"70%",height:"55px",padding:"5px",marginTop:20},src:n[0]?n[0].image:""})})}},{field:"firstName",headerName:"First Name",width:200},{field:"lastName",headerName:"Last Name",width:200},{field:"gender",headerName:"Gender",width:150},{field:"dateOfBirth",headerName:"DOB",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:$t,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"dateOfBirth")})})})}},{field:"phone",headerName:"Phone",width:200},{field:"email",headerName:"Email",width:200},{field:"joinDate",headerName:"Join Date",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:$t,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"joinDate")})})})}},{field:"idCardNumber",headerName:"Card Number",width:200},{field:"address",headerName:"Address",width:200},{field:"hometown",headerName:"Hometown",width:200},{field:"action",headerName:" ",width:150,align:"center",renderCell:function(e){return Object(oe.jsx)(se,{onClick:function(){var t=e.getValue(e.id,"id"),n=e.getValue(e.id,"account_id"),a=p.filter((function(e){return e.id===n}));be()({title:"Are you sure to delete?",icon:"warning",buttons:{cancel:"Cancel",inactive:{text:"Inactivate",value:"inactive"},delete:{text:"Delete anyway",value:"delete"}}}).then((function(e){switch(e){case"inactive":var c=new FormData;return c.append("username",a[0].username),c.append("password",a[0].password),c.append("image",a[0].image),c.append("active",!1),ge("".concat(pe.roles,"/").concat(a[0].role_id,"/accounts/").concat(n),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"multipart/form-data"},data:c});case"delete":return ge("".concat(pe.accounts,"/").concat(n,"/employees/").concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}})).then((function(e){var t,n;200===(null===e||void 0===e?void 0:e.status)&&("put"===(null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.method)?be()("Inactivated","","success"):"delete"===(null===e||void 0===e||null===(n=e.config)||void 0===n?void 0:n.method)&&(be()("Deleted","","success"),I("?p="+(f+1))))})).catch((function(e){var t;console.log(e.response),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),C.push(xe))}))},color:"primary",title:"Delete"})}}],I=function(){var e=Object(We.a)(Ue.a.mark((function e(){var t,n,a,c,i,o=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"?p=1",r(!0),e.next=4,ge.get("".concat(pe.employees).concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return h(e.data.content),x(e.data.number),S(e.data.totalElements),r(!1),e.data.content.map((function(e){return e.account_id}))})).catch((function(e){return console.log(e.response)}));case 4:for(n=e.sent,a=[],c=[],i=0;i<n.length;i++)a.push(ge.get("".concat(pe.accounts,"/").concat(n[i]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c.push(e.data)})));Promise.all(a).then((function(){return g(c)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){I(),k.setPage(window.location.href.substring(ve))}),[]),Object(oe.jsx)("div",{className:e.root,children:c?Object(oe.jsx)("img",{style:{width:"100%",height:600},src:"/clinic-admin/images/loading.gif"}):Object(oe.jsx)(fe,{header:"LIST EMPLOYEE",rows:u,columns:N,pageSize:7,createURL:"",server:!0,btnTitle:"",rowCount:w,handlePageChange:function(e){I("?p=".concat(e+1)),x(e)},currentPage:f})})}var Xt=n(552),Kt=Object(Ie.b)({palette:{primary:{main:"#afc2cb"}}}),Zt=Object(Qe.a)({root:{marginTop:60},background:{backgroundColor:"#f5f5f5"},form:{background:"white"},info:{fontFamily:"monospace"}}),en=c.a.forwardRef((function(e,t){return Object(oe.jsx)(Xt.a,Object(u.a)({direction:"up",ref:t},e))}));function tn(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(o.a)(i,2),l=s[0],u=s[1],h=Object(a.useState)(0),j=Object(o.a)(h,2),b=j[0],p=j[1],g=Object(a.useState)(0),m=Object(o.a)(g,2),O=m[0],f=m[1],x=Object(a.useState)(!1),v=Object(o.a)(x,2),w=v[0],S=v[1],k=Object(a.useState)(!1),C=Object(o.a)(k,2),N=C[0],I=C[1],A=Object(a.useState)(!1),B=Object(o.a)(A,2),P=B[0],D=B[1],T=Object(a.useState)(),z=Object(o.a)(T,2),E=z[0],L=z[1],M=Object(a.useState)(),_=Object(o.a)(M,2),R=_[0],V=_[1],F=Object(a.useState)(),q=Object(o.a)(F,2),U=q[0],W=q[1],G=Object(a.useState)(),Y=Object(o.a)(G,2),H=Y[0],J=Y[1],$=Object(a.useState)(),Q=Object(o.a)($,2),X=Q[0],K=Q[1],Z=Object(a.useState)(),ee=Object(o.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),ce=Object(o.a)(ae,2),re=ce[0],ie=ce[1],le=Zt(),de=Object(d.g)(),ue=[{field:"id",hide:!0},{field:"account_id",hide:!0},{field:"firstName",headerName:"First Name",width:200},{field:"lastName",headerName:"Last Name",width:200},{field:"gender",headerName:"Gender",width:150},{field:"dateOfBirth",headerName:"DOB",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:Kt,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"dateOfBirth")})})})}},{field:"phone",headerName:"Phone",width:200},{field:"email",headerName:"Email",width:200},{field:"joinDate",headerName:"Join Date",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:Kt,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"joinDate")})})})}},{field:"idCardNumber",headerName:"Card Number",width:200},{field:"address",headerName:"Address",width:200},{field:"hometown",headerName:"Hometown",width:200}];function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"?p=1";ge.get("".concat(pe.doctors,"/active").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),p(e.data.number),f(e.data.totalElements),r(e.data.content)})).catch((function(e){return console.log(e.response)}))}function je(e){document.querySelector("#grid").style.opacity="1",S(!1),I(!1),ie(!1),L(U?U.id:""),V(H?H.id:"")}function me(){return(me=Object(We.a)(Ue.a.mark((function e(){var t;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=12;break}if(E){e.next=4;break}return be()("Please choose a doctor","","warning"),e.abrupt("return");case 4:return e.next=6,ge.get("".concat(pe.doctors,"/").concat(E),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return W(e.data),e.data.account_id})).catch((function(e){return console.log(e.response)}));case 6:return t=e.sent,e.next=9,ge.get("".concat(pe.accounts,"/").concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return K(e.data)})).catch((function(e){return console.log(e.response)}));case 9:S(!1),e.next=18;break;case 12:if(!N){e.next=18;break}if(R){e.next=16;break}return be()("Please choose a shift","","warning"),e.abrupt("return");case 16:ge.get("".concat(pe.shifts,"/").concat(R),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return J(e.data)})).catch((function(e){return console.log(e.response)})),I(!1);case 18:document.querySelector("#grid").style.opacity="1",ie(!1);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){w?L(e):N&&V(e)}function xe(e){var t=e.target.parentElement.id;"doctor"===t?(S(!0),I(!1),D(!1),ie(!0)):"shift"===t?(S(!1),D(!1),I(!0),ie(!0)):"date"===t&&(S(!1),I(!1),D(!0)),document.querySelector("#grid").style.opacity="0.5"}return Object(a.useEffect)((function(){he(),ge.get("".concat(pe.shifts),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){u(e.data.content)})).catch((function(e){return console.log(e.response)}))}),[]),Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(Ae.a,{id:"grid",className:le.root,container:!0,spacing:4,children:[Object(oe.jsx)(Ae.a,{className:le.background,item:!0,xs:6,children:Object(oe.jsx)("img",{src:"/clinic-admin/images/gui6.svg",width:"100%",height:"500"})}),Object(oe.jsx)(Ae.a,{className:le.form,item:!0,xs:6,children:Object(oe.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),U)if(H)if(te){var t=new Date(te);ge("".concat(pe.doctors,"/").concat(E,"/shifts/").concat(R,"/schedules"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{date:t}}).then((function(e){201===e.status&&be()("Success","","success")})).catch((function(e){500===e.response.status?be()("Schedule is duplicated in database","","error"):404===e.response.status&&be()(e.response.data.message,"","error")}))}else be()("Please choose a date","","warning");else be()("Please choose a shift","","warning");else be()("Please choose a doctor","","warning")},children:[U&&X?Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsx)(Ae.a,{item:!0,xs:4,children:Object(oe.jsx)("img",{width:"100%",height:150,src:X.image})}),Object(oe.jsxs)(Ae.a,{item:!0,xs:8,className:le.info,children:[Object(oe.jsxs)("p",{children:["Full name: ",U.lastName+" "+U.firstName]}),Object(oe.jsxs)("p",{children:["Phone: ",U.phone]}),Object(oe.jsxs)("p",{children:["Email: ",U.email]})]})]}):"",H||te?Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsx)(Ae.a,{item:!0,xs:4,children:Object(oe.jsx)("img",{width:"100%",height:150,src:"/clinic-admin/images/gui5.svg"})}),Object(oe.jsxs)(Ae.a,{item:!0,xs:8,className:le.info,children:[H?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("p",{children:["Shift name: ",H.name]}),Object(oe.jsxs)("p",{children:["Shift description: ",H.description]})]}):"",te?Object(oe.jsxs)("p",{children:["Date: ","".concat(te.getDate()," - ").concat(te.getMonth()+1," -\n                                ").concat(te.getYear()+1900)]}):""]})]}):"",Object(oe.jsx)(se,{id:"doctor",style:{margin:"10px 10px 0px 70px"},title:"Choose a doctor",color:"primary",onClick:xe}),Object(oe.jsx)(se,{id:"shift",style:{margin:"10px 10px 0px 0px"},title:"Choose a shift",color:"primary",onClick:xe}),Object(oe.jsx)(se,{id:"date",style:{margin:"10px 10px 0px 0px"},title:"Choose a date",color:"primary",onClick:xe}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px",position:"absolute",top:610,right:75},title:"Save",color:"darkSecondary",type:"submit"}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px",position:"absolute",top:610,right:620},title:"Go Back",color:"darkSecondary",onClick:function(){de.goBack()}})]})})]}),Object(oe.jsxs)(rt.a,{fullScreen:!0,open:re,TransitionComponent:en,keepMounted:!0,onClose:je,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(oe.jsxs)(it.a,{id:"alert-dialog-slide-title",children:[Object(oe.jsx)(y.a,{edge:"start",color:"inherit",onClick:je,"aria-label":"close",children:Object(oe.jsx)(ut.a,{})}),w?"Choose a doctor":"Choose a shift",Object(oe.jsx)(y.a,{style:{position:"absolute",right:15},onClick:function(){return me.apply(this,arguments)},"aria-label":"save",children:Object(oe.jsx)(jt.a,{})})]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{id:"alert-dialog-slide-description",children:Object(oe.jsx)(Ae.a,{container:!0,spacing:4,children:Object(oe.jsx)(Ae.a,{item:!0,xs:12,style:{marginTop:10},children:w?Object(oe.jsx)(fe,{rows:c,columns:ue,btnTitle:"",createURL:"",header:"",handleSelectionChange:Oe,rowCount:O,currentPage:b,pageSize:7,handlePageChange:function(e){he("?p=".concat(e+1)),p(e)},server:!0}):N?Object(oe.jsx)(fe,{rows:l,columns:[{field:"id",headerName:"ID",width:150},{field:"name",headerName:"Name",width:300},{field:"description",headerName:"Description",width:500},{field:"active",headerName:"Active",width:150,type:"boolean"}],btnTitle:"",createURL:"",header:"",handleSelectionChange:Oe}):""})})})})]}),Object(oe.jsx)(Ee.a,{theme:Kt,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{style:{width:200,display:"none"},color:"primary",label:"DOB *",format:"dd-MM-yyyy",open:P,onClose:function(){document.querySelector("#grid").style.opacity="1",D(!1)},onChange:function(e){ne(e)},value:te,minDate:new Date,name:"dateOfBirth"})})})]})}var nn=n(20),an=n(603),cn=n(284),rn=n.n(cn),on=Object(j.a)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{width:"100%"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)},playIcon:{height:38,width:38}}})),sn=Object(Ie.b)({palette:{primary:{main:"#e1f5fe"}}}),ln=c.a.forwardRef((function(e,t){return Object(oe.jsx)(Xt.a,Object(u.a)({direction:"up",ref:t},e))}));function dn(){var e,t=on(),n=Object(a.useState)(!0),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)([]),d=Object(o.a)(s,2),u=d[0],h=d[1],j=Object(a.useState)(0),b=Object(o.a)(j,2),p=b[0],g=b[1],m=Object(a.useState)(0),O=Object(o.a)(m,2),f=O[0],y=O[1],w=Object(a.useState)(0),S=Object(o.a)(w,2),k=S[0],C=S[1],N=Object(a.useState)(0),I=Object(o.a)(N,2),A=I[0],B=I[1],P=Object(a.useState)([]),D=Object(o.a)(P,2),T=D[0],z=D[1],E=Object(a.useState)([]),L=Object(o.a)(E,2),M=L[0],_=L[1],R=Object(a.useState)(),V=Object(o.a)(R,2),F=V[0],q=V[1],U=Object(a.useState)(!1),W=Object(o.a)(U,2),G=W[0],Y=W[1],H=Object(a.useState)(),J=Object(o.a)(H,2),$=J[0],Q=J[1],X=Object(a.useState)(),K=Object(o.a)(X,2),Z=K[0],ee=K[1],te=Object(a.useContext)(yc),ne=function(){var e=Object(We.a)(Ue.a.mark((function e(){var t,n,a,c,r,o,s=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"?p=1",i(!0),n="n=6",e.next=5,ge.get("".concat(pe.doctors).concat(t,"&").concat(n),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return z(e.data.content),C(e.data.number),B(e.data.totalPages),e.data.content.map((function(e){return e.account_id}))})).catch((function(e){return console.log(e.response)}));case 5:for(a=e.sent,c=[],r=[],o=0;o<a.length;o++)c.push(ge.get("".concat(pe.accounts,"/").concat(a[o]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return r.push(e.data)})).catch((function(e){return e.response})));Promise.all(c).then((function(){_(r),i(!1)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var ae=function(){var e=Object(We.a)(Ue.a.mark((function e(){var t,n,a,c,r,i,o,s=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"?p=1",n=s.length>1?s[1]:void 0,a=s.length>2?s[2]:void 0,Q(a),ee(n),Y(!0),e.next=8,ge.get("".concat(pe.doctors,"/").concat(n,"/schedules").concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return h(e.data.content),g(e.data.number),y(e.data.totalPages),Object(nn.a)(new Set(e.data.content.map((function(e){return e.shift_id}))))})).catch((function(e){return console.log(e.response)}));case 8:for(c=e.sent,r=[],i=[],o=0;o<(null===c||void 0===c?void 0:c.length);o++)r.push(ge.get("".concat(pe.shifts,"/").concat(c[o]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return i.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(r).then((function(){return q(i)}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){ne(),te.setPage(window.location.href.substring(ve))}),[]),Object(oe.jsx)(Ae.a,{container:!0,spacing:4,children:r?Object(oe.jsx)("img",{style:{width:"100%",height:600},src:"/clinic-admin/images/loading.gif"}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(x.a,{variant:"h5",style:{background:"#e1f5fe",width:"20%",textAlign:"center",margin:"40px auto auto 15px"},children:"LIST SCHEDULE"}),Object(oe.jsxs)(Ae.a,{style:{marginTop:20},container:!0,item:!0,xs:12,spacing:4,children:[Object(oe.jsx)(Ae.a,{item:!0,xs:4,children:Object(oe.jsx)(Ge.a,{variant:"outlined",value:"0",children:Object(oe.jsx)(Ye.a,{value:"0",children:"Choose a date"})})}),Object(oe.jsx)(Ae.a,{item:!0,xs:4,children:Object(oe.jsx)(Ge.a,{variant:"outlined",value:"0",children:Object(oe.jsx)(Ye.a,{value:"0",children:"Choose a doctor"})})}),Object(oe.jsx)(Ae.a,{item:!0,xs:4,children:Object(oe.jsx)(Ge.a,{variant:"outlined",value:"0",children:Object(oe.jsx)(Ye.a,{value:"0",children:"Choose a shift"})})}),T&&T.map((function(e){var n=M.filter((function(t){return t.id===e.account_id}));return Object(oe.jsx)(Ae.a,{item:!0,xs:4,children:Object(oe.jsxs)(Be.a,{className:t.root,children:[Object(oe.jsxs)("div",{className:t.details,children:[Object(oe.jsxs)(Te.a,{className:t.content,children:[Object(oe.jsx)(x.a,{component:"h5",variant:"h5",children:e.firstName+" "+e.lastName}),Object(oe.jsx)(x.a,{variant:"subtitle2",color:"textSecondary",children:e.phone}),Object(oe.jsx)(x.a,{variant:"subtitle2",color:"textSecondary",children:e.email})]}),Object(oe.jsx)("div",{className:t.controls,children:Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px"},title:"View Details",color:"primary",onClick:function(){return ae("?p=1",e.id,n[0].image)}})})]}),Object(oe.jsx)(De.a,{className:t.cover,image:n[0].image,title:"Avatar"})]})})})),Object(oe.jsxs)(rt.a,{open:G,TransitionComponent:ln,keepMounted:!0,onClose:function(){Y(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(oe.jsx)(it.a,{id:"alert-dialog-slide-title",children:"Schedule Details"}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{id:"alert-dialog-slide-description",children:Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsx)(Ae.a,{item:!0,xs:6,style:{marginTop:100},children:Object(oe.jsx)(l.b,{to:"/accounts/".concat(null===(e=M.filter((function(e){return e.image===$}))[0])||void 0===e?void 0:e.id),children:Object(oe.jsx)("img",{width:"100%",src:$})})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:u&&F&&u.map((function(e){var t,n,a=F.filter((function(t){return t.id===e.shift_id})),c=new Date(e.date);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(Ae.a,{item:!0,xs:12,children:[Object(oe.jsx)(rn.a,{style:{color:"#afc2cb",position:"absolute",right:35}}),Object(oe.jsxs)("p",{children:["Shift name: ",null===(t=a[0])||void 0===t?void 0:t.name]}),Object(oe.jsxs)("p",{children:["Shift description: ",null===(n=a[0])||void 0===n?void 0:n.description]}),Object(oe.jsxs)("p",{children:["Date: ","".concat(c.getDate(),"-").concat(c.getMonth()+1,"-").concat(c.getFullYear())]})]}),Object(oe.jsx)(v.a,{})]})}))})]})})}),Object(oe.jsx)(an.a,{children:Object(oe.jsx)(Ee.a,{theme:sn,children:Object(oe.jsx)(Le.a,{color:"primary",className:t.pagination,page:p+1,count:f,showFirstButton:!0,showLastButton:!0,onChange:function(e,t){return function(e,t,n,a){ae("?p=".concat(t),n,a),g(t-1)}(0,t,Z,$)}})})})]})]}),Object(oe.jsx)(Ee.a,{theme:sn,children:Object(oe.jsx)(Le.a,{color:"primary",className:t.pagination,style:{position:"absolute",top:660,left:"45%"},page:k+1,count:A,showFirstButton:!0,showLastButton:!0,onChange:function(e,t){return ne("?p=".concat(n=t)),void C(n-1);var n}})}),Object(oe.jsx)(l.b,{to:"/schedules/create",style:{textDecoration:"none",position:"fixed",top:100,right:-1},children:Object(oe.jsx)(re.a,{variant:"contained",style:{marginLeft:15,marginTop:15,background:"#e1f5fe",color:"black"},children:"Create"})})]})})}var un=n(605),hn=n(107),jn=n(606),bn=n(607),pn=n(608),gn=n(591),mn=n(609),On=n(166),fn=n.n(On),xn=Object(j.a)({root:{height:400,width:"100%",marginTop:50,background:"white"},loading:{opacity:.5,pointerEvents:"none",backgroundImage:'url("https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/6d391369321565.5b7d0d570e829.gif")',backgroundSize:"cover",backgroundPosition:"center"}}),vn=Object(Ie.b)({palette:{primary:{main:"#afc2cb"}}}),yn=c.a.forwardRef((function(e,t){return Object(oe.jsx)(Xt.a,Object(u.a)({direction:"up",ref:t},e))}));function wn(){var e,t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),l=Object(o.a)(i,2),d=l[0],h=l[1],j=Object(a.useState)(0),b=Object(o.a)(j,2),p=b[0],g=b[1],m=Object(a.useState)(0),O=Object(o.a)(m,2),f=O[0],x=O[1],v=Object(a.useState)([]),w=Object(o.a)(v,2),S=w[0],k=w[1],C=Object(a.useState)([]),N=Object(o.a)(C,2),I=N[0],A=N[1],B=Object(a.useState)([]),P=Object(o.a)(B,2),D=P[0],T=P[1],z=Object(a.useState)([]),E=Object(o.a)(z,2),L=E[0],M=E[1],_=Object(a.useState)(!1),R=Object(o.a)(_,2),V=R[0],F=R[1],q=Object(a.useState)(!1),U=Object(o.a)(q,2),W=U[0],G=U[1],Y=Object(a.useState)(!1),H=Object(o.a)(Y,2),J=H[0],$=H[1],Q=xn(),X=Object(a.useRef)(),K=Object(a.useState)(),Z=Object(o.a)(K,2),ee=Z[0],te=Z[1],ne=Object(a.useContext)(yc),ae=Object(a.useState)(!1),ce=Object(o.a)(ae,2),re=ce[0],ie=ce[1],le=[{field:"id",headerName:"ID"},{field:"fullName",headerName:"Full name",width:200,editable:!0},{field:"gender",headerName:"Gender",width:150,editable:!0},{field:"dateOfBirth",headerName:"Date of Birth",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:vn,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(t){return xe("dateOfBirth",t,e)},name:"dateOfBirth",value:e.getValue(e.id,"dateOfBirth")})})})}},{field:"phone",headerName:"Phone",width:200,editable:!0},{field:"email",headerName:"Email",width:200,editable:!0},{field:"address",headerName:"Address",width:200,editable:!0},{field:"date",headerName:"Date",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:vn,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{style:{width:200},color:"primary",readOnly:!0,InputProps:{readOnly:!0},format:"dd-MM-yyyy",onDoubleClick:function(){return ue()},name:"dateOfBirth",value:e.getValue(e.id,"date")})})})}},{field:"doctor",headerName:"Doctor",width:200,renderCell:function(e){var t,n,a=e.getValue(e.id,"doctor_id"),c=S.filter((function(e){return e.id===a}));return Object(oe.jsx)("p",{style:{cursor:"pointer"},onDoubleClick:function(){return ue()},children:(null===(t=c[0])||void 0===t?void 0:t.lastName)+" "+(null===(n=c[0])||void 0===n?void 0:n.firstName)})}},{field:"shift",headerName:"Shift",width:200,renderCell:function(e){var t,n=e.getValue(e.id,"shift_id"),a=I.filter((function(e){return e.id===n}));return Object(oe.jsx)("p",{style:{cursor:"pointer"},onDoubleClick:function(){return ue()},children:null===(t=a[0])||void 0===t?void 0:t.description})}},{field:"service_id",headerName:"Service",width:200,renderCell:function(e){var t,n=e.getValue(e.id,"service_id"),a=D.filter((function(e){return e.id===n}));return Object(oe.jsx)("p",{children:null===(t=a[0])||void 0===t?void 0:t.name})}},{field:"doctor_id",hide:!0},{field:"shift_id",hide:!0},{field:"patient_id",headerName:"Loyal patient",renderCell:function(e){return e.getValue(e.id,"patient_id")?"Yes":"No"},width:200},{field:"confirmedAt",headerName:"Confirmed At",width:200,renderCell:function(e){var t,n,a=e.id,c=L.filter((function(e){return e.booking_id===a})),r=new Date(null===(t=c[0])||void 0===t?void 0:t.confirmedAt);return(null===(n=c[0])||void 0===n?void 0:n.confirmedAt)?"".concat(r.getUTCDate(),"-").concat(r.getMonth()+1,"-").concat(r.getFullYear()," \n                ").concat(r.getUTCHours(),":").concat(r.getUTCMinutes(),":").concat(r.getUTCSeconds()):""}},{field:"canceledAt",headerName:"Cancelled At",width:200,renderCell:function(e){var t,n,a=e.id,c=L.filter((function(e){return e.booking_id===a})),r=new Date(null===(t=c[0])||void 0===t?void 0:t.canceledAt);return(null===(n=c[0])||void 0===n?void 0:n.canceledAt)?"".concat(r.getUTCDate(),"-").concat(r.getMonth()+1,"-").concat(r.getFullYear()," \n                ").concat(r.getUTCHours(),":").concat(r.getUTCMinutes(),":").concat(r.getUTCSeconds()):""}},"ROLE_EMPLOYEE"===(null===(e=ne.currentAuth)||void 0===e?void 0:e.role)?{field:"action",headerName:" ",width:400,align:"center",renderCell:function(e){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(se,{title:"Confirm",color:"primary",style:{margin:"0px 10px 0px 0px",fontSize:12},onClick:function(){return function(e){return je.apply(this,arguments)}(e.id)}}),Object(oe.jsx)(se,{title:"Cancel",color:"darkPrimary",style:{margin:"0px 10px 0px 0px",fontSize:12},onClick:function(){return me(e.id)}}),Object(oe.jsx)(se,{title:"Delete",color:"darkSecondary",style:{margin:"0px 10px 0px 0px",fontSize:12},onClick:function(){return Oe(e.id)}}),Object(oe.jsx)(se,{title:"Convert",color:"",style:{margin:"0px 10px 0px 0px",fontSize:12},onClick:function(){return ve(e)}}),Object(oe.jsx)(fn.a,{trigger:function(){return Object(oe.jsx)(se,{title:"Print PDF",color:"",variant:"outlined",style:{fontSize:12}})},onBeforeGetContent:Object(We.a)(Ue.a.mark((function t(){return Ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ge.get("".concat(pe.bookings,"/").concat(e.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return te(e.data)})).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)}))),content:function(){return X.current}})]})}}:""],de=function(){var e=Object(We.a)(Ue.a.mark((function e(){var t,n,a,c,i,o,s,l,d,u,j,b,p,m,O=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.length>0&&void 0!==O[0]?O[0]:"?p=1",r(!0),e.next=4,ge.get("".concat(pe.bookings).concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){h(e.data.content),g(e.data.number),x(e.data.totalElements);var t=Object(nn.a)(new Set(e.data.content.map((function(e){return e.doctor_id})))),n=Object(nn.a)(new Set(e.data.content.map((function(e){return e.shift_id})))),a=Object(nn.a)(new Set(e.data.content.map((function(e){return e.service_id}))));return{bookingIds:e.data.content.map((function(e){return e.id})),doctorIds:t,shiftIds:n,serviceIds:a}})).catch((function(e){return console.log(e.response)}));case 4:for(n=e.sent,a=[],c=[],i=0;i<n.doctorIds.length;i++)a.push(ge.get("".concat(pe.doctors,"/").concat(n.doctorIds[i]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c.push(e.data)})).catch((function(e){return console.log(e.response)})));for(Promise.all(a).then((function(){return k(c)})),o=[],s=[],l=0;l<n.shiftIds.length;l++)o.push(ge.get("".concat(pe.shifts,"/").concat(n.shiftIds[l]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return s.push(e.data)})).catch((function(e){return console.log(e.response)})));for(Promise.all(o).then((function(){return A(s)})),d=[],u=[],j=0;j<n.bookingIds.length;j++)d.push(ge.get("".concat(pe.bookings,"/").concat(n.bookingIds[j],"/tokens"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return u.push(e.data)})).catch((function(e){return console.log(e.response)})));for(Promise.all(d).then((function(){M(u)})),b=[],p=[],m=0;m<n.serviceIds.length;m++)b.push(ge.get("".concat(pe.services,"/").concat(n.serviceIds[m]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return p.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(b).then((function(){T(p),r(!1)}));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ue(e){return he.apply(this,arguments)}function he(){return(he=Object(We.a)(Ue.a.mark((function e(t){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return(je=Object(We.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie(!0),(n=[]).push(ge.get("".concat(pe.bookings,"/").concat(t,"/tokens"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.data.token})).catch((function(e){404===e.response.status&&be()({title:e.response.data.message,icon:"error",buttons:{cancel:"Cancel",refresh:{text:"Refresh",value:"refresh"}}}).then((function(e){switch(e){case"refresh":return ge.get("".concat(pe.bookings,"/").concat(t,"/tokens/refresh"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});default:return}})).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&be()("Refresh successfully","","success")}))}))),Promise.all(n).then((function(e){"undefined"!==typeof e[0]&&ge.get("".concat(pe.bookings,"/").concat(t,"/tokens/confirm/").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200===e.status&&(be()("Confirm successfully","","success"),de("?p=".concat(p+1)),ie(!1))})).catch((function(e){ie(!1),400!==e.response.status||e.response.data.message.includes("expired")?400===e.response.status&&e.response.data.message.includes("expired")&&be()({title:e.response.data.message,icon:"error",buttons:{cancel:"Cancel",refresh:{text:"Refresh",value:"refresh"}}}).then((function(e){switch(e){case"refresh":return ge.get("".concat(pe.bookings,"/").concat(t,"/tokens/refresh"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});default:return}})).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&be()("Refresh successfully","","success")})):be()(e.response.data.message,"","error")}))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=function(){var e=Object(We.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie(!0),(n=[]).push(ge.get("".concat(pe.bookings,"/").concat(t,"/tokens"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.data.token})).catch((function(e){404===e.response.status&&be()({title:e.response.data.message,icon:"error",buttons:{cancel:"Cancel",refresh:{text:"Refresh",value:"refresh"}}}).then((function(e){switch(e){case"refresh":return ge.get("".concat(pe.bookings,"/").concat(t,"/tokens/refresh"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});default:return}})).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&be()("Refresh successfully","","success")}))}))),Promise.all(n).then((function(e){"undefined"!==typeof e[0]&&ge.get("".concat(pe.bookings,"/").concat(t,"/tokens/cancel/").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200===e.status&&(be()("Cancel successfully","","success"),de("?p=".concat(p+1)),ie(!1))})).catch((function(e){400!==e.response.status||e.response.data.message.includes("expired")?400===e.response.status&&e.response.data.message.includes("expired")&&(ie(!1),be()({title:e.response.data.message,icon:"error",buttons:{ok:"Ok"}}).then((function(e){}))):be()(e.response.data.message,"","error")}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(We.a)(Ue.a.mark((function e(t){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge("".concat(pe.bookings,"/").concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200===e.status&&(be()("Delete successfully","","success"),de("?p=".concat(p+1)))})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(We.a)(Ue.a.mark((function e(t,n,a){var c;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.get("".concat(pe.bookings,"/").concat(a.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return delete e.data.doctor_id,delete e.data.shift_id,delete e.data.service_id,delete e.data.patient_id,e.data})).catch((function(e){return console.log(e.response)}));case 2:return c=e.sent,e.next=5,ge("".concat(pe.doctors,"/").concat(a.getValue(a.id,"doctor_id"),"\n        /shifts/").concat(a.getValue(a.id,"shift_id"),"\n        /services/").concat(a.getValue(a.id,"service_id"),"\n        /bookings/").concat(a.id),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:Object(u.a)(Object(u.a)({},c),{},Object(s.a)({},t,n))}).then((function(e){console.log(e),de("?p=".concat(p+1))})).catch((function(e){var t,n;400===e.response.status&&be()(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,"","error")}));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(We.a)(Ue.a.mark((function e(t){var n,a;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,ge.get("".concat(pe.bookings,"/").concat(t.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return n.push(e.data),e.data})).catch((function(e){var t,n;be()(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,"","error")}));case 3:a=e.sent,Promise.all(n).then(function(){var e=Object(We.a)(Ue.a.mark((function e(n){var c,r,i,o;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=[],r=a.fullName,i=r.split(" ").slice(0,-1).join(" "),o=r.split(" ").slice(-1).join(" "),!n[0].patient_id){e.next=10;break}return e.next=7,ge("".concat(pe.accounts,"/update/booking?patientId=").concat(n[0].patient_id),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{id:a.id,fullName:a.fullName,gender:a.gender,dateOfBirth:a.dateOfBirth,phone:a.phone,email:a.email,address:a.address}}).then((function(e){if(200===e.status)return console.log(e),void be()("Updated information from booking to patient","","success")})).catch((function(e){be()(e.response.data.message,"","error")}));case 7:e.sent,e.next=13;break;case 10:return e.next=12,ge("".concat(pe.accounts,"/create/booking"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{id:a.id,fullName:a.fullName,gender:a.gender,dateOfBirth:a.dateOfBirth,phone:a.phone,email:a.email,address:a.address}}).then((function(e){201===e.status&&c.push(e.data)})).catch((function(e){be()(e.response.data.message,"","error")}));case 12:e.sent;case 13:Promise.all(c).then(function(){var e=Object(We.a)(Ue.a.mark((function e(n){var c,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof n[0]){e.next=5;break}return r=[],e.next=4,ge("".concat(pe.accounts,"/").concat(null===(c=n[0])||void 0===c?void 0:c.id,"/patients"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{firstName:o,lastName:i,gender:a.gender,dateOfBirth:a.dateOfBirth,phone:a.phone,email:a.email,address:a.address}}).then((function(e){201===e.status&&r.push(e.data)})).catch((function(e){be()(e.response.data.message,"","error")}));case 4:Promise.all(r).then((function(e){"undefined"!==typeof e[0]&&ge("".concat(pe.doctors,"/").concat(t.getValue(t.id,"doctor_id"),"\n                        /shifts/").concat(t.getValue(t.id,"shift_id"),"\n                        /services/").concat(t.getValue(t.id,"service_id"),"/bookings/").concat(t.id,"\n                        ?patientId=").concat(e[0].id),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{fullName:a.fullName,gender:a.gender,dateOfBirth:a.dateOfBirth,phone:a.phone,email:a.email,address:a.address}}).then((function(e){200===e.status&&be()("Success","","success"),de("?p=".concat(p+1))})).catch((function(e){var t,n;be()(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,"","error")}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(We.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.get("".concat(pe.bookings,"/").concat(t.id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return delete e.data.doctor_id,delete e.data.shift_id,delete e.data.service_id,delete e.data.patient_id,e.data})).catch((function(e){return console.log(e.response)}));case 2:return n=e.sent,e.next=5,ge("".concat(pe.doctors,"/").concat(t.getValue(t.id,"doctor_id"),"\n        /shifts/").concat(t.getValue(t.id,"shift_id"),"\n        /services/").concat(t.getValue(t.id,"service_id"),"\n        /bookings/").concat(t.id),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:Object(u.a)(Object(u.a)({},n),{},Object(s.a)({},t.field,t.value))}).then((function(e){return console.log(e)})).catch((function(e){var t,n,a;if(Array.isArray(null===(t=e.response)||void 0===t?void 0:t.data))for(var c=0;c<(null===(r=e.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.length);c++){var r,i;be()(e.response.data[c].message,"","error")}else be()(null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message,"","error");de("?p=".concat(p+1))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function we(){F(!1),W?G(!1):J&&$(!1)}return Object(a.useEffect)((function(){de()}),[]),Object(oe.jsxs)("div",{className:!1===re?Q.root:Q.loading,children:[c?Object(oe.jsx)("img",{style:{width:"100%",height:600},src:"/clinic-admin/images/loading.gif"}):Object(oe.jsx)(fe,{header:"LIST BOOKING",rows:d,columns:le,pageSize:7,createURL:"/bookings/create",server:!0,btnTitle:"CREATE",rowCount:f,handlePageChange:function(e){de("?p=".concat(e+1)),g(e)},currentPage:p,handleCellEditCommit:ye}),Object(oe.jsxs)(rt.a,{fullScreen:!0,open:V,TransitionComponent:yn,keepMounted:!0,onClose:we,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(oe.jsxs)(it.a,{id:"alert-dialog-slide-title",children:[Object(oe.jsx)(y.a,{edge:"start",color:"inherit",onClick:we,"aria-label":"close",children:Object(oe.jsx)(ut.a,{})}),"Choose information to update",Object(oe.jsx)(y.a,{style:{position:"absolute",right:15},onClick:function(){},"aria-label":"save",children:Object(oe.jsx)(jt.a,{})})]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{id:"alert-dialog-slide-description",children:Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsxs)(Ae.a,{item:!0,xs:12,style:{marginTop:10},children:[Object(oe.jsx)(Ee.a,{theme:vn,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{style:{width:200},color:"primary",readOnly:!0,InputProps:{readOnly:!0},format:"dd-MM-yyyy",onDoubleClick:function(){return ue()},name:"dateOfBirth",value:new Date})})}),Object(oe.jsx)(se,{style:{margin:"10px 20px 0px 20px",width:"175px"},title:"Choose a doctor",color:"primary"}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px",width:"175px"},title:"Choose a shift",color:"primary"})]}),Object(oe.jsx)(Ae.a,{item:!0,xs:12,style:{marginTop:10},children:Object(oe.jsx)("h4",{children:"Hi\u1ec7n t\u1ea1i ch\u1ee9c n\u0103ng n\xe0y \u0111ang b\u1ea3o tr\xec. B\u1ea1n c\xf3 th\u1ec3 h\u1ee7y phi\u1ebfu kh\xe1m b\u1ec7nh v\xe0 t\u1ea1o l\u1ea1i phi\u1ebfu m\u1edbi. Xin c\u1ea3m \u01a1n."})})]})})})]}),Object(oe.jsx)("div",{style:{display:"none"},children:Object(oe.jsx)(un.a,{component:hn.a,children:Object(oe.jsxs)(jn.a,{ref:X,children:[Object(oe.jsx)(bn.a,{children:Object(oe.jsx)(pn.a,{children:Object(oe.jsx)(gn.a,{colSpan:2,style:{textAlign:"center",fontWeight:"bold"},children:"Booking Details"})})}),Object(oe.jsxs)(mn.a,{children:[Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Id"}),Object(oe.jsx)(gn.a,{children:null===ee||void 0===ee?void 0:ee.id})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Patient name"}),Object(oe.jsx)(gn.a,{children:null===ee||void 0===ee?void 0:ee.fullName})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Gender"}),Object(oe.jsx)(gn.a,{children:null===ee||void 0===ee?void 0:ee.gender})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Birthday"}),Object(oe.jsx)(gn.a,{children:"".concat(new Date(null===ee||void 0===ee?void 0:ee.dateOfBirth).getDate(),"/").concat(new Date(null===ee||void 0===ee?void 0:ee.dateOfBirth).getMonth()+1,"/").concat(new Date(null===ee||void 0===ee?void 0:ee.dateOfBirth).getFullYear())})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Phone"}),Object(oe.jsx)(gn.a,{children:null===ee||void 0===ee?void 0:ee.phone})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Email"}),Object(oe.jsx)(gn.a,{children:null===ee||void 0===ee?void 0:ee.email})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Address"}),Object(oe.jsx)(gn.a,{children:null===ee||void 0===ee?void 0:ee.address})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Date"}),Object(oe.jsx)(gn.a,{children:"".concat(new Date(null===ee||void 0===ee?void 0:ee.date).getDate(),"/").concat(new Date(null===ee||void 0===ee?void 0:ee.date).getMonth()+1,"/").concat(new Date(null===ee||void 0===ee?void 0:ee.date).getFullYear())})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Doctor"}),Object(oe.jsx)(gn.a,{children:S&&S.filter((function(e){return e.id===(null===ee||void 0===ee?void 0:ee.doctor_id)})).map((function(e){return e.lastName+" "+e.firstName}))})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Shift"}),Object(oe.jsx)(gn.a,{children:I&&I.filter((function(e){return e.id===(null===ee||void 0===ee?void 0:ee.shift_id)})).map((function(e){return"".concat(e.name," (").concat(e.description,")")}))})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Service"}),Object(oe.jsx)(gn.a,{children:D&&D.filter((function(e){return e.id===(null===ee||void 0===ee?void 0:ee.service_id)})).map((function(e){return e.name}))})]})]})]})})})]})}var Sn=Object(j.a)({root:{marginTop:60},background:{backgroundColor:"#f5f5f5"},form:{background:"white"},info:{fontFamily:"monospace"}}),kn=Object(Ie.b)({palette:{primary:{main:"#afc2cb"},secondary:{main:"#e1f5fe"}}}),Cn=c.a.forwardRef((function(e,t){return Object(oe.jsx)(Xt.a,Object(u.a)({direction:"up",ref:t},e))}));function Nn(e){var t=Sn(),n=Object(d.g)(),c=Object(a.useState)({fullName:"",gender:"",phone:"",email:"",address:"",service:0}),r=Object(o.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)(new Date),h=Object(o.a)(l,2),j=h[0],b=h[1],p=Object(a.useState)(new Date),g=Object(o.a)(p,2),m=g[0],O=g[1],f=Object(a.useState)([]),x=Object(o.a)(f,2),v=x[0],w=x[1],S=Object(a.useState)([]),k=Object(o.a)(S,2),C=k[0],N=k[1],I=Object(a.useState)([]),A=Object(o.a)(I,2),B=A[0],P=A[1],D=Object(a.useState)(!1),T=Object(o.a)(D,2),z=T[0],E=T[1],L=Object(a.useState)(!1),M=Object(o.a)(L,2),_=M[0],R=M[1],V=Object(a.useState)(!1),F=Object(o.a)(V,2),q=F[0],U=F[1],W=Object(a.useState)(!1),G=Object(o.a)(W,2),Y=G[0],H=G[1],J=Object(a.useState)(!1),$=Object(o.a)(J,2),Q=$[0],X=$[1],K=Object(a.useState)(!1),Z=Object(o.a)(K,2),ee=Z[0],te=Z[1],ne=Object(a.useState)(),ae=Object(o.a)(ne,2),ce=ae[0],re=ae[1],ie=Object(a.useState)(),le=Object(o.a)(ie,2),de=le[0],ue=le[1],he=Object(a.useState)(),je=Object(o.a)(he,2),me=je[0],Oe=je[1],ve=Object(a.useState)(),ye=Object(o.a)(ve,2),we=ye[0],Se=ye[1],ke=Object(a.useState)([]),Ce=Object(o.a)(ke,2),Ne=Ce[0],Ie=Ce[1],Be=Object(a.useState)(),Pe=Object(o.a)(Be,2),De=Pe[0],Te=Pe[1],ze=Object(a.useState)([]),Le=Object(o.a)(ze,2),Me=Le[0],_e=Le[1],Re=[{field:"id",hide:!0},{field:"account_id",hide:!0},{field:"image",headerName:" ",renderCell:function(e){var t,n=e.getValue(e.id,"account_id"),a=C.filter((function(e){return e.id===n}));return Object(oe.jsx)("img",{src:null===(t=a[0])||void 0===t?void 0:t.image,width:"100%"})}},{field:"firstName",hide:!0},{field:"lastName",hide:!0},{field:"fullName",headerName:"Full name",width:200,valueGetter:function(e){return"".concat(e.getValue(e.id,"lastName")," ").concat(e.getValue(e.id,"firstName"))}},{field:"phone",headerName:"Phone",width:200},{field:"email",headerName:"Email",width:200}],Ve=[{field:"id",hide:!0},{field:"firstName",hide:!0},{field:"lastName",hide:!0},{field:"fullName",headerName:"Full name",width:300,valueGetter:function(e){return"".concat(e.getValue(e.id,"lastName")," ").concat(e.getValue(e.id,"firstName"))}},{field:"gender",headerName:"Gender",width:200},{field:"dateOfBirth",headerName:"Date of Birth",width:300,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:kn,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"joinDate")})})})}},{field:"phone",headerName:"Phone",width:300},{field:"email",headerName:"Email",width:300}];function Fe(e){var t=Object(u.a)({},i);t[e.target.name]=e.target.value,s(t)}var qe=function(){var e=Object(We.a)(Ue.a.mark((function e(){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=3;break}return be()("Please choose a date","","warning"),e.abrupt("return");case 3:if(te(!0),de){e.next=8;break}return e.delegateYield(Ue.a.mark((function e(){var t,n,a,c,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge("".concat(pe.schedules),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:m}).then((function(e){return 0==e.data.content.length&&be()("There are not any doctors available on this date","","warning"),Object(nn.a)(new Set(e.data.content.map((function(e){return e.doctor_id}))))})).catch((function(e){return console.log(e.response)}));case 2:for(t=e.sent,n=[],a=[],c=[],r=0;r<t.length;r++)n.push(ge.get("".concat(pe.doctors,"/").concat(t[r]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return a.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(n).then((function(){w(a),c=a.map((function(e){return e.account_id}));for(var e=[],t=[],n=0;n<c.length;n++)e.push(ge.get("".concat(pe.accounts,"/").concat(c[n]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return t.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(e).then((function(){N(t),te(!1),E(!0),H(!0)}))}));case 8:case"end":return e.stop()}}),e)}))(),"t0",6);case 6:e.next=9;break;case 8:return e.delegateYield(Ue.a.mark((function e(){var t,n,a,c,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge("".concat(pe.shifts,"/").concat(de.id,"/schedules"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:m}).then((function(e){return 0==e.data.content.length&&be()("There are not any doctors available on this date and this shift","","warning"),Object(nn.a)(new Set(e.data.content.map((function(e){return e.doctor_id}))))})).catch((function(e){return console.log(e.response)}));case 2:for(t=e.sent,n=[],a=[],c=[],r=0;r<t.length;r++)n.push(ge.get("".concat(pe.doctors,"/").concat(t[r]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return a.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(n).then((function(){w(a),c=a.map((function(e){return e.account_id}));for(var e=[],t=[],n=0;n<c.length;n++)e.push(ge.get("".concat(pe.accounts,"/").concat(c[n]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return t.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(e).then((function(){N(t),te(!1),E(!0),H(!0)}))}));case 8:case"end":return e.stop()}}),e)}))(),"t1",9);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(We.a)(Ue.a.mark((function e(){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=3;break}return be()("Please choose a date","","warning"),e.abrupt("return");case 3:if(te(!0),ce){e.next=8;break}return e.delegateYield(Ue.a.mark((function e(){var t,n,a,c,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge("".concat(pe.schedules),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:m}).then((function(e){return 0==e.data.content.length&&be()("There are not any shifts available on this date","","warning"),Object(nn.a)(new Set(e.data.content.map((function(e){return e.shift_id}))))})).catch((function(e){return console.log(e.response)}));case 2:for(t=e.sent,n=[],a=[],c=[],r=0;r<t.length;r++)n.push(ge.get("".concat(pe.shifts,"/").concat(t[r]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return a.push(e.data)})).catch((function(e){return console.log(e.response)})),ge("".concat(pe.shifts,"/").concat(t[r],"/bookings/date"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:m}).then((function(e){return c.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(n).then((function(){for(var e=0;e<a.length;e++)Object.assign(a[e],{isMax:c[e]});P(a),te(!1),E(!0),X(!0)}));case 8:case"end":return e.stop()}}),e)}))(),"t0",6);case 6:e.next=9;break;case 8:return e.delegateYield(Ue.a.mark((function e(){var t,n,a,c,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge("".concat(pe.doctors,"/").concat(ce.id,"/schedules"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:m}).then((function(e){return 0==e.data.content.length&&be()("There are not any shifts available on this date and doctor: \n                    ".concat(ce.lastName+" "+ce.firstName),"","warning"),Object(nn.a)(new Set(e.data.content.map((function(e){return e.shift_id}))))})).catch((function(e){return console.log(e.response)}));case 2:for(t=e.sent,n=[],a=[],c=[],r=0;r<(null===t||void 0===t?void 0:t.length);r++)n.push(ge.get("".concat(pe.shifts,"/").concat(t[r]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return a.push(e.data)})).catch((function(e){return console.log(e.response)})),ge("".concat(pe.shifts,"/").concat(t[r],"/bookings/date"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:m}).then((function(e){return c.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(n).then((function(){for(var e=0;e<a.length;e++)Object.assign(a[e],{isMax:c[e]});P(a),te(!1),E(!0),X(!0)}));case 8:case"end":return e.stop()}}),e)}))(),"t1",9);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function He(){E(!1),Y?(re(),H(!1)):Q&&(ue(),X(!1))}function Je(){!Y||ce?!Q||de?!q||De?((ce||de)&&(ce&&Oe("Doctor: ".concat(ce.lastName," ").concat(ce.firstName)),de&&Se("Shift: ".concat(de.description)),E(!1),H(!1),X(!1)),De&&(U(!1),s({fullName:De.lastName+" "+De.firstName,gender:De.gender,phone:De.phone,email:De.email,address:De.address,service:0}))):be()("Please choose a patient","","warning"):be()("Please choose a shift","","warning"):be()("Please choose a doctor","","warning")}function $e(e){Y?ge.get("".concat(pe.doctors,"/").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return re(e.data)})).catch((function(e){return console.log(e.response)})):Q?ge.get("".concat(pe.shifts,"/").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return ue(e.data)})).catch((function(e){return console.log(e.response)})):q&&ge.get("".concat(pe.patients,"/").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return Te(e.data)})).catch((function(e){return console.log(e.response)}))}function Qe(){R(!1)}function Xe(){U(!1)}return Object(a.useEffect)((function(){lt.ValidatorForm.addValidationRule("isPhoneNumber",(function(e){return new RegExp("(84|0[3|5|7|8|9])+([0-9]{8})\\b").test(e)})),lt.ValidatorForm.addValidationRule("isServiceChosen",(function(e){return 0!==e})),ge.get("".concat(pe.services)).then((function(e){console.log(e),_e(e.data.content)})).catch((function(e){return console.log(e.response)}))}),[]),Object(oe.jsxs)(Ee.a,{theme:kn,children:[Object(oe.jsxs)(Ae.a,{id:"grid",className:t.root,container:!0,spacing:4,children:[Object(oe.jsx)(Ae.a,{className:t.background,item:!0,xs:6,children:Object(oe.jsx)("img",{src:"/clinic-admin/images/gui7.svg",width:"100%",height:"500"})}),Object(oe.jsx)(Ae.a,{container:!0,className:t.form,item:!0,xs:6,children:Object(oe.jsxs)(lt.ValidatorForm,{onSubmit:function(e){if(e.preventDefault(),ce)if(de){var t="";De&&(t="?patientId=".concat(De.id)),ge("".concat(pe.doctors,"/").concat(ce.id,"/shifts/").concat(de.id,"\n        /services/").concat(i.service,"/bookings").concat(t),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{fullName:i.fullName,gender:i.gender,dateOfBirth:j,phone:i.phone,email:i.email,address:i.address}}).then((function(e){201===e.status&&(be()("Success","","success"),n.push("/bookings"))})).catch((function(e){var t,a;if(Array.isArray(null===(t=e.response)||void 0===t?void 0:t.data))for(var c=0;c<e.response.data.length;c++)be()(e.response.data[c].message,"","error");else 401===(null===(a=e.response)||void 0===a?void 0:a.status)&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),n.push(xe))}))}else be()("Please choose a shift","","warning");else be()("Please choose a doctor","","warning")},children:[Object(oe.jsxs)(Ae.a,{container:!0,item:!0,xs:12,spacing:4,children:[Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{className:t.input,name:"fullName",label:"Full name *",validators:["required"],errorMessages:["this field is required"],value:i.fullName,onChange:Fe})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{name:"gender",label:"Gender *",validators:["required"],errorMessages:["this field is required"],value:i.gender,onChange:Fe})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(Ee.a,{theme:kn,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{style:{width:200},label:"DOB *",format:"dd-MM-yyyy",onChange:function(e){return b(e)},name:"dateOfBirth",value:j})})})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{name:"phone",label:"Phone *",validators:["required","isPhoneNumber"],errorMessages:["this field is required","invalid phone number"],value:i.phone,onChange:Fe})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{name:"email",label:"Email *",validators:["required","isEmail"],errorMessages:["this field is required","invalid email"],value:i.email,onChange:Fe})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(lt.TextValidator,{name:"address",label:"Address *",validators:["required"],errorMessages:["this field is required"],value:i.address,onChange:Fe})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(Ee.a,{theme:kn,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{style:{width:200},label:"Date *",format:"dd-MM-yyyy",minDate:new Date,onChange:function(e){O(e),re(),ue()},name:"date",value:m})})})}),Object(oe.jsxs)(Ae.a,{item:!0,xs:6,children:[Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px",width:"175px"},title:"Choose a doctor",color:"primary",onClick:function(){return qe("?p=1")}}),ce?Object(oe.jsx)(ct.a,{arrow:!0,title:me,children:Object(oe.jsx)(pt.a,{})}):"",Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px",width:"175px"},title:"Choose a shift",color:"primary",onClick:function(){return Ge()}}),de?Object(oe.jsx)(ct.a,{arrow:!0,title:we,children:Object(oe.jsx)(pt.a,{})}):""]}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsxs)(lt.SelectValidator,{style:{marginTop:-25,minWidth:200},validators:["isServiceChosen"],errorMessages:["this field is required"],value:i.service,onChange:function(e){return s(Object(u.a)(Object(u.a)({},i),{},{service:e.target.value}))},children:[Object(oe.jsx)(Ye.a,{value:0,children:"Choose service"}),Me&&Me.map((function(e){return Object(oe.jsx)(Ye.a,{value:e.id,children:e.name})}))]})})]}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px",position:"absolute",top:660,right:75},title:"Save",color:"darkSecondary",type:"submit"}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px",position:"absolute",top:660,right:620},title:"Go Back",color:"darkSecondary",onClick:function(){n.goBack()}})]})})]}),ee?"":Object(oe.jsxs)(rt.a,{fullScreen:!0,open:z,TransitionComponent:Cn,keepMounted:!0,onClose:He,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(oe.jsxs)(it.a,{id:"alert-dialog-slide-title",children:[Object(oe.jsx)(y.a,{edge:"start",color:"inherit",onClick:He,"aria-label":"close",children:Object(oe.jsx)(ut.a,{})}),Y?"Choose a doctor":"Choose a shift",Object(oe.jsx)(y.a,{style:{position:"absolute",right:15},onClick:Je,"aria-label":"save",children:Object(oe.jsx)(jt.a,{})})]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{id:"alert-dialog-slide-description",children:Object(oe.jsx)(Ae.a,{container:!0,spacing:4,children:Object(oe.jsx)(Ae.a,{item:!0,xs:12,style:{marginTop:10},children:Y?Object(oe.jsx)(fe,{rows:v,columns:Re,btnTitle:"",createURL:"",header:"",handleSelectionChange:$e}):Q?Object(oe.jsx)(fe,{rows:B,columns:[{field:"id",headerName:"ID",width:200},{field:"name",headerName:"Shift name",width:250},{field:"description",headerName:"Shift description",width:500},{field:"maxBookings",headerName:"Max number of bookings",width:300},{field:"isMax",headerName:"Are bookings max",width:200}],btnTitle:"",createURL:"",header:"",handleSelectionChange:$e,isRowSelectable:function(e){return!0!==e.row.isMax}}):""})})})})]}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px",position:"absolute",top:80,right:0},title:"Loyal patient",variant:"outlined",color:"lightPrimary",onClick:function(){R(!0)}}),Object(oe.jsxs)(rt.a,{open:_,TransitionComponent:Cn,keepMounted:!0,onClose:Qe,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(oe.jsxs)(it.a,{id:"alert-dialog-slide-title",children:[Object(oe.jsx)(y.a,{edge:"start",color:"inherit",onClick:Qe,"aria-label":"close",children:Object(oe.jsx)(ut.a,{})}),"Enter a phone number"]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{id:"alert-dialog-slide-description",children:Object(oe.jsxs)(lt.ValidatorForm,{onSubmit:function(e){e.preventDefault(),ge.get("".concat(pe.patients,"/phone/").concat(i.phone),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){Ie(e.data),U(!0),R(!1)})).catch((function(e){return console.log(e.response)}))},children:[Object(oe.jsx)(lt.TextValidator,{style:{marginLeft:10},name:"phone",label:"Phone *",validators:["required","isPhoneNumber"],errorMessages:["this field is required","invalid phone number"],value:i.phone,onChange:Fe}),Object(oe.jsx)(se,{style:{margin:"20px 0px 0px 126px"},title:"Submit",type:"submit",color:"primary"})]})})})]}),Object(oe.jsxs)(rt.a,{fullScreen:!0,open:q,TransitionComponent:Cn,keepMounted:!0,onClose:Xe,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(oe.jsxs)(it.a,{id:"alert-dialog-slide-title",children:[Object(oe.jsx)(y.a,{edge:"start",color:"inherit",onClick:Xe,"aria-label":"close",children:Object(oe.jsx)(ut.a,{})}),"Choose a patient",Object(oe.jsx)(y.a,{style:{position:"absolute",right:15},onClick:Je,"aria-label":"save",children:Object(oe.jsx)(jt.a,{})})]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{id:"alert-dialog-slide-description",children:Ne?Object(oe.jsx)(Ae.a,{container:!0,spacing:4,children:Object(oe.jsx)(Ae.a,{item:!0,xs:12,style:{marginTop:10},children:Object(oe.jsx)(fe,{rows:Ne,columns:Ve,btnTitle:"",createURL:"",header:"",handleSelectionChange:$e})})}):""})})]})]})}var In=Object(j.a)({root:{height:400,width:"100%",marginTop:50,background:"white"}}),An=Object(Ie.b)({palette:{primary:{main:Wt.a.A400}}});function Bn(){var e=In(),t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(o.a)(i,2),u=s[0],h=s[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),p=b[0],g=b[1],m=Object(a.useState)(0),O=Object(o.a)(m,2),f=O[0],x=O[1],v=Object(a.useState)(0),y=Object(o.a)(v,2),w=y[0],S=y[1],k=Object(a.useContext)(yc),C=Object(d.g)(),N=[{field:"id",hide:!0},{field:"account_id",hide:!0},{field:"image",headerName:"Avatar",width:120,renderCell:function(e){var t,n=e.getValue(e.id,"account_id"),a=p.filter((function(e){return e.id.trim()===n.trim()}))[0],c="/accounts/".concat(n),r="/patients/".concat(e.id);return Object(oe.jsx)(l.b,{style:{textDecoration:"none",color:"black",width:"100%"},to:"ROLE_ADMIN"===(null===(t=k.currentAuth)||void 0===t?void 0:t.role)?c:r,children:Object(oe.jsx)("img",{style:{width:"70%",height:"55px",padding:"5px",marginTop:20},src:a?a.image:""})})}},{field:"firstName",headerName:"First Name",width:200},{field:"lastName",headerName:"Last Name",width:200},{field:"gender",headerName:"Gender",width:150},{field:"dateOfBirth",headerName:"DOB",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:An,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"dateOfBirth")})})})}},{field:"phone",headerName:"Phone",width:200},{field:"email",headerName:"Email",width:200},{field:"joinDate",headerName:"Join Date",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:An,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"joinDate")})})})}},{field:"address",headerName:"Address",width:200},{field:"action",headerName:" ",width:150,align:"center",renderCell:function(e){return Object(oe.jsx)(se,{onClick:function(){var t=e.getValue(e.id,"id"),n=e.getValue(e.id,"account_id"),a=p.filter((function(e){return e.id===n}));be()({title:"Are you sure to delete?",icon:"warning",buttons:{cancel:"Cancel",inactive:{text:"Inactivate",value:"inactive"},delete:{text:"Delete anyway",value:"delete"}}}).then((function(e){switch(e){case"inactive":var c=new FormData;return c.append("username",a[0].username),c.append("password",a[0].password),c.append("image",a[0].image),c.append("active",!1),ge("".concat(pe.roles,"/").concat(a[0].role_id,"/accounts/").concat(n),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"multipart/form-data"},data:c});case"delete":return ge("".concat(pe.accounts,"/").concat(n,"/patients/").concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}})).then((function(e){var t,n;200===(null===e||void 0===e?void 0:e.status)&&("put"===(null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.method)?be()("Inactivated","","success"):"delete"===(null===e||void 0===e||null===(n=e.config)||void 0===n?void 0:n.method)&&(be()("Deleted","","success"),I("?p="+(f+1))))})).catch((function(e){var t;console.log(e.response),401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),C.push(xe))}))},color:"primary",title:"Delete"})}}],I=function(){var e=Object(We.a)(Ue.a.mark((function e(){var t,n,a,c,i,o=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"?p=1",r(!0),e.next=4,ge.get("".concat(pe.patients).concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return h(e.data.content),x(e.data.number),S(e.data.totalElements),r(!1),e.data.content.map((function(e){return e.account_id}))})).catch((function(e){return console.log(e.response)}));case 4:for(n=e.sent,a=[],c=[],i=0;i<n.length;i++)a.push(ge.get("".concat(pe.accounts,"/").concat(n[i]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c.push(e.data)})));Promise.all(a).then((function(){return g(c)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){I(),k.setPage(window.location.href.substring(ve))}),[]),Object(oe.jsx)("div",{className:e.root,children:c?Object(oe.jsx)("img",{style:{width:"100%",height:600},src:"/clinic-admin/images/loading.gif"}):Object(oe.jsx)(fe,{header:"LIST PATIENT",rows:u,columns:N,pageSize:7,createURL:"",server:!0,btnTitle:"",rowCount:w,handlePageChange:function(e){I("?p=".concat(e+1)),x(e)},currentPage:f})})}var Pn,Dn=n(637),Tn=n(540),zn=c.a.forwardRef((function(e,t){return Object(oe.jsx)(Xt.a,Object(u.a)({direction:"up",ref:t},e))})),En=Object(Ie.b)({palette:{primary:{main:"#afc2cb"},secondary:{main:"#e1f5fe"}}});function Ln(){var e,t,n,c,r=Object(a.useState)(!1),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)(!1),h=Object(o.a)(u,2),j=h[0],b=h[1],p=Object(a.useState)(!1),g=Object(o.a)(p,2),m=g[0],O=g[1],f=Object(a.useState)([]),v=Object(o.a)(f,2),w=v[0],S=v[1],k=Object(a.useState)([]),C=Object(o.a)(k,2),N=C[0],I=C[1],A=Object(a.useState)(0),B=Object(o.a)(A,2),P=B[0],D=B[1],T=Object(a.useState)(0),z=Object(o.a)(T,2),E=z[0],L=z[1],M=Object(a.useState)(0),_=Object(o.a)(M,2),R=_[0],V=_[1],F=Object(a.useState)(0),q=Object(o.a)(F,2),U=q[0],W=q[1],G=Object(a.useState)(),Y=Object(o.a)(G,2),H=Y[0],J=Y[1],$=Object(a.useState)(),Q=Object(o.a)($,2),X=Q[0],K=Q[1],Z=Object(a.useState)(),ee=Object(o.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(),ce=Object(o.a)(ae,2),ie=ce[0],le=ce[1],de=Object(a.useState)(),ue=Object(o.a)(de,2),he=ue[0],je=ue[1],me=Object(a.useState)(),Oe=Object(o.a)(me,2),xe=Oe[0],ve=Oe[1],ye=Object(a.useState)(),we=Object(o.a)(ye,2),Se=we[0],Ce=we[1],Ne=Object(d.g)(),Ie=Object(a.useContext)(yc),Be=Object(a.useState)(!1),Pe=Object(o.a)(Be,2),De=Pe[0],Te=Pe[1],ze=Object(a.useState)(""),Le=Object(o.a)(ze,2),Me=Le[0],_e=Le[1],Re=[{field:"id",hide:!0},{field:"firstName",hide:!0},{field:"lastName",hide:!0},{field:"fullName",headerName:"Full name",width:300,valueGetter:function(e){return"".concat(e.getValue(e.id,"lastName")," ").concat(e.getValue(e.id,"firstName"))}},{field:"gender",headerName:"Gender",width:200},{field:"dateOfBirth",headerName:"Date of Birth",width:300,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:En,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"joinDate")})})})}},{field:"phone",headerName:"Phone",width:300},{field:"email",headerName:"Email",width:300}],Ve=[{field:"id",headerName:"ID",width:150},{field:"name",headerName:"Name",width:300},{field:"description",headerName:"Description",width:300},{field:"price",headerName:"Price",width:200},{field:"unit",headerName:"Unit",width:150},{field:"image",headerName:"Image",width:120,renderCell:function(e){var t=e.getValue(e.id,"image"),n=e.getValue(e.id,"id");return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("img",{id:"image"+n,style:{width:"70%",height:"100%",padding:"5px"},src:t,alt:"No image"})})}}],Fe=[{field:"id",headerName:"ID"},{field:"fullName",headerName:"Full name",width:200,editable:!0},{field:"date",headerName:"Date",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:En,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{style:{width:200},color:"primary",readOnly:!0,InputProps:{readOnly:!0},format:"dd-MM-yyyy",name:"dateOfBirth",value:e.getValue(e.id,"date")})})})}},{field:"service_id",headerName:"Service",width:200}];function qe(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(We.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=8;break}return e.next=3,ge.get("".concat(pe.patients,"/").concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return J(e.data),e.data.id})).catch((function(e){return console.log(e.response)}));case 3:return n=e.sent,e.next=6,ge.get("".concat(pe.patients,"/").concat(n,"/bookings/date"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return K(e.data.content)})).catch((function(e){return console.log(e.response)}));case 6:e.next=9;break;case 8:m&&function(){Ce(t);for(var e=[],n=[],a=0;a<t.length;a++)e.push(ge.get("".concat(pe.medicines,"/").concat(t[a]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return n.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(e).then((function(){return ve(n)}))}();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"?p=1";ge.get("".concat(pe.patients).concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){S(e.data.content),D(e.data.number),V(e.data.totalElements)})).catch((function(e){return console.log(e.response)}))}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"?p=1";ge.get("".concat(pe.medicines).concat(e,"&active=true"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){I(e.data.content),L(e.data.number),W(e.data.totalElements)})).catch((function(e){return console.log(e.response)}))}function Je(){j?(J(),je(),K(),ne(),le(),b(!1)):m&&(ve(),O(!1)),Ce(),l(!1)}function $e(){return($e=Object(We.a)(Ue.a.mark((function e(){var t,n,a,c;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=3;break}return be()("Please choose a patient","","warning"),e.abrupt("return");case 3:t=0;case 4:if(!(t<(null===xe||void 0===xe?void 0:xe.length))){e.next=11;break}if(xe[t].quantity){e.next=8;break}return be()("Please enter a value of quantity","","warning"),e.abrupt("return");case 8:t++,e.next=4;break;case 11:return e.next=13,ge.get("".concat(pe.services,"/").concat(te.service_id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return{fee:e.data.price,name:e.data.name}})).catch((function(e){return console.log(e.response)}));case 13:return n=e.sent,a=[],e.next=17,ge("".concat(pe.doctors,"/").concat(Ie.currentAuth.userId,"\n        /patients/").concat(H.id,"/prescriptions"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{date:new Date,serviceFee:n.fee,serviceName:n.name,description:Me||""}}).then((function(e){return a.push(e.data),be()("Success","","success"),e.data})).catch((function(e){return console.log(e.response)}));case 17:c=e.sent,Promise.all(a).then((function(){for(var e=0;e<(null===xe||void 0===xe?void 0:xe.length);e++){var t=new FormData;t.append("quantity",xe[e].quantity),t.append("unitPrice",xe[e].price),t.append("totalPrice",parseInt(xe[e].quantity)*parseInt(xe[e].price)),ge("".concat(pe.prescriptions,"/").concat(c.id,"/medicines/").concat(xe[e].id,"/prescriptionDetails"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:t}).then((function(e){console.log(e.data),be()("Success","","success")})).catch((function(e){return console.log(e.response)}))}}));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsxs)(Ae.a,{item:!0,xs:6,children:[Object(oe.jsxs)("form",{children:[Object(oe.jsx)(re.a,{id:"patient",variant:"outlined",onClick:function(e){Ye("?p=".concat(P+1)),l(!0),b(!0),O(!1)},children:"Choose patient"}),Object(oe.jsx)(re.a,{id:"medicine",variant:"outlined",onClick:function(e){He("?p=".concat(E+1)),l(!0),b(!1),O(!0)},children:"Choose medicine"})]}),Object(oe.jsxs)(rt.a,{disableEnforceFocus:!0,fullScreen:!0,open:s,TransitionComponent:zn,keepMounted:!0,onClose:Je,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(oe.jsxs)(it.a,{id:"alert-dialog-slide-title",children:[Object(oe.jsx)(y.a,{edge:"start",color:"inherit",onClick:Je,"aria-label":"close",children:Object(oe.jsx)(ut.a,{})}),j?"Choose patient":"Choose medicine",Object(oe.jsx)(y.a,{style:{position:"absolute",right:15},onClick:function(){if(j){if(!H)return void be()("Please choose a patient","","warning");if(!te)return void be()("Please choose a booking","","warning");ge.get("".concat(pe.services,"/").concat(te.service_id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return le(e.data)})).catch((function(e){return console.log(e)})),ge.get("".concat(pe.accounts,"/").concat(null===H||void 0===H?void 0:H.account_id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return je(e.data)})).catch((function(e){return console.log(e.response)})),b(!1)}else if(m){if(!xe)return void be()("Please choose a medicine","","warning");O(!1)}l(!1)},"aria-label":"save",children:Object(oe.jsx)(jt.a,{})})]}),Object(oe.jsxs)(ot.a,{children:[Object(oe.jsx)(st.a,{id:"alert-dialog-slide-description",children:j&&w?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(fe,{rows:w,columns:Re,btnTitle:"",createURL:"",header:"",server:!0,rowCount:R,currentPage:P,pageSize:7,handleSelectionChange:qe}),X?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(x.a,{variant:"h6",children:"Total bookings of this patient today"}),Object(oe.jsx)(fe,{rows:X,columns:Fe,btnTitle:"",createURL:"",header:"",handleSelectionChange:function(e){ge.get("".concat(pe.bookings,"/").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return ne(e.data)})).catch((function(e){return console.log(e.response)}))}})]}):""]}):m&&N?Object(oe.jsx)(fe,{rows:N,columns:Ve,btnTitle:"",createURL:"",header:"",server:!0,rowCount:U,currentPage:E,handleSelectionChange:qe,selectionModel:Se,pageSize:5,checkboxSelection:!0,handlePageChange:function(e){j?(Ye("?p=".concat(e+1)),D(e)):m&&(He("?p=".concat(e+1)),L(e))}}):""}),xe&&m&&xe.map((function(e){return Object(oe.jsx)(Dn.a,{style:{marginRight:10},label:e.name,onDelete:function(){return t=e,Ce(xe.filter((function(e){return e!==t})).map((function(e){return e.id}))),void ve(xe.filter((function(e){return e!==t})));var t}})}))]}),Object(oe.jsx)(an.a,{})]}),H||xe?Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,style:{marginTop:50,backgroundColor:"#e1f5fe"},children:[Object(oe.jsxs)(Ae.a,{item:!0,xs:3,children:[H?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("img",{src:null===he||void 0===he?void 0:he.image,width:"100%",height:"150"}),Object(oe.jsx)("p",{style:{textAlign:"center"},children:(null===H||void 0===H?void 0:H.lastName)+" "+(null===H||void 0===H?void 0:H.firstName)})]}):"",Object(oe.jsx)(Tn.a,{maxRows:10,"aria-label":"description of prescription",placeholder:"Description....",onChange:function(e){return _e(e.target.value)}})]}),Object(oe.jsx)(Ae.a,{item:!0,xs:9,children:xe?Object(oe.jsx)(un.a,{component:hn.a,style:{overflow:"auto",height:400},children:Object(oe.jsxs)(jn.a,{"arial-label":"simple table",children:[Object(oe.jsx)(bn.a,{children:Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Name"}),Object(oe.jsx)(gn.a,{children:"Description"}),Object(oe.jsx)(gn.a,{children:"Unit"}),Object(oe.jsx)(gn.a,{children:"Price"}),Object(oe.jsx)(gn.a,{children:"Quantity"})]})}),Object(oe.jsx)(mn.a,{children:xe&&xe.map((function(e){return Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:e.name}),Object(oe.jsx)(gn.a,{children:e.description}),Object(oe.jsx)(gn.a,{children:e.unit}),Object(oe.jsx)(gn.a,{children:e.price}),Object(oe.jsx)(gn.a,{children:Object(oe.jsx)(ke.a,{type:"number",onChange:function(t){return function(e,t){var n=xe.filter((function(t){return t.id===e}))[0];Object.assign(n,{quantity:t.target.value}),Te(!De)}(e.id,t)}})})]},e.id)}))})]})}):""})]}):""]}),Object(oe.jsxs)(Ae.a,{item:!0,xs:6,children:[Object(oe.jsx)(un.a,{component:hn.a,children:Object(oe.jsxs)(jn.a,{"arial-label":"prescription",children:[Object(oe.jsxs)(bn.a,{children:[Object(oe.jsx)(pn.a,{children:Object(oe.jsx)(gn.a,{style:{textAlign:"center",fontWeight:"bold"},colSpan:3,children:(null===(e=Ie.currentAuth)||void 0===e?void 0:e.lastName)+" "+(null===(t=Ie.currentAuth)||void 0===t?void 0:t.firstName)})}),Object(oe.jsx)(pn.a,{children:Object(oe.jsx)(gn.a,{style:{textAlign:"center",fontWeight:"bold"},colSpan:3,children:null===(n=Ie.currentAuth)||void 0===n?void 0:n.address})}),Object(oe.jsx)(pn.a,{children:Object(oe.jsx)(gn.a,{style:{textAlign:"center",fontWeight:"bold"},colSpan:3,children:null===(c=Ie.currentAuth)||void 0===c?void 0:c.phone})})]}),Object(oe.jsxs)(mn.a,{children:[Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Date"}),Object(oe.jsx)(gn.a,{colSpan:2,children:"".concat((new Date).getDate(),"/").concat((new Date).getMonth()+1,"/").concat((new Date).getFullYear())})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Patient name"}),Object(oe.jsx)(gn.a,{colSpan:2,children:H?H.lastName+" "+H.firstName:""})]}),Object(oe.jsx)(pn.a,{children:Object(oe.jsx)(gn.a,{rowSpan:(null===xe||void 0===xe?void 0:xe.length)+1,children:"Medicine"})}),xe&&xe.map((function(e){return Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:e.name}),Object(oe.jsxs)(gn.a,{children:[e.quantity," ",e.unit]})]})})),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Service name"}),Object(oe.jsx)(gn.a,{children:null===ie||void 0===ie?void 0:ie.name})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Service fee"}),Object(oe.jsxs)(gn.a,{children:[(null===ie||void 0===ie?void 0:ie.price)||0," $"]})]})]})]})}),Object(oe.jsx)(se,{style:{margin:"40px 0px 0px 225px"},title:"Create Prescription",color:"primary",onClick:function(){return $e.apply(this,arguments)}})]})]}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px",position:"absolute",top:110,right:0},title:"Go Back",color:"primary",onClick:function(){Ne.goBack()}})]})}var Mn,_n=Object(Ie.b)({palette:{primary:{main:Wt.a.A400}}}),Rn=Object(j.a)({root:(Pn={height:_n.spacing(50),width:"100%",marginTop:_n.spacing(6)+2},Object(s.a)(Pn,_n.breakpoints.down("xs"),{marginTop:_n.spacing(6)+2}),Object(s.a)(Pn,"background","white"),Pn)}),Vn=c.a.forwardRef((function(e,t){return Object(oe.jsx)(Xt.a,Object(u.a)({direction:"up",ref:t},e))}));function Fn(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(0),i=Object(o.a)(r,2),s=i[0],u=i[1],h=Object(a.useState)(0),j=Object(o.a)(h,2),b=j[0],p=j[1],g=Object(a.useState)(!0),m=Object(o.a)(g,2),O=m[0],f=m[1],x=Object(a.useState)([]),v=Object(o.a)(x,2),w=v[0],S=v[1],k=Object(a.useState)([]),C=Object(o.a)(k,2),N=C[0],I=C[1],A=Object(a.useState)([]),B=Object(o.a)(A,2),P=B[0],D=B[1],T=Object(a.useState)(!1),z=Object(o.a)(T,2),E=z[0],L=z[1],M=Object(a.useState)([]),_=Object(o.a)(M,2),R=_[0],V=_[1],F=Rn(),q=Object(d.g)(),U=[{field:"id",headerName:"ID",width:350,renderCell:function(e){return Object(oe.jsx)(l.b,{onClick:function(){return function(e){return Y.apply(this,arguments)}(e.id)},style:{textDecoration:"none",color:"blue"},children:e.id})}},{field:"doctor_id",hide:!0},{field:"patient_id",hide:!0},{field:"doctor",headerName:"Doctor",width:250,renderCell:function(e){var t=e.getValue(e.id,"doctor_id"),n=w.filter((function(e){return e.id===t}))[0];return Object(oe.jsx)("p",{children:null===n||void 0===n?void 0:n.firstName})}},{field:"patient",headerName:"Patient",width:250,renderCell:function(e){var t=e.getValue(e.id,"patient_id"),n=N.filter((function(e){return e.id===t}))[0];return Object(oe.jsx)("p",{children:(null===n||void 0===n?void 0:n.lastName)+" "+(null===n||void 0===n?void 0:n.firstName)})}},{field:"date",headerName:"Date",width:250,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:_n,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"joinDate")})})})}},{field:"serviceFee",headerName:"Service Fee",width:200}];function W(){return G.apply(this,arguments)}function G(){return(G=Object(We.a)(Ue.a.mark((function e(){var t,n,a,r,i,o,s,l,d,h,j=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.length>0&&void 0!==j[0]?j[0]:"?p=1",f(!0),e.next=4,ge.get("".concat(pe.prescriptions).concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c(e.data.content),u(e.data.number),p(e.data.totalElements),f(!1),{doctorId:Object(nn.a)(new Set(e.data.content.map((function(e){return e.doctor_id})))),patientId:Object(nn.a)(new Set(e.data.content.map((function(e){return e.patient_id}))))}})).catch((function(e){403!==e.response.status?401===e.response.status&&window.confirm("Login expired! Please login again")&&(localStorage.clear(),q.push(xe)):be()("Your role was forbidden","","error")}));case 4:for(n=e.sent,a=[],r=[],i=0;i<(null===n||void 0===n||null===(o=n.doctorId)||void 0===o?void 0:o.length);i++)a.push(ge.get("".concat(pe.doctors,"/").concat(n.doctorId[i]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return r.push(e.data)})).catch((function(e){return console.log(e.response)})));for(Promise.all(a).then((function(){S(r)})),s=[],l=[],d=0;d<(null===n||void 0===n||null===(h=n.patientId)||void 0===h?void 0:h.length);d++)s.push(ge.get("".concat(pe.patients,"/").concat(n.patientId[d]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return l.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(s).then((function(){I(l)}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(We.a)(Ue.a.mark((function e(t){var n,a,c,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.get("".concat(pe.prescriptions,"/").concat(t,"/prescriptionDetails"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return console.log(e),D(e.data.content),e.data.content.map((function(e){return e.medicine_id}))})).catch((function(e){return console.log(e.response)}));case 2:for(n=e.sent,a=[],c=[],r=0;r<n.length;r++)a.push(ge.get("".concat(pe.medicines,"/").concat(n[r]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c.push(e.data)})).catch((function(e){return console.log(e)})));Promise.all(a).then((function(){V(c),L(!0)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){L(!1)}return Object(a.useEffect)((function(){W()}),[]),Object(oe.jsxs)("div",{className:F.root,children:[O?Object(oe.jsx)("img",{style:{width:"100%",height:600},src:"/clinic-admin/images/loading.gif"}):Object(oe.jsx)(fe,{header:"LIST PRESCRIPTION",rows:n,columns:U,pageSize:7,createURL:"/prescriptions/create",server:!0,btnTitle:"CREATE",rowCount:b,handlePageChange:function(e){W("?p=".concat(e+1)),u(e)},currentPage:s}),Object(oe.jsxs)(rt.a,{fullScreen:!0,open:E,TransitionComponent:Vn,keepMounted:!0,onClose:H,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(oe.jsxs)(it.a,{id:"alert-dialog-slide-title",children:["Prescription Details",Object(oe.jsx)(y.a,{style:{position:"absolute",right:15},onClick:H,"aria-label":"close",children:Object(oe.jsx)(ut.a,{})})]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{id:"alert-dialog-slide-description",children:P?Object(oe.jsx)(un.a,{component:hn.a,children:Object(oe.jsxs)(jn.a,{"arial-label":"simple table",children:[Object(oe.jsx)(bn.a,{children:Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Medicine"}),Object(oe.jsx)(gn.a,{children:"Description"}),Object(oe.jsx)(gn.a,{children:"Quantity"}),Object(oe.jsx)(gn.a,{children:"Price"}),Object(oe.jsx)(gn.a,{children:"Unit"}),Object(oe.jsx)(gn.a,{children:"Total"})]})}),Object(oe.jsxs)(mn.a,{children:[P.map((function(e){var t=R.filter((function(t){return t.id===e.medicine_id}))[0];return Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:null===t||void 0===t?void 0:t.name}),Object(oe.jsx)(gn.a,{children:null===t||void 0===t?void 0:t.description}),Object(oe.jsx)(gn.a,{children:e.quantity}),Object(oe.jsx)(gn.a,{children:e.unitPrice}),Object(oe.jsx)(gn.a,{children:null===t||void 0===t?void 0:t.unit}),Object(oe.jsx)(gn.a,{children:e.totalPrice})]},e.id)})),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{colSpan:5,children:"Total price of medicine"}),Object(oe.jsxs)(gn.a,{children:[P.map((function(e){return e.totalPrice})).reduce((function(e,t){return e+t}),0)," $"]})]})]})]})}):""})}),Object(oe.jsx)(an.a,{})]})]})}var qn=Object(Ie.b)({palette:{primary:{main:Wt.a.A400}}}),Un=Object(j.a)({root:(Mn={height:qn.spacing(50),width:"100%",marginTop:qn.spacing(6)+2},Object(s.a)(Mn,qn.breakpoints.down("xs"),{marginTop:qn.spacing(6)+2}),Object(s.a)(Mn,"background","white"),Mn)});function Wn(){var e=Un(),t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(0),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(a.useState)(0),h=Object(o.a)(u,2),j=h[0],b=h[1],p=Object(a.useState)(!0),g=Object(o.a)(p,2),m=g[0],O=g[1],f=Object(a.useState)(),x=Object(o.a)(f,2),v=x[0],y=x[1],w=Object(a.useState)(),S=Object(o.a)(w,2),k=(S[0],S[1]),C=Object(a.useState)(),N=Object(o.a)(C,2),I=N[0],A=N[1],B=[{field:"id",headerName:"ID",width:300},{field:"prescription_id",hide:!0},{field:"employee_id",hide:!0},{field:"employee",headerName:"Employee",headerAlign:"center",width:400,renderCell:function(e){var t=e.getValue(e.id,"employee_id"),n=null===v||void 0===v?void 0:v.filter((function(e){return e.id===t}))[0],a=null===I||void 0===I?void 0:I.filter((function(e){return e.id===n.account_id}))[0];return console.log(I),Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("img",{style:{padding:30,height:100,width:"30%"},src:null===a||void 0===a?void 0:a.image,width:"50%"}),Object(oe.jsxs)("p",{children:[null===n||void 0===n?void 0:n.lastName," ",null===n||void 0===n?void 0:n.firstName]})]})}},{field:"date",headerName:"Released Date",width:300,renderCell:function(e){var t=new Date(e.getValue(e.id,"date"));return Object(oe.jsx)("p",{children:"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())})}}];function P(){return(P=Object(We.a)(Ue.a.mark((function e(){var t,n,a,c,i,o,s,l,u,h,j=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.length>0&&void 0!==j[0]?j[0]:"?p=1",O(!0),e.next=4,ge.get("".concat(pe.invoices).concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return console.log(e),O(!1),r(e.data.content),d(e.data.number),b(e.data.totalElements),{prescriptionIds:Object(nn.a)(new Set(e.data.content.map((function(e){return e.prescription_id})))),employeeIds:Object(nn.a)(new Set(e.data.content.map((function(e){return e.employee_id}))))}})).catch((function(e){return console.log(e.response)}));case 4:for(n=e.sent,a=[],c=[],i=0;i<(null===n||void 0===n||null===(o=n.prescriptionIds)||void 0===o?void 0:o.length);i++)a.push(ge.get("".concat(pe.prescriptions,"/").concat(n.prescriptionIds[i]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c.push(e.data)})).catch((function(e){return console.log(e.response)})));for(Promise.all(a).then((function(){return k(c)})),s=[],l=[],u=0;u<(null===n||void 0===n||null===(h=n.employeeIds)||void 0===h?void 0:h.length);u++)s.push(ge.get("".concat(pe.employees,"/").concat(n.employeeIds[u]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){l.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(s).then((function(){y(l);for(var e=[],t=[],n=0;n<(null===l||void 0===l?void 0:l.length);n++)e.push(ge.get("".concat(pe.accounts,"/").concat(l[n].account_id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return t.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(e).then((function(){return A(t)}))}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){P.apply(this,arguments)}()}),[]),Object(oe.jsx)("div",{className:e.root,children:m?Object(oe.jsx)("img",{style:{width:"100%",height:600},src:"/clinic-admin/images/loading.gif"}):Object(oe.jsx)(fe,{header:"LIST INVOICE",rows:c,columns:B,pageSize:5,createURL:"/invoices/create",server:!0,btnTitle:"Create",rowCount:j,handlePageChange:function(){},currentPage:l})})}var Gn=n(167),Yn=n.n(Gn),Hn=n(632),Jn=c.a.forwardRef((function(e,t){return Object(oe.jsx)(Xt.a,Object(u.a)({direction:"up",ref:t},e))})),$n=Object(Ie.b)({palette:{primary:{main:"#afc2cb"},secondary:{main:"#e1f5fe"}}});function Qn(){var e,t,n=Object(a.useState)(!1),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)([]),l=Object(o.a)(s,2),u=l[0],h=l[1],j=Object(a.useState)(0),b=Object(o.a)(j,2),p=b[0],g=b[1],m=Object(a.useState)(0),O=Object(o.a)(m,2),f=O[0],x=O[1],v=Object(a.useState)([]),w=Object(o.a)(v,2),S=w[0],k=w[1],C=Object(a.useState)(null),N=Object(o.a)(C,2),I=N[0],A=N[1],B=Object(a.useState)([]),P=Object(o.a)(B,2),D=P[0],T=P[1],z=Object(a.useState)([]),E=Object(o.a)(z,2),L=E[0],M=E[1],_=Object(a.useState)([]),R=Object(o.a)(_,2),V=R[0],F=R[1],q=Object(a.useState)(),U=Object(o.a)(q,2),W=U[0],G=U[1],Y=Object(d.g)(),H=Object(a.useContext)(yc),J=Object(a.useRef)(),$=[{field:"id",headerName:"ID",width:350},{field:"doctor_id",hide:!0},{field:"patient_id",hide:!0},{field:"doctor",headerName:"Doctor",width:300,renderCell:function(e){var t=e.getValue(e.id,"doctor_id"),n=L.filter((function(e){return e.id===t}))[0];return Object(oe.jsx)("p",{children:null===n||void 0===n?void 0:n.firstName})}},{field:"patient",headerName:"Patient",width:300,renderCell:function(e){var t=e.getValue(e.id,"patient_id"),n=V.filter((function(e){return e.id===t}))[0];return Object(oe.jsx)("p",{children:(null===n||void 0===n?void 0:n.lastName)+" "+(null===n||void 0===n?void 0:n.firstName)})}},{field:"date",headerName:"Date",width:200,renderCell:function(e){return Object(oe.jsx)(Ee.a,{theme:$n,children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{readOnly:!0,style:{width:200},color:"primary",InputProps:{readOnly:!0},format:"dd-MM-yyyy",onChange:function(e){return alert(e)},name:"dateOfBirth",value:e.getValue(e.id,"joinDate")})})})}}];function Q(){return(Q=Object(We.a)(Ue.a.mark((function e(){var t,n,a,c,r,i,o,s,l,d,u=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:"?p=1",e.next=3,ge.get("".concat(pe.prescriptions).concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return h(e.data.content),g(e.data.number),x(e.data.totalElements),{doctorId:Object(nn.a)(new Set(e.data.content.map((function(e){return e.doctor_id})))),patientId:Object(nn.a)(new Set(e.data.content.map((function(e){return e.patient_id}))))}})).catch((function(e){403!==e.response.status?401===e.response.status&&window.confirm("Login expired! Please login again")&&(localStorage.clear(),Y.push(xe)):be()("Your role was forbidden","","error")}));case 3:for(n=e.sent,a=[],c=[],r=0;r<(null===n||void 0===n||null===(i=n.doctorId)||void 0===i?void 0:i.length);r++)a.push(ge.get("".concat(pe.doctors,"/").concat(n.doctorId[r]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c.push(e.data)})).catch((function(e){return console.log(e.response)})));for(Promise.all(a).then((function(){M(c)})),o=[],s=[],l=0;l<(null===n||void 0===n||null===(d=n.patientId)||void 0===d?void 0:d.length);l++)o.push(ge.get("".concat(pe.patients,"/").concat(n.patientId[l]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return s.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(o).then((function(){F(s)}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=Object(We.a)(Ue.a.mark((function e(t){var n,a,c,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.get("".concat(pe.prescriptions,"/").concat(t,"/prescriptionDetails"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return console.log(e),k(e.data.content),e.data.content.map((function(e){return e.medicine_id}))})).catch((function(e){return console.log(e.response)}));case 2:for(n=e.sent,a=[],c=[],r=0;r<(null===n||void 0===n?void 0:n.length);r++)a.push(ge.get("".concat(pe.medicines,"/").concat(n[r]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c.push(e.data)})).catch((function(e){return console.log(e)})));Promise.all(a).then((function(){T(c)})),G(Object(Hn.a)());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){i(!1),A(),k(),G()}return Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsx)(Ae.a,{item:!0,xs:5,children:Object(oe.jsxs)("div",{children:[Object(oe.jsx)(re.a,{id:"patient",variant:"outlined",onClick:function(){!function(){Q.apply(this,arguments)}(),i(!0)},children:"Choose prescription"}),Object(oe.jsxs)(rt.a,{disableEnforceFocus:!0,fullScreen:!0,open:r,TransitionComponent:Jn,keepMounted:!0,onClose:K,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(oe.jsxs)(it.a,{id:"alert-dialog-slide-title",children:[Object(oe.jsx)(y.a,{edge:"start",color:"inherit",onClick:K,"aria-label":"close",children:Object(oe.jsx)(ut.a,{})}),"Choose a prescription",Object(oe.jsx)(y.a,{style:{position:"absolute",right:15},onClick:function(){i(!1)},"aria-label":"save",children:Object(oe.jsx)(jt.a,{})})]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsxs)(st.a,{id:"alert-dialog-slide-description",children:[Object(oe.jsx)(fe,{rows:u,columns:$,btnTitle:"",createURL:"",header:"",server:!0,rowCount:f,currentPage:p,pageSize:7,handleSelectionChange:function(e){!function(e){X.apply(this,arguments)}(e);var t=u.filter((function(t){return t.id==e}))[0];A(t)}}),S?Object(oe.jsx)(un.a,{component:hn.a,children:Object(oe.jsxs)(jn.a,{"arial-label":"simple table",children:[Object(oe.jsx)(bn.a,{children:Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Medicine"}),Object(oe.jsx)(gn.a,{children:"Description"}),Object(oe.jsx)(gn.a,{children:"Quantity"}),Object(oe.jsx)(gn.a,{children:"Price"}),Object(oe.jsx)(gn.a,{children:"Unit"}),Object(oe.jsx)(gn.a,{children:"Total"})]})}),Object(oe.jsxs)(mn.a,{children:[S.map((function(e){var t=D.filter((function(t){return t.id===e.medicine_id}))[0];return Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:null===t||void 0===t?void 0:t.name}),Object(oe.jsx)(gn.a,{children:null===t||void 0===t?void 0:t.description}),Object(oe.jsx)(gn.a,{children:e.quantity}),Object(oe.jsx)(gn.a,{children:e.unitPrice}),Object(oe.jsx)(gn.a,{children:null===t||void 0===t?void 0:t.unit}),Object(oe.jsx)(gn.a,{children:e.totalPrice})]},e.id)})),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{colSpan:5,children:"Total price of medicine"}),Object(oe.jsxs)(gn.a,{children:[S.map((function(e){return e.totalPrice})).reduce((function(e,t){return e+t}),0)," $"]})]})]})]})}):""]})}),Object(oe.jsx)(an.a,{})]})]})}),Object(oe.jsx)(Ae.a,{item:!0,xs:7,children:Object(oe.jsx)(un.a,{style:{textAlign:"center"},component:hn.a,children:Object(oe.jsx)(jn.a,{ref:J,"arial-label":"simple table",children:Object(oe.jsxs)(mn.a,{children:[Object(oe.jsx)(pn.a,{children:Object(oe.jsx)(gn.a,{style:{textAlign:"center",fontWeight:"bold"},colSpan:4,children:"DHB HOSPITAL"})}),Object(oe.jsx)(pn.a,{children:Object(oe.jsx)(gn.a,{style:{textAlign:"center"},colSpan:4,children:"www.dhbhospital.com"})}),Object(oe.jsx)(pn.a,{children:Object(oe.jsx)(gn.a,{style:{textAlign:"center"},colSpan:4,children:"97 Vo Van Tan, Ward 6, District 3, Ho Chi Minh city"})}),Object(oe.jsx)(pn.a,{children:Object(oe.jsx)(gn.a,{style:{textAlign:"center",fontWeight:"bold"},colSpan:4,children:"INVOICE"})}),I?Object(oe.jsx)(pn.a,{children:Object(oe.jsx)(gn.a,{colSpan:4,style:{textAlign:"center"},children:Object(oe.jsx)(Yn.a,{id:"qrcode",value:"".concat(pe.invoices,"/").concat(W),size:100,level:"H",includeMargin:!0})})}):"",Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{colSpan:1,children:"Invoice ID:"}),Object(oe.jsx)(gn.a,{colSpan:3,children:W})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{colSpan:1,children:"Released date:"}),Object(oe.jsx)(gn.a,{colSpan:3,children:"".concat((new Date).getDate(),"/").concat((new Date).getMonth()+1,"/").concat((new Date).getFullYear())})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{colSpan:1,children:"Employee:"}),Object(oe.jsx)(gn.a,{colSpan:3,children:"".concat(null===H||void 0===H||null===(e=H.currentAuth)||void 0===e?void 0:e.lastName," ").concat(null===H||void 0===H||null===(t=H.currentAuth)||void 0===t?void 0:t.firstName)})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{colSpan:1,children:"Service:"}),Object(oe.jsx)(gn.a,{colSpan:3,children:null===I||void 0===I?void 0:I.serviceName})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{colSpan:1,children:"Service fee:"}),Object(oe.jsx)(gn.a,{colSpan:3,children:"".concat((null===I||void 0===I?void 0:I.serviceFee)||0," $")})]}),Object(oe.jsx)(pn.a,{children:Object(oe.jsx)(gn.a,{style:{textAlign:"center",fontWeight:"bold"},colSpan:4,children:"MEDICINE"})}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Name"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Quantity"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Price"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Total"})]}),S&&S.map((function(e){var t=D.filter((function(t){return t.id===e.medicine_id}))[0];return Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:null===t||void 0===t?void 0:t.name}),Object(oe.jsx)(gn.a,{children:e.quantity}),Object(oe.jsx)(gn.a,{children:e.unitPrice}),Object(oe.jsx)(gn.a,{children:e.totalPrice})]})})),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{colSpan:1,children:"Total price of medicines:"}),Object(oe.jsxs)(gn.a,{colSpan:3,children:[S&&S.map((function(e){return e.totalPrice})).reduce((function(e,t){return e+t}),0)," $"]})]}),Object(oe.jsx)(pn.a,{children:Object(oe.jsxs)(gn.a,{style:{textAlign:"center",fontWeight:"bold"},colSpan:4,children:["TOTAL PRICE: ",S&&S.map((function(e){return e.totalPrice})).reduce((function(e,t){return e+t}),0)+(null===I||void 0===I?void 0:I.serviceFee)," $"]})})]})})})}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px",position:"absolute",top:120,right:0},title:"Create",color:"primary",onClick:function(){if(I){for(var e=S.map((function(e){return e.totalPrice})).reduce((function(e,t){return e+t}),0),t=S.map((function(e){return e.medicine_id})),n=[],a=[],c=0;c<(null===t||void 0===t?void 0:t.length);c++)n.push(ge.get("".concat(pe.medicines,"/").concat(t[c]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return a.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(n).then((function(){ge("".concat(pe.prescriptions,"/").concat(I.id,"\n            /employees/").concat(H.currentAuth.userId,"/invoices"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{id:W,totalPrice:e}}).then((function(e){if(console.log(e),201===e.status){be()("Success","","success"),Y.goBack();for(var t=function(e){var t,n=null===(t=S.filter((function(t){return t.medicine_id===a[e].id}))[0])||void 0===t?void 0:t.quantity,c=new FormData;c.append("name",a[e].name),c.append("description",a[e].description),c.append("unit",a[e].unit),c.append("price",a[e].price),c.append("unitInStock",a[e].unitInStock-(n||0)),ge("".concat(pe.medicines,"/").concat(a[e].id),{method:"put",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"Multipart/form-data"},data:c}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e.response)}))},n=0;n<(null===a||void 0===a?void 0:a.length);n++)t(n)}})).catch((function(e){return console.log(e.response)}))}))}else be()("Please choose a prescription","","warning")}}),Object(oe.jsx)(fn.a,{trigger:function(){return Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px",position:"absolute",top:160,right:0},title:"Print PDF",color:"primary"})},content:function(){return J.current}})]})}var Xn=n(208),Kn=n(277),Zn=n(638),ea=n(298),ta=n.n(ea),na=n(287),aa=n.n(na),ca=(n(537),n(285)),ra=n(172),ia=n(310),oa=240,sa=(ne.a.A400,c.a.createContext()),la=Object(j.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),background:"#e1f5fe",color:"#000000"},appBarShift:{marginLeft:oa,width:"calc(100% - ".concat(oa,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:oa,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:oa,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(s.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:Object(s.a)({flexGrow:1,padding:e.spacing(10)},e.breakpoints.down("xs"),{padding:e.spacing(1)})}}));function da(){var e,t,n,r,i,d,u,j=la(),w=Object(b.a)(),k=c.a.useState(!1),N=Object(o.a)(k,2),D=N[0],z=N[1],L=Object(a.useContext)(yc),_=Object(a.useState)(null),V=Object(o.a)(_,2),q=V[0],W=V[1],Y=Object(a.useState)(null),J=Object(o.a)(Y,2),Q=J[0],K=J[1],ee=Object(a.useState)([]),ne=Object(o.a)(ee,2),ae=ne[0],ce=ne[1],re=Object(a.useState)(0),ie=Object(o.a)(re,2),se=ie[0],le=ie[1];function de(){W(null)}function ue(){K(null)}return Object(a.useEffect)((function(){if(!ia.a.apps.length){Object(ca.a)({apiKey:"AIzaSyB4eNncvS4xXvEmLQCAfAXgmiJOJnekaQU",authDomain:"dhbhospital.firebaseapp.com",databaseURL:"https://dhbhospital-default-rtdb.firebaseio.com",projectId:"dhbhospital",storageBucket:"dhbhospital.appspot.com",messagingSenderId:"894178118006",appId:"1:894178118006:web:533448f7c6027028881257",measurementId:"G-SQ482RM39Q"});console.log("Connected")}var e=Object(ra.a)(),t=Object(ra.c)(e,"notifications");Object(ra.b)(t,(function(e){var t=[];le(e.size),e.forEach((function(e){var n=e.val();t.push(n)})),Promise.all(t).then((function(){return ce(t)}))}))}),[]),Object(oe.jsxs)(sa.Provider,{children:[Object(oe.jsx)(f.a,{}),Object(oe.jsx)(g.a,{position:"fixed",className:Object(h.a)(j.appBar,Object(s.a)({},j.appBarShift,D)),children:Object(oe.jsxs)(m.a,{children:[Object(oe.jsx)(y.a,{color:"inherit","aria-label":"open drawer",onClick:function(){z(!0)},edge:"start",className:Object(h.a)(j.menuButton,Object(s.a)({},j.hide,D)),children:Object(oe.jsx)(S.a,{})}),Object(oe.jsx)(T.a,{style:{marginRight:10}}),Object(oe.jsx)(x.a,{variant:"h6",noWrap:!0,children:"DHB HOSPITAL"}),Object(oe.jsx)("div",{style:{position:"absolute",right:35,width:100},children:L.isAuth?Object(oe.jsxs)("div",{children:["ROLE_EMPLOYEE"===(null===(e=L.currentAuth)||void 0===e?void 0:e.role)?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Xn.a,{badgeContent:se,color:"secondary",style:{marginTop:-20},children:Object(oe.jsx)(aa.a,{style:{cursor:"pointer"},onClick:function(e){W(e.currentTarget),le(0)}})}),Object(oe.jsxs)(Kn.a,{anchorEl:q,keepMounted:!0,open:Boolean(q),onClose:de,children:[ae&&ae.map((function(e){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(Ye.a,{onClick:de,children:[Object(oe.jsx)(x.a,{children:e.content}),Object(oe.jsx)(x.a,{variant:"caption",children:"(".concat(e.time,")")})]}),Object(oe.jsx)(v.a,{})]})})),0===ae.length?Object(oe.jsx)(Ye.a,{onClick:de,children:Object(oe.jsx)(x.a,{children:"There isn't no notifications recently"})}):""]})]}):"",Object(oe.jsx)(Zn.a,{style:{background:"white",cursor:"pointer",display:"inline-block",marginLeft:20},variant:"square",onClick:function(e){K(e.currentTarget)},src:null===(t=L.currentAuth)||void 0===t?void 0:t.image,width:"100%"}),Object(oe.jsxs)(Kn.a,{anchorEl:Q,keepMounted:!0,open:Boolean(Q),onClose:ue,children:[Object(oe.jsx)(Ye.a,{onClick:ue,children:"Profile"}),Object(oe.jsx)(Ye.a,{onClick:function(){localStorage.clear(),L.setAuth(!1)},children:"Log out"})]})]}):""})]})}),Object(oe.jsxs)(p.a,{variant:"permanent",className:Object(h.a)(j.drawer,(n={},Object(s.a)(n,j.drawerOpen,D),Object(s.a)(n,j.drawerClose,!D),n)),classes:{paper:Object(h.a)((r={},Object(s.a)(r,j.drawerOpen,D),Object(s.a)(r,j.drawerClose,!D),r))},children:[Object(oe.jsx)("div",{className:j.toolbar,children:Object(oe.jsx)(y.a,{onClick:function(){z(!1)},children:"rtl"===w.direction?Object(oe.jsx)(I.a,{}):Object(oe.jsx)(C.a,{})})}),Object(oe.jsx)(v.a,{}),Object(oe.jsxs)(O.a,{children:[Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/")},selected:"/"===L.page,component:l.b,to:"/",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(E.a,{})}),Object(oe.jsx)(P.a,{primary:"Dashboard"})]}),"ROLE_ADMIN"===(null===(i=L.currentAuth)||void 0===i?void 0:i.role)?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/roles")},selected:L.page.includes("/roles"),component:l.b,to:"/roles",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(M.a,{})}),Object(oe.jsx)(P.a,{primary:"Role"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/accounts")},selected:L.page.includes("/accounts"),component:l.b,to:"/accounts",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(R.a,{})}),Object(oe.jsx)(P.a,{primary:"Account"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/admins")},selected:L.page.includes("/admins"),component:l.b,to:"/admins",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(U.a,{})}),Object(oe.jsx)(P.a,{primary:"Admin"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/doctors")},selected:L.page.includes("/doctors"),component:l.b,to:"/doctors",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(G.a,{})}),Object(oe.jsx)(P.a,{primary:"Doctor"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/employees")},selected:L.page.includes("/employees"),component:l.b,to:"/employees",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(H.a,{})}),Object(oe.jsx)(P.a,{primary:"Employee"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/patients")},selected:L.page.includes("/patients"),component:l.b,to:"/patients",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(tt.a,{})}),Object(oe.jsx)(P.a,{primary:"Patient"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/medicines")},selected:L.page.includes("/medicines"),component:l.b,to:"/medicines",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(nt.a,{})}),Object(oe.jsx)(P.a,{primary:"Medicines"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/categories")},selected:L.page.includes("/categories"),component:l.b,to:"/categories",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(at.a,{})}),Object(oe.jsx)(P.a,{primary:"Medicine Categories"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/shifts")},selected:L.page.includes("/shifts"),component:l.b,to:"/shifts",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(F.a,{})}),Object(oe.jsx)(P.a,{primary:"Shifts"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/schedules")},selected:L.page.includes("/schedules"),component:l.b,to:"/schedules",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)($.a,{})}),Object(oe.jsx)(P.a,{primary:"Schedules"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/bookings")},selected:L.page.includes("/bookings"),component:l.b,to:"/bookings",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(X.a,{})}),Object(oe.jsx)(P.a,{primary:"Bookings"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/chart")},selected:L.page.includes("/chart"),component:l.b,to:"/chart",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(ta.a,{})}),Object(oe.jsx)(P.a,{primary:"Chart"})]})]}):"","ROLE_DOCTOR"===(null===(d=L.currentAuth)||void 0===d?void 0:d.role)?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/patients")},selected:L.page.includes("/patients"),component:l.b,to:"/patients",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(tt.a,{})}),Object(oe.jsx)(P.a,{primary:"Patient"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/prescriptions")},selected:L.page.includes("/prescriptions"),component:l.b,to:"/prescriptions",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(Z.a,{})}),Object(oe.jsx)(P.a,{primary:"Prescriptions"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/medicines")},selected:L.page.includes("/medicines"),component:l.b,to:"/medicines",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(nt.a,{})}),Object(oe.jsx)(P.a,{primary:"Medicines"})]})]}):"","ROLE_EMPLOYEE"===(null===(u=L.currentAuth)||void 0===u?void 0:u.role)?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/bookings")},selected:L.page.includes("/bookings"),component:l.b,to:"/bookings",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(X.a,{})}),Object(oe.jsx)(P.a,{primary:"Bookings"})]}),Object(oe.jsxs)(A.a,{button:!0,onClick:function(){return L.setPage("/invoices")},selected:L.page.includes("/invoices"),component:l.b,to:"/invoices",children:[Object(oe.jsx)(B.a,{children:Object(oe.jsx)(te.a,{})}),Object(oe.jsx)(P.a,{primary:"Invoices"})]})]}):""]}),Object(oe.jsx)(v.a,{})]})]})}var ua=n(311),ha=n(617),ja=n(628),ba=n(618),pa=Object(Ie.b)();function ga(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(d.g)(),h=function(e){"password"===e.target.name?c(e.target.value):"confirmPassword"===e.target.name&&l(e.target.value)};return Object(a.useEffect)((function(){lt.ValidatorForm.addValidationRule("isPasswordMatch",(function(e){return e===document.getElementsByName("password")[0].value}))}),[]),Object(oe.jsx)(Ee.a,{theme:pa,children:Object(oe.jsxs)(ha.a,{component:"main",style:{width:"100%",margin:"0 auto",marginTop:200,marginLeft:100},children:[Object(oe.jsx)(f.a,{}),Object(oe.jsxs)(ja.a,{style:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(oe.jsx)(Zn.a,{style:{margin:1,backgroundColor:"#e1f5fe",color:"black"},children:Object(oe.jsx)(ba.a,{})}),Object(oe.jsx)(x.a,{component:"h1",variant:"h5",children:"Reset password"}),Object(oe.jsxs)(lt.ValidatorForm,{onSubmit:function(e){e.preventDefault();var t=window.location.href.substr(22,36);ge("".concat(pe.accounts,"/").concat(t),{method:"patch",data:{password:n}}).then((function(e){200===e.status&&(be()("Success","","success"),u.push("/"))})).catch((function(e){return console.log(e.response)}))},style:{marginTop:1},children:[Object(oe.jsx)(lt.TextValidator,{style:{marginTop:20,minWidth:400},validators:["required"],errorMessages:["this field is required"],id:"password",label:"Password",name:"password",type:"password",value:n,onChange:h,autoFocus:!0}),Object(oe.jsx)(lt.TextValidator,{style:{marginTop:30,marginBottom:40,minWidth:400},validators:["required","isPasswordMatch"],errorMessages:["this field is required","password not match"],name:"confirmPassword",label:"Confirm password",type:"password",value:s,onChange:h,id:"confirmPassword"}),Object(oe.jsx)(re.a,{type:"submit",fullWidth:!0,variant:"outlined",style:{marginTop:3,marginBottom:2,border:"1px solid #2979ff",color:"#2979ff"},children:"Reset"})]})]})]})})}function ma(e){var t=e.isAuth,n=e.component,a=Object(ua.a)(e,["isAuth","component"]);return Object(oe.jsx)(d.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return t?Object(oe.jsx)(n,{}):window.location.href.includes("/reset_password")?Object(oe.jsx)(ga,{}):Object(oe.jsx)(d.a,{to:{pathname:"/login"}})}}))}var Oa=n(619),fa=n(318),xa=n(639),va=n(623),ya=n(633),wa=n(620),Sa=n(621),ka=n(622),Ca=n(121);function Na(e){return Object(oe.jsxs)(x.a,Object(u.a)(Object(u.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(oe.jsx)(Oa.a,{color:"inherit",href:"https://material-ui.com/",children:"DHB Hospital"})," ",(new Date).getFullYear(),"."]}))}var Ia=Object(Ie.b)();function Aa(e){var t=Object(a.useState)({username:"",password:""}),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),s=Object(o.a)(i,2),l=s[0],h=s[1],j=Object(d.g)(),b=Object(a.useContext)(yc),p=Object(a.useState)(0),g=Object(o.a)(p,2),m=g[0],O=g[1],v=Object(a.useState)(!1),y=Object(o.a)(v,2),w=y[0],S=y[1],k=Object(a.useState)(""),C=Object(o.a)(k,2),N=C[0],I=C[1],A=Object(a.useState)(""),B=Object(o.a)(A,2),P=B[0],D=B[1];function T(){return(T=Object(We.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=[]).push(ce()("http://localhost:8080/auth/signIn",{method:"POST",headers:{"Content-Type":"application/json"},data:{username:c.username,password:c.password}}).then((function(e){401!=e.status&&(console.log(e.data),localStorage.setItem("token",e.data.accessToken))})).catch((function(e){var t,n;console.log(e.response.data.status),401!==(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.status)||be()("Invalid username or password","","error")}))),Promise.all(n).then((function(){setTimeout((function(){ce()("http://localhost:8080/auth/admin/user",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),200===e.status&&(b.setAuth(!0),b.setCurrentAuth(e.data),b.setPage("/login"!==b.page?b.page:"/"),j.push("/"))})).catch((function(e){if(console.log(e.response),403===e.response.status)return be()("Your role was forbidden","","error"),void localStorage.clear()}))}),500)})),t.preventDefault();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){var t=Object(u.a)({},c);t[e.target.name]=e.target.value,r(t)}function E(){h(!1),O(0)}return Object(oe.jsxs)(Ee.a,{theme:Ia,children:[Object(oe.jsxs)(Ae.a,{container:!0,component:"main",style:{height:"100vh"},children:[Object(oe.jsx)(f.a,{}),Object(oe.jsx)(Ae.a,{item:!0,xs:!1,sm:4,md:7,style:{backgroundImage:"url(https://image.thanhnien.vn/1024/uploaded/hoalp/2021_07_04/hospital-playlist-poster3_kfoj.jpeg)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(oe.jsxs)(Ae.a,{item:!0,xs:12,sm:8,md:5,component:hn.a,elevation:6,square:!0,children:[Object(oe.jsxs)(ja.a,{style:{margin:"50px 4px 8px 4px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(oe.jsx)(Zn.a,{style:{margin:1,backgroundColor:"#e1f5fe",color:"black"},children:Object(oe.jsx)(ba.a,{})}),Object(oe.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(oe.jsxs)(lt.ValidatorForm,{onSubmit:function(e){return T.apply(this,arguments)},style:{marginTop:1},children:[Object(oe.jsx)(lt.TextValidator,{style:{width:"60%",margin:"30px 0px 0px 125px"},validators:["required"],errorMessages:["this field is required"],id:"username",label:"Username",name:"username",variant:"outlined",onChange:z,value:c.username}),Object(oe.jsx)(lt.TextValidator,{style:{width:"60%",margin:"25px 0px 0px 125px"},validators:["required"],errorMessages:["this field is required"],name:"password",label:"Password",type:"password",id:"password",variant:"outlined",onChange:z,value:c.password}),Object(oe.jsx)(St.a,{style:{display:"block",margin:"20px 0px 0px 115px"},control:Object(oe.jsx)(fa.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(oe.jsx)(re.a,{type:"submit",variant:"outlined",style:{marginTop:20,marginBottom:2,marginLeft:125,width:"60%",border:"1px solid #2196f3",color:"#2196f3"},children:"Sign In"}),Object(oe.jsx)(Ae.a,{container:!0,children:Object(oe.jsx)(Ae.a,{item:!0,xs:12,style:{marginTop:10,paddingLeft:125},children:Object(oe.jsx)(Oa.a,{onClick:function(){h(!0),setTimeout((function(){Object(Ca.b)(6,"black","white")}),100)},style:{color:"#2196f3"},children:"Forgot password?"})})}),Object(oe.jsx)(re.a,{type:"submit",variant:"outlined",startIcon:Object(oe.jsx)(wa.a,{}),style:{marginTop:80,marginBottom:2,marginLeft:125,width:"60%",border:"1px solid #2196f3",color:"#2196f3"},children:"LOGIN WITH FACEBOOK"}),Object(oe.jsx)(re.a,{type:"submit",variant:"outlined",startIcon:Object(oe.jsx)(Sa.a,{}),style:{marginTop:20,marginBottom:2,marginLeft:125,width:"60%",border:"1px solid #2196f3",color:"#2196f3"},children:"LOGIN WITH TWITTER"}),Object(oe.jsx)(re.a,{type:"submit",variant:"outlined",startIcon:Object(oe.jsx)(ka.a,{}),style:{marginTop:20,marginBottom:2,marginLeft:125,width:"60%",border:"1px solid #2196f3",color:"#2196f3"},children:"LOGIN WITH GOOGLE"})]})]}),Object(oe.jsx)(Na,{style:{marginTop:45}})]})]}),Object(oe.jsxs)(rt.a,{fullWidth:!0,maxWidth:"sm",open:l,onClose:E,children:[Object(oe.jsx)(it.a,{children:Object(oe.jsx)(xa.a,{activeStep:m,alternativeLabel:!0,children:["Enter username","Check mail"].map((function(e,t){return Object(oe.jsx)(va.a,Object(u.a)(Object(u.a)({},{}),{},{children:Object(oe.jsx)(ya.a,Object(u.a)(Object(u.a)({},{}),{},{children:e}))}),e)}))})}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{children:0===m?Object(oe.jsxs)(lt.ValidatorForm,{children:[Object(oe.jsx)(lt.TextValidator,{style:{marginLeft:120},variant:"outlined",name:"username",label:"Username",onChange:function(e){I(e.target.value),""!==P&&""!==e.target.value?S(!0):S(!1)},value:N}),Object(oe.jsx)("div",{style:{marginLeft:120,marginTop:20,marginBottom:20},children:Object(oe.jsx)(Ca.a,{})}),Object(oe.jsx)(lt.TextValidator,{style:{marginLeft:120},variant:"outlined",name:"captcha",label:"Captcha",value:P,onChange:function(e){D(e.target.value),""!==e.target.value&&""!==N?S(!0):S(!1)}})]}):Object(oe.jsx)(x.a,{variant:"h6",style:{marginLeft:120},children:"We sent an email to your email address base on your username."})})}),Object(oe.jsxs)(an.a,{children:[Object(oe.jsx)(re.a,{disabled:0===m,color:"secondary",variant:"contained",onClick:function(){O((function(e){return e-1})),setTimeout((function(){Object(Ca.b)(6,"black","white")}),100)},children:"Go back"}),1===m?Object(oe.jsx)(re.a,{color:"primary",variant:"contained",onClick:E,children:"Close"}):Object(oe.jsx)(re.a,{disabled:1===m||!w,color:"primary",variant:"contained",onClick:function(){if(0===m){if(!0!==Object(Ca.c)(P))return be()("Captcha not match","","error"),void Object(Ca.b)(6,"black","white");ge.get("".concat(pe.accounts,"/").concat(N,"/forgot_password"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200===e.status&&O((function(e){return e+1}))})).catch((function(e){var t,n;be()(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,"","error")}))}},children:"Next"})]})]})]})}var Ba,Pa=n(630),Da=n(624),Ta=n(202),za=n.n(Ta),Ea=n(301),La=n.n(Ea),Ma=n(302),_a=n.n(Ma),Ra=n(303),Va=n.n(Ra),Fa=n(304),qa=n.n(Fa),Ua=n(203),Wa=n.n(Ua),Ga=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ya(e){var t=Object(d.h)().userId,n=Object(a.useState)(),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(),l=Object(o.a)(s,2),u=l[0],h=l[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),p=b[0],g=b[1],m=Object(a.useState)([]),O=Object(o.a)(m,2),f=O[0],v=O[1],w=Object(a.useState)(0),S=Object(o.a)(w,2),k=S[0],C=S[1],N=Object(a.useState)(0),I=Object(o.a)(N,2),A=I[0],B=I[1],P=Object(a.useState)(0),D=Object(o.a)(P,2),z=(D[0],D[1]),E=Object(a.useState)(!1),L=Object(o.a)(E,2),M=L[0],_=L[1],R=Object(a.useState)(!1),V=Object(o.a)(R,2),F=V[0],q=V[1],U=Object(a.useState)([]),W=Object(o.a)(U,2),G=W[0],Y=W[1],H=Object(a.useState)(!1),J=Object(o.a)(H,2),$=J[0],Q=J[1],X=Object(a.useState)([]),K=Object(o.a)(X,2),Z=K[0],ee=K[1],te=Object(a.useState)(),ne=Object(o.a)(te,2),ae=ne[0],ce=ne[1],re=Object(a.useState)(!1),ie=Object(o.a)(re,2),se=ie[0],le=ie[1],de=Object(a.useState)(!1),ue=Object(o.a)(de,2),he=ue[0],je=ue[1],be=Object(a.useState)(),me=Object(o.a)(be,2),Oe=me[0],fe=me[1],xe=Object(a.useState)([]),ve=Object(o.a)(xe,2),ye=ve[0],we=ve[1],Se=Object(a.useState)(0),ke=Object(o.a)(Se,2),Ce=ke[0],Ne=ke[1],Ie=e.role;function Be(){return(Be=Object(We.a)(Ue.a.mark((function e(){var n,a,c,r,o,s,l=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:"?p=1",e.next=3,ge.get("".concat(pe[Ie],"/").concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return console.log(e),i(e.data),e.data.account_id})).catch((function(e){return console.log(e)}));case 3:return a=e.sent,e.next=6,ge.get("".concat(pe.accounts,"/").concat(a),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return console.log(e),h(e.data),e.data}));case 6:return e.sent,e.next=9,ge.get("".concat(pe[Ie],"/").concat(t,"/prescriptions").concat(n),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return console.log(e),g(e.data.content),e.data.content.map((function(e){return e.id}))})).catch((function(e){return console.log(e)}));case 9:for(c=e.sent,r=[],o=[],s=0;s<(null===c||void 0===c?void 0:c.length);s++)r.push(ge.get("".concat(pe.prescriptions,"/").concat(c[s],"/prescriptionDetails"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return o.push(e.data.content)})).catch((function(e){return console.log(e)})));Promise.all(r).then((function(){console.log(o),v(o)}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"?p=1";ge.get("".concat(pe.patients,"/").concat(r.id,"/prescriptions").concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){g(e.data.content),B(e.data.totalPages),z(e.data.totalElements),C(e.data.number),q(!0)})).catch((function(e){return console.log(e)}))}function De(){return(De=Object(We.a)(Ue.a.mark((function e(t){var n,a,c,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.get("".concat(pe.doctors,"/").concat(t.doctor_id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return fe(e.data)})).catch((function(e){return console.log(e.response)}));case 2:return e.sent,e.next=5,ge.get("".concat(pe.prescriptions,"/").concat(t.id,"/prescriptionDetails"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return console.log(e),v(e.data.content),e.data.content.map((function(e){return e.medicine_id}))})).catch((function(e){return console.log(e.response)}));case 5:for(n=e.sent,a=[],c=[],r=0;r<(null===n||void 0===n?void 0:n.length);r++)a.push(ge.get("".concat(pe.medicines,"/").concat(n[r]),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c.push(e.data)})).catch((function(e){return console.log(e)})));Promise.all(a).then((function(){we(c)}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){Be.apply(this,arguments)}()}),[]),Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,item:!0,xs:4,children:[Object(oe.jsxs)(Ae.a,{item:!0,xs:12,children:[Object(oe.jsx)(Zn.a,{style:{width:150,height:150,margin:"0 auto"},src:null===u||void 0===u?void 0:u.image}),Object(oe.jsx)(x.a,{style:{textAlign:"center",fontWeight:"bold",marginTop:20},children:(null===r||void 0===r?void 0:r.lastName)+" "+(null===r||void 0===r?void 0:r.firstName)})]}),Object(oe.jsx)(Ae.a,{item:!0,xs:12,children:Object(oe.jsxs)(Pa.a,{style:{marginLeft:55},orientation:"vertical",indicatorColor:"primary",textColor:"primary",value:Ce,onChange:function(e,t){Ne(t)},children:[Object(oe.jsx)(Da.a,{label:"Profile"}),Object(oe.jsx)(Da.a,{label:"Health records"})]})})]}),Object(oe.jsx)(Ae.a,{item:!0,xs:8,children:0===Ce?Object(oe.jsx)(un.a,{component:hn.a,children:Object(oe.jsx)(jn.a,{children:Object(oe.jsxs)(mn.a,{children:[Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Full name"}),Object(oe.jsx)(gn.a,{children:(null===r||void 0===r?void 0:r.lastName)+" "+(null===r||void 0===r?void 0:r.firstName)})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Gender"}),Object(oe.jsx)(gn.a,{children:null===r||void 0===r?void 0:r.gender})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Birthday"}),Object(oe.jsx)(gn.a,{children:"".concat(new Date(null===r||void 0===r?void 0:r.dateOfBirth).getDate(),"/").concat(new Date(null===r||void 0===r?void 0:r.dateOfBirth).getMonth()+1,"/").concat(new Date(null===r||void 0===r?void 0:r.dateOfBirth).getFullYear())})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Phone"}),Object(oe.jsx)(gn.a,{children:null===r||void 0===r?void 0:r.phone})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Email"}),Object(oe.jsx)(gn.a,{children:null===r||void 0===r?void 0:r.email})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:"Address"}),Object(oe.jsx)(gn.a,{children:null===r||void 0===r?void 0:r.address})]})]})})}):Object(oe.jsx)(Ae.a,{container:!0,spacing:8,children:Object(oe.jsxs)(Ae.a,{item:!0,xs:12,container:!0,children:[Object(oe.jsxs)(Ae.a,{style:{textAlign:"center"},item:!0,xs:4,children:[Object(oe.jsx)(za.a,{color:"primary",style:{fontSize:108,textAlign:"center",cursor:"pointer"},onClick:function(){return Pe()}}),Object(oe.jsx)(x.a,{color:"textPrimary",children:"Health records"})]}),Object(oe.jsxs)(Ae.a,{style:{textAlign:"center"},item:!0,xs:4,children:[Object(oe.jsx)(La.a,{style:{fontSize:108,textAlign:"center",cursor:"pointer"},color:"primary",onClick:function(){ge.get("".concat(pe.patients,"/").concat(r.id,"/services/").concat("Covid vaccination","/prescriptions"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return Y(e.data.content)})).catch((function(e){return console.log(e)})),Q(!0)}}),Object(oe.jsx)(x.a,{color:"textPrimary",children:"Vaccination confirmation"})]}),Object(oe.jsxs)(Ae.a,{style:{textAlign:"center"},item:!0,xs:4,children:[Object(oe.jsx)(T.a,{color:"primary",style:{fontSize:108,textAlign:"center",cursor:"pointer"},onClick:function(){ge.get("".concat(pe.patients,"/").concat(r.id,"/services/").concat("Covid test","/prescriptions"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return ee(e.data.content)})).catch((function(e){return console.log(e)})),_(!0)}}),Object(oe.jsx)(x.a,{color:"textPrimary",children:"Covid tests"})]})]})})}),Object(oe.jsxs)(rt.a,{open:F,onClose:function(){return q(!1)},children:[Object(oe.jsxs)(it.a,{children:[Object(oe.jsx)(x.a,{style:{textAlign:"center"},color:"textPrimary",variant:"h5",children:"Health records"}),Object(oe.jsx)(za.a,{style:{textAlign:"center",display:"block",width:"100%",fontSize:82,marginTop:20,marginBottom:10,fill:"#f06292"}}),Object(oe.jsx)("hr",{style:{border:"3px solid black"}}),Object(oe.jsx)(x.a,{style:{textAlign:"center",textTransform:"uppercase"},variant:"h5",children:"List of prescriptions"}),Object(oe.jsx)("hr",{style:{border:"3px solid black"}})]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{children:Object(oe.jsx)(Ae.a,{container:!0,spacing:4,children:p&&p.map((function(e){return Object(oe.jsxs)(Ae.a,{style:{textAlign:"center",cursor:"pointer"},item:!0,xs:4,onClick:function(){!function(e){De.apply(this,arguments)}(e),setTimeout((function(){le(!0)}),300)},children:[Object(oe.jsx)("div",{style:{background:"#f06292",minWidth:150,textAlign:"center",color:"white",textTransform:"uppercase",paddingTop:15,paddingBottom:5},children:Ga[new Date(e.date).getMonth()]}),Object(oe.jsx)("div",{style:{background:"#e8eaf6",minWidth:150,textAlign:"center",fontSize:56,fontWeight:"bold"},children:("0"+new Date(e.date).getDate()).slice(-2)})]})}))})})}),Object(oe.jsx)(an.a,{style:{marginTop:40},children:Object(oe.jsx)(Le.a,{page:k+1,count:A,shape:"rounded",variant:"outlined",showFirstButton:!0,showLastButton:!0,onChange:function(e,t){Pe("?p=".concat(t)),C(t-1)}})})]}),Object(oe.jsxs)(rt.a,{open:$,onClose:function(){return Q(!1)},PaperProps:{style:{background:2===(null===G||void 0===G?void 0:G.length)?"##66bb6a":1===(null===G||void 0===G?void 0:G.length)?"#fdd835":"#e53935"}},children:[Object(oe.jsxs)(it.a,{children:[Object(oe.jsx)(x.a,{style:{textAlign:"center"},color:"textPrimary",variant:"h5",children:"Covid vaccination confirmation"}),Object(oe.jsx)(Wa.a,{style:{textAlign:"center",display:"block",width:"100%",fontSize:82,marginTop:20,marginBottom:10,fill:"white"}}),Object(oe.jsx)("hr",{style:{border:"3px solid black"}}),Object(oe.jsx)(x.a,{style:{textAlign:"center",textTransform:"uppercase"},variant:"h5",children:2===(null===G||void 0===G?void 0:G.length)?"2 shots of covid vaccine":1===(null===G||void 0===G?void 0:G.length)?"1 shot of covid vaccine":"0 shot of covid vaccine"}),Object(oe.jsx)("hr",{style:{border:"3px solid black"}})]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{children:Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsx)(Ae.a,{style:{textAlign:"center"},item:!0,xs:12,children:Object(oe.jsx)(Yn.a,{id:"qrcode",value:"http://localhost",size:100,level:"H",includeMargin:!0})}),Object(oe.jsxs)(Ae.a,{item:!0,xs:12,children:[Object(oe.jsx)(x.a,{variant:"caption",style:{fontSize:16,fontWeight:"bold"},children:"Personal information"}),Object(oe.jsx)(un.a,{component:hn.a,children:Object(oe.jsx)(jn.a,{children:Object(oe.jsxs)(mn.a,{children:[Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:Object(oe.jsx)(_a.a,{})}),Object(oe.jsxs)(gn.a,{children:[Object(oe.jsx)(x.a,{variant:"caption",children:"Full name"}),Object(oe.jsx)(x.a,{children:(null===r||void 0===r?void 0:r.lastName)+" "+(null===r||void 0===r?void 0:r.firstName)})]})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:Object(oe.jsx)(Va.a,{})}),Object(oe.jsxs)(gn.a,{children:[Object(oe.jsx)(x.a,{variant:"caption",children:"Date of Birth"}),Object(oe.jsx)(x.a,{children:"".concat(new Date(null===r||void 0===r?void 0:r.dateOfBirth).getDate(),"/").concat(new Date(null===r||void 0===r?void 0:r.dateOfBirth).getMonth()+1,"/").concat(new Date(null===r||void 0===r?void 0:r.dateOfBirth).getFullYear())})]})]}),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:Object(oe.jsx)(qa.a,{})}),Object(oe.jsxs)(gn.a,{children:[Object(oe.jsx)(x.a,{variant:"caption",children:"Phone"}),Object(oe.jsx)(x.a,{children:null===r||void 0===r?void 0:r.phone})]})]})]})})})]})]})})})]}),Object(oe.jsxs)(rt.a,{open:M,onClose:function(){return _(!1)},children:[Object(oe.jsxs)(it.a,{children:[Object(oe.jsx)(x.a,{style:{textAlign:"center"},color:"textPrimary",variant:"h5",children:"Covid tests"}),Object(oe.jsx)(Wa.a,{style:{textAlign:"center",display:"block",width:"100%",fontSize:82,marginTop:20,marginBottom:10,fill:"#f06292"}}),Object(oe.jsx)("hr",{style:{border:"3px solid black"}}),Object(oe.jsx)(x.a,{style:{textAlign:"center",textTransform:"uppercase"},variant:"h5",children:"list of test samples"}),Object(oe.jsx)("hr",{style:{border:"3px solid black"}})]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{children:Object(oe.jsx)(Ae.a,{container:!0,spacing:4,children:Z&&Z.map((function(e){return Object(oe.jsxs)(Ae.a,{style:{textAlign:"center",cursor:"pointer"},item:!0,xs:4,onClick:function(){ce(e),setTimeout((function(){je(!0)}),300)},children:[Object(oe.jsx)("div",{style:{background:"#f06292",minWidth:150,textAlign:"center",color:"white",textTransform:"uppercase",paddingTop:15,paddingBottom:5},children:Ga[new Date(e.date).getMonth()]}),Object(oe.jsx)("div",{style:{background:"#e8eaf6",minWidth:150,textAlign:"center",fontSize:56,fontWeight:"bold"},children:("0"+new Date(e.date).getDate()).slice(-2)})]})}))})})})]}),Object(oe.jsxs)(rt.a,{fullScreen:!0,open:se,children:[Object(oe.jsxs)(it.a,{children:[Object(oe.jsx)(y.a,{edge:"start",color:"inherit",onClick:function(){return le(!1)},"aria-label":"close",children:Object(oe.jsx)(ut.a,{})}),Object(oe.jsxs)("div",{style:{textAlign:"right",marginTop:-40},children:[Object(oe.jsx)(T.a,{style:{fontSize:64,color:"#1976d2"}}),Object(oe.jsx)(x.a,{variant:"h6",noWrap:!0,children:"DHB HOSPITAL"})]})]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{children:f?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(x.a,{style:{margin:"40px 0 20px 0"},children:"Prescription"}),Object(oe.jsx)(un.a,{component:hn.a,children:Object(oe.jsxs)(jn.a,{children:[Object(oe.jsx)(bn.a,{children:Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Patient name"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Service name"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Service fee"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Date"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Doctor"})]})}),Object(oe.jsx)(mn.a,{children:null===f||void 0===f?void 0:f.map((function(e){var t=p.filter((function(t){return t.id===e.prescription_id}))[0];return Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:(null===r||void 0===r?void 0:r.lastName)+" "+(null===r||void 0===r?void 0:r.firstName)}),Object(oe.jsx)(gn.a,{children:null===t||void 0===t?void 0:t.serviceName}),Object(oe.jsxs)(gn.a,{children:[null===t||void 0===t?void 0:t.serviceFee," $"]}),Object(oe.jsx)(gn.a,{children:"".concat(new Date(null===t||void 0===t?void 0:t.date).getDate(),"/").concat(new Date(null===t||void 0===t?void 0:t.date).getMonth()+1,"/").concat(new Date(null===t||void 0===t?void 0:t.date).getFullYear())}),Object(oe.jsx)(gn.a,{children:(null===Oe||void 0===Oe?void 0:Oe.lastName)+" "+(null===Oe||void 0===Oe?void 0:Oe.firstName)})]})}))})]})}),Object(oe.jsx)(x.a,{style:{margin:"40px 0 20px 0"},children:"Prescription Details"}),Object(oe.jsx)(un.a,{component:hn.a,children:Object(oe.jsxs)(jn.a,{"arial-label":"simple table",children:[Object(oe.jsx)(bn.a,{children:Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"No."}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Medicine"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Description"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Quantity"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Price"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Unit"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Total"})]})}),Object(oe.jsxs)(mn.a,{children:[f.map((function(e,t){var n=ye.filter((function(t){return t.id===e.medicine_id}))[0];return Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:t+1}),Object(oe.jsx)(gn.a,{children:null===n||void 0===n?void 0:n.name}),Object(oe.jsx)(gn.a,{children:null===n||void 0===n?void 0:n.description}),Object(oe.jsx)(gn.a,{children:e.quantity}),Object(oe.jsx)(gn.a,{children:e.unitPrice}),Object(oe.jsx)(gn.a,{children:null===n||void 0===n?void 0:n.unit}),Object(oe.jsx)(gn.a,{children:e.totalPrice})]},e.id)})),Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{colSpan:6,children:"Total price of medicine"}),Object(oe.jsxs)(gn.a,{children:[f.map((function(e){return e.totalPrice})).reduce((function(e,t){return e+t}),0)," $"]})]})]})]})})]}):""})})]}),Object(oe.jsxs)(rt.a,{fullScreen:!0,open:he,children:[Object(oe.jsxs)(it.a,{children:[Object(oe.jsx)(y.a,{edge:"start",color:"inherit",onClick:function(){return je(!1)},"aria-label":"close",children:Object(oe.jsx)(ut.a,{})}),Object(oe.jsxs)("div",{style:{textAlign:"right",marginTop:-40},children:[Object(oe.jsx)(T.a,{style:{fontSize:64,color:"#1976d2"}}),Object(oe.jsx)(x.a,{variant:"h6",noWrap:!0,children:"DHB HOSPITAL"})]})]}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{children:Object(oe.jsx)(un.a,{component:hn.a,children:Object(oe.jsxs)(jn.a,{children:[Object(oe.jsx)(bn.a,{children:Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Service name"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Service fee"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Date"}),Object(oe.jsx)(gn.a,{style:{fontWeight:"bold"},children:"Description"})]})}),Object(oe.jsx)(mn.a,{children:ae?Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{children:ae.serviceName}),Object(oe.jsxs)(gn.a,{children:[ae.serviceFee," $"]}),Object(oe.jsx)(gn.a,{children:"".concat(new Date(ae.date).getDate(),"/").concat(new Date(ae.date).getMonth()+1,"/").concat(new Date(ae.date).getFullYear())}),Object(oe.jsx)(gn.a,{children:ae.description})]}):""})]})})})})]})]})}function Ha(){var e,t,n,c=Object(a.useState)(),r=Object(o.a)(c,2),i=r[0],l=r[1],u=Object(a.useState)(0),h=Object(o.a)(u,2),j=h[0],b=h[1],p=Object(a.useState)(0),g=Object(o.a)(p,2),m=g[0],O=g[1],f=Object(a.useState)(!0),x=Object(o.a)(f,2),v=x[0],y=x[1],w=Object(a.useContext)(yc),S=Object(d.g)(),k=[{field:"id",headerName:"ID",width:200},{field:"name",headerName:"Name",width:300,editable:"ROLE_ADMIN"===(null===(e=w.currentAuth)||void 0===e?void 0:e.role)},{field:"description",headerName:"Description",width:690,editable:"ROLE_ADMIN"===(null===(t=w.currentAuth)||void 0===t?void 0:t.role)},"ROLE_ADMIN"===(null===(n=w.currentAuth)||void 0===n?void 0:n.role)?{field:"action",headerName:" ",renderCell:function(e){return Object(oe.jsx)(re.a,{style:{background:"#e1f5fe",color:"black"},variant:"contained",onClick:function(){return t=e.id,void be()({title:"Are you sure to delete?",icon:"warning",buttons:{cancel:"Cancel",delete:{text:"Delete",value:"delete"}}}).then((function(e){switch(e){case"delete":return ge("".concat(pe.categories,"/").concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}})).then((function(e){200===e.status&&(be()("Deleted","","success"),C("?p=".concat(j+1)))})).catch((function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&window.confirm("Login expired! Please login again.")&&(localStorage.clear(),S.push(xe))}));var t},children:"Delete"})}}:""];function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"?p=1";y(!0);var t="n=6";ge.get("".concat(pe.categories).concat(e,"&").concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),l(e.data.content),b(e.data.number),O(e.data.totalElements),y(!1)})).catch((function(e){return console.log(e.response)}))}return Object(a.useEffect)((function(){C()}),[]),Object(oe.jsx)("div",{style:{height:400,width:"100%",marginTop:50,background:"white"},children:v?Object(oe.jsx)("img",{style:{width:"100%",height:600},src:"/clinic-admin/images/loading.gif"}):Object(oe.jsx)(fe,{header:"LIST CATEGORY",rows:i,server:!0,columns:k,pageSize:6,rowCount:m,handleCellEditCommit:function(e){var t=e.id,n=e.field,a=e.value;ge("".concat(pe.categories,"/").concat(t),{method:"patch",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:Object(s.a)({},n,a)}).then((function(e){console.log(e),200===e.status&&be()("Success","","success")})).catch((function(e){var t,n;return be()(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,"","error")}))},createURL:"/categories/create",handlePageChange:function(e){C("?p=".concat(e+1)),b(e)},currentPage:j,btnTitle:"Create"})})}var Ja=Object(j.a)({root:(Ba={background:"white",color:"white",padding:"0 30px",borderRadius:3,display:"flex"},Object(s.a)(Ba,"padding",100),Object(s.a)(Ba,"marginTop",20),Object(s.a)(Ba,"boxShadow","0 3px 5px 2px rgba(189, 225, 255, 1)"),Object(s.a)(Ba,"borderRadius","0% 100% 0% 100% / 77% 0% 100% 23% "),Ba)});function $a(e){var t=Ja(),n=Object(d.g)(),c=Object(a.useState)({name:"",description:""}),r=Object(o.a)(c,2),i=r[0],s=r[1],l=function(e){var t=Object(u.a)({},i);t[e.target.name]=e.target.value,s(t)};return Object(oe.jsxs)("div",{className:t.root,children:[Object(oe.jsxs)(lt.ValidatorForm,{id:"form-medicine",onSubmit:function(e){e.preventDefault(),ge("".concat(pe.categories),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:i}).then((function(e){201===e.status&&(be()("Success","","success"),n.goBack())})).catch((function(e){return console.log(e.response)}))},children:[Object(oe.jsx)(x.a,{style:{color:"black"},variant:"h4",children:"CREATE CATEGORY"}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(lt.TextValidator,{id:"standard-required",value:i.name,onChange:l,label:"Name",name:"name",validators:["required"],errorMessages:["this field is required"]}),Object(oe.jsx)("p",{id:"error",className:t.error})]}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(lt.TextValidator,{id:"standard-required",value:i.description,onChange:l,label:"Description",name:"description",validators:["required"],errorMessages:["this field is required"]}),Object(oe.jsx)("p",{id:"error",className:t.error})]}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 0px"},title:e.type,type:"submit",color:"darkPrimary"}),Object(oe.jsx)(se,{style:{margin:"10px 0px 0px 10px"},onClick:function(){n.goBack()},title:"Go Back",color:"darkSecondary"})]}),Object(oe.jsx)("img",{style:{height:"400px",marginLeft:"175px"},src:"/clinic-admin/images/gui12.svg"})]})}var Qa=n(625),Xa=n(626),Ka=n(117),Za=["January","February","March","April","May","June","July","August","September","October","November","December"];function ec(e){var t=[],n=Object(a.useState)(7),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)([]),l=Object(o.a)(s,2),d=(l[0],l[1]),u=Object(a.useState)({}),h=Object(o.a)(u,2),j=h[0],b=h[1];return Object(a.useEffect)((function(){for(var e=[],n=r?r-1:6;n>=0;n--){var a=new Date,c=new Date(a.getFullYear(),a.getMonth(),a.getUTCDate()-n+1);t.push("".concat(c.getUTCDate(),", ").concat(Za[c.getMonth()])),ge("".concat(pe.prescriptions,"/total/date"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:c}).then((function(t){e.push(t.data)})).catch((function(e){return console.log(e.response)}))}Promise.all([]).then((function(){d(e),setTimeout((function(){b({labels:t,datasets:[{label:"Latest prescription",data:e,backgroundColor:"#2979ff"}]})}),200)}))}),[r]),Object(oe.jsxs)(Be.a,{style:{height:"100%"},children:[Object(oe.jsx)(Qa.a,{title:Object(oe.jsx)(x.a,{variant:"h6",children:"Latest prescription"}),action:Object(oe.jsxs)(Ge.a,{disableUnderline:!0,value:r,style:{width:150,marginTop:10},onChange:function(e){i(e.target.value)},children:[Object(oe.jsx)(Ye.a,{value:"7",children:"Last 7 days"}),Object(oe.jsx)(Ye.a,{value:"15",children:"Last 15 days"})]})}),Object(oe.jsx)(v.a,{}),Object(oe.jsx)(Te.a,{children:Object(oe.jsx)(Ka.a,{style:{marginTop:30},data:j})}),e.footer?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(v.a,{style:{marginTop:120}}),Object(oe.jsx)(Xa.a,{style:{flexDirection:"row-reverse"},children:Object(oe.jsx)(x.a,{variant:"caption",style:{padding:10,color:"#2979ff"},children:"OVERVIEW"})})]}):""]})}function tc(e){var t=Object(a.useState)({}),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(0),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(a.useState)(0),h=Object(o.a)(u,2),j=h[0],b=h[1],p=Object(a.useState)(0),g=Object(o.a)(p,2),m=g[0],O=g[1];function f(){return(f=Object(We.a)(Ue.a.mark((function e(){var t;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,ge.get("".concat(pe.services,"/1/bookings"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){d(e.data),t.push(e.data)})).catch((function(e){return console.log(e.response)}));case 3:return e.next=5,ge.get("".concat(pe.services,"/2/bookings"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){b(e.data),t.push(e.data)})).catch((function(e){return console.log(e.response)}));case 5:return e.next=7,ge.get("".concat(pe.services,"/3/bookings"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){O(e.data),t.push(e.data)})).catch((function(e){return console.log(e.response)}));case 7:setTimeout((function(){r({labels:["Medical examination","Covid test","Covid vaccination"],datasets:[{data:[t[0],t[1],t[2]],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1}]})}),200);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(oe.jsxs)(Be.a,{children:[Object(oe.jsx)(Qa.a,{title:Object(oe.jsx)(x.a,{variant:"h6",children:"Service rate"})}),Object(oe.jsx)(v.a,{}),Object(oe.jsx)(Te.a,{children:Object(oe.jsx)(Ka.b,{data:c})}),Object(oe.jsxs)(Xa.a,{children:[Object(oe.jsxs)(re.a,{style:{background:"rgba(255, 99, 132, 0.2)",marginLeft:17},children:["Medical examination ",Object(oe.jsx)("br",{}),(l/parseFloat(l+j+m)*100).toFixed(2)," %"]}),Object(oe.jsxs)(re.a,{style:{background:"rgba(54, 162, 235, 0.2)"},children:["Covid test ",Object(oe.jsx)("br",{}),(j/parseFloat(l+j+m)*100).toFixed(2)," %"]}),Object(oe.jsxs)(re.a,{style:{background:"rgba(255, 206, 86, 0.2)"},children:["Covid vaccination ",Object(oe.jsx)("br",{}),(m/parseFloat(l+j+m)*100).toFixed(2)," %"]})]})]})}function nc(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(o.a)(r,2),s=i[0],l=i[1];function d(){return(d=Object(We.a)(Ue.a.mark((function e(){var t,n,a,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"?s=date",e.next=3,ge.get("".concat(pe.bookings).concat("?s=date"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c(e.data.content),e.data.content.map((function(e){return e.id}))})).catch((function(e){return console.log(e)}));case 3:for(t=e.sent,n=[],a=[],r=0;r<(null===t||void 0===t?void 0:t.length);r++)n.push(ge.get("".concat(pe.bookings,"/").concat(t[r],"/tokens"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return a.push(e.data)})).catch((function(e){return console.log(e.response)})));Promise.all(n).then((function(){return l(a)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){d.apply(this,arguments)}()}),[]),Object(oe.jsxs)(Be.a,{style:{height:"100%"},children:[Object(oe.jsx)(Qa.a,{title:Object(oe.jsx)(x.a,{variant:"h6",children:"Latest Bookings"})}),Object(oe.jsx)(v.a,{}),Object(oe.jsx)(Te.a,{children:Object(oe.jsx)(un.a,{children:Object(oe.jsxs)(jn.a,{children:[Object(oe.jsx)(bn.a,{children:Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{style:{textAlign:"left"},children:"Booking Id"}),Object(oe.jsx)(gn.a,{style:{textAlign:"left"},children:"Patient"}),Object(oe.jsx)(gn.a,{style:{textAlign:"left"},children:"Date"}),Object(oe.jsx)(gn.a,{style:{textAlign:"left"},children:"Status"})]})}),Object(oe.jsx)(mn.a,{children:n&&n.map((function(e){var t=s.filter((function(t){return t.booking_id===e.id}))[0];return Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{style:{textAlign:"left"},children:e.id}),Object(oe.jsx)(gn.a,{style:{textAlign:"left"},children:e.fullName}),Object(oe.jsx)(gn.a,{style:{textAlign:"left"},children:"".concat(new Date(e.date).getDate(),"/").concat(new Date(e.date).getMonth()+1,"/").concat(new Date(e.date).getFullYear())}),Object(oe.jsx)(gn.a,{style:{textAlign:"left"},children:(null===t||void 0===t?void 0:t.confirmedAt)?Object(oe.jsx)(x.a,{style:{color:"white",background:"#2979ff",textAlign:"center",borderRadius:20,padding:3},children:"confirmed"}):Object(oe.jsx)(x.a,{style:{color:"white",background:"#3f51b5",textAlign:"center",borderRadius:20,padding:3},children:"pending"})})]})}))})]})})}),Object(oe.jsx)(Xa.a,{style:{flexDirection:"row-reverse",marginTop:25},children:Object(oe.jsx)(x.a,{variant:"caption",style:{padding:10,color:"#2979ff"},children:"VIEW ALL"})})]})}var ac=n(307),cc=n.n(ac);function rc(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){ge.get("".concat(pe.medicines).concat("?s=createdDate"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return c(e.data.content)})).catch((function(e){return console.log(e.response)}))}),[]),Object(oe.jsxs)(Be.a,{children:[Object(oe.jsx)(Qa.a,{title:Object(oe.jsx)(x.a,{variant:"h6",children:"Latest Medicines"})}),Object(oe.jsx)(v.a,{}),Object(oe.jsx)(Te.a,{children:Object(oe.jsx)(un.a,{children:Object(oe.jsx)(jn.a,{children:Object(oe.jsx)(mn.a,{children:n&&n.map((function(e){return Object(oe.jsxs)(pn.a,{children:[Object(oe.jsx)(gn.a,{width:"150",children:Object(oe.jsx)("img",{style:{width:"100%"},src:e.image})}),Object(oe.jsxs)(gn.a,{width:"300",children:[Object(oe.jsx)(x.a,{children:e.name}),Object(oe.jsxs)(x.a,{variant:"caption",children:["Updated on ","".concat(new Date(e.updatedDate).getDate(),"/").concat(new Date(e.updatedDate).getMonth()+1,"/").concat(new Date(e.updatedDate).getFullYear())]})]}),Object(oe.jsx)(gn.a,{children:Object(oe.jsx)(y.a,{children:Object(oe.jsx)(cc.a,{})})})]})}))})})})}),Object(oe.jsx)(Xa.a,{style:{flexDirection:"row-reverse"},children:Object(oe.jsx)(x.a,{variant:"caption",style:{padding:10,color:"#2979ff"},children:"VIEW ALL"})})]})}function ic(e){var t=e.date,n=Object(a.useState)(0),c=Object(o.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){ge("".concat(pe.bookings,"/total/date"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:t?new Date(t):new Date}).then((function(e){return i(e.data)})).catch((function(e){return console.log(e.response)}))}),[]),Object(oe.jsxs)(Be.a,{style:{display:"flex"},children:[Object(oe.jsxs)(Te.a,{style:{flex:"1 0 auto"},children:[Object(oe.jsx)(x.a,{variant:"h5",children:"Total bookings today"}),Object(oe.jsx)(x.a,{variant:"h4",children:("0"+r).slice(-2)})]}),Object(oe.jsx)("div",{children:Object(oe.jsx)(X.a,{style:{fontSize:84,marginTop:10,fill:"#2979ff"}})})]})}function oc(e){var t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){ge.get("".concat(pe.patients,"/total"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return r(e.data)})).catch((function(e){return console.log(e.response)}))}),[]),Object(oe.jsxs)(Be.a,{style:{display:"flex"},children:[Object(oe.jsxs)(Te.a,{style:{flex:"1 0 auto"},children:[Object(oe.jsx)(x.a,{variant:"h5",children:"Total of patients"}),Object(oe.jsx)(x.a,{variant:"h4",children:("0"+c).slice(-2)})]}),Object(oe.jsx)("div",{children:Object(oe.jsx)(tt.a,{style:{fontSize:84,marginTop:10,fill:"#2979ff"}})})]})}var sc=n(308),lc=n.n(sc);function dc(e){var t=e.date,n=Object(a.useState)(0),c=Object(o.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){ge("".concat(pe.invoices,"/totalSales/date"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:t?new Date(t):new Date}).then((function(e){return i(e.data)})).catch((function(e){return console.log(e.response)}))}),[]),Object(oe.jsxs)(Be.a,{style:{display:"flex"},children:[Object(oe.jsxs)(Te.a,{style:{flex:"1 0 auto"},children:[Object(oe.jsx)(x.a,{variant:"h5",children:"Sales today"}),Object(oe.jsxs)(x.a,{variant:"h4",children:[(Math.round(100*r)/100).toFixed(2)," $"]})]}),Object(oe.jsx)("div",{children:Object(oe.jsx)(lc.a,{style:{fontSize:84,marginTop:10,fill:"#2979ff"}})})]})}function uc(){return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsx)(Ae.a,{item:!0,xs:4,children:Object(oe.jsx)(oc,{})}),Object(oe.jsx)(Ae.a,{item:!0,xs:4,children:Object(oe.jsx)(ic,{date:new Date})}),Object(oe.jsx)(Ae.a,{item:!0,xs:4,children:Object(oe.jsx)(dc,{date:new Date})}),Object(oe.jsx)(Ae.a,{item:!0,xs:7,children:Object(oe.jsx)(ec,{footer:!0})}),Object(oe.jsx)(Ae.a,{item:!0,xs:5,children:Object(oe.jsx)(tc,{})}),Object(oe.jsx)(Ae.a,{item:!0,xs:5,children:Object(oe.jsx)(rc,{})}),Object(oe.jsx)(Ae.a,{item:!0,xs:7,children:Object(oe.jsx)(nc,{})})]})})}function hc(){return Object(oe.jsx)(Be.a,{children:Object(oe.jsx)(Te.a,{})})}var jc=["January","February","March","April","May","June","July","August","September","October","November","December"];function bc(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({date:new Date,month:0,year:0}),i=Object(o.a)(r,2),s=i[0],l=i[1],d=Object(a.useState)({date:!1,month:!1,year:!1}),h=Object(o.a)(d,2),j=h[0],b=h[1];function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;ge("".concat(pe.bookings,"/date"),{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:e}).then((function(t){console.log(t.data.content.length),c({labels:[e],datasets:[{label:"Total patients by date",data:[t.data.content.length],backgroundColor:"#2979ff"}]})})).catch((function(e){return console.log(e.response)}))}function g(){return(g=Object(We.a)(Ue.a.mark((function e(){var t,n,a;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=[],a=1;a<=12;a++)t.push(ge.get("".concat(pe.bookings,"/month/").concat(a,"?year=").concat(s.year),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.push(e.data.content.length)})).catch((function(e){return console.log(e.response)})));Promise.all(t).then((function(){c({labels:jc,datasets:[{label:"Total patients by year",data:n,backgroundColor:"#2979ff"}]}),b(Object(u.a)(Object(u.a)({},j),{},{year:!1}))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){s.date&&p(s.date)}),[]),Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(Be.a,{children:[Object(oe.jsx)(Qa.a,{title:Object(oe.jsx)(x.a,{variant:"h6",children:"Total patients"}),action:Object(oe.jsxs)(Ge.a,{disableUnderline:!0,value:s,style:{width:100,marginTop:10},onChange:function(e){var t=e.target.value;"date"===t?b(Object(u.a)(Object(u.a)({},j),{},{date:!0})):"month"===t?b(Object(u.a)(Object(u.a)({},j),{},{month:!0})):"year"===t&&b(Object(u.a)(Object(u.a)({},j),{},{year:!0}))},children:[Object(oe.jsx)(Ye.a,{value:"date",children:"Date"}),Object(oe.jsx)(Ye.a,{value:"month",children:"Month"}),Object(oe.jsx)(Ye.a,{value:"year",children:"Year"})]})}),Object(oe.jsx)(v.a,{}),Object(oe.jsx)(Te.a,{children:Object(oe.jsx)(Ka.a,{style:{marginTop:30},data:n})})]}),Object(oe.jsxs)(rt.a,{open:j.date,onClose:function(){return b(Object(u.a)(Object(u.a)({},j),{},{date:!1}))},children:[Object(oe.jsx)(it.a,{children:Object(oe.jsx)(x.a,{children:"Enter a date"})}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{children:Object(oe.jsx)(Nt.a,{utils:Ct.a,children:Object(oe.jsx)(It.a,{style:{width:200},color:"primary",label:"Date *",format:"dd-MM-yyyy",onChange:function(e){return function(e){l(Object(u.a)(Object(u.a)({},s),{},{date:e})),p(e)}(e)},name:"date",value:s.date})})})})]}),Object(oe.jsxs)(rt.a,{open:j.month,onClose:function(){return b(Object(u.a)(Object(u.a)({},j),{},{month:!1}))},children:[Object(oe.jsx)(it.a,{children:Object(oe.jsx)(x.a,{children:"Enter a month"})}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{children:Object(oe.jsxs)(Ge.a,{value:s.month,onChange:function(e){var t;l(Object(u.a)(Object(u.a)({},s),{},{month:e.target.value})),t=e.target.value,ge.get("".concat(pe.bookings,"/month/").concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e.data.content.length),c({labels:[jc[t-1]],datasets:[{label:"Total patients by month",data:[e.data.content.length],backgroundColor:"#2979ff"}]})})).catch((function(e){return console.log(e.response)}))},children:[Object(oe.jsx)(Ye.a,{value:"0",children:"Choose a month"}),Object(oe.jsx)(Ye.a,{value:"1",children:"January"}),Object(oe.jsx)(Ye.a,{value:"2",children:"February"}),Object(oe.jsx)(Ye.a,{value:"3",children:"March"}),Object(oe.jsx)(Ye.a,{value:"4",children:"April"}),Object(oe.jsx)(Ye.a,{value:"5",children:"May"}),Object(oe.jsx)(Ye.a,{value:"6",children:"June"}),Object(oe.jsx)(Ye.a,{value:"7",children:"July"}),Object(oe.jsx)(Ye.a,{value:"8",children:"August"}),Object(oe.jsx)(Ye.a,{value:"9",children:"September"}),Object(oe.jsx)(Ye.a,{value:"10",children:"October"}),Object(oe.jsx)(Ye.a,{value:"11",children:"November"}),Object(oe.jsx)(Ye.a,{value:"12",children:"December"})]})})})]}),Object(oe.jsxs)(rt.a,{open:j.year,onClose:function(){return b(Object(u.a)(Object(u.a)({},j),{},{year:!1}))},children:[Object(oe.jsx)(it.a,{children:Object(oe.jsx)(x.a,{children:"Enter a year"})}),Object(oe.jsx)(ot.a,{children:Object(oe.jsxs)(st.a,{children:[Object(oe.jsx)(ke.a,{label:"Enter a year",value:s.year,onChange:function(e){l(Object(u.a)(Object(u.a)({},s),{},{year:e.target.value}))}}),Object(oe.jsx)("br",{}),Object(oe.jsx)(re.a,{onClick:function(){return g.apply(this,arguments)},variant:"outlined",color:"primary",style:{marginTop:20},children:"Ok"})]})})]})]})}function pc(){return Object(oe.jsx)(Be.a,{children:Object(oe.jsx)(Te.a,{})})}function gc(){return Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(bc,{})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(ec,{footer:!1})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(pc,{})}),Object(oe.jsx)(Ae.a,{item:!0,xs:6,children:Object(oe.jsx)(hc,{})})]})}var mc=n(309),Oc=n.n(mc),fc=n(60),xc=Object(j.a)({sender:{display:"inline-block",marginLeft:10,marginTop:16,borderRadius:30,background:"#eeeeee",width:"50%",padding:"8px 8px 8px 15px",fontWeight:"bold"},receiver:Object(s.a)({display:"inline-block",marginTop:16,marginLeft:10,borderRadius:30,background:"#3d5afe",color:"white",width:"50%",padding:"8px 8px 8px 15px"},"marginLeft",270)});function vc(e){var t,n,c=Object(a.useState)(!1),r=Object(o.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)([]),d=Object(o.a)(l,2),u=d[0],h=d[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),p=(b[0],b[1],Object(a.useState)("")),g=Object(o.a)(p,2),m=g[0],O=g[1],f=Object(a.useState)(0),v=Object(o.a)(f,2),w=v[0],S=v[1],k=xc(),C=e.uid;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{style:{position:"fixed",bottom:20,right:7,cursor:"pointer",width:70},onClick:function(){var e=Object(fc.f)();Object(fc.g)(Object(fc.b)(e,"chats"),(function(t){var n=[],a=[];t.docs.forEach(function(){var t=Object(We.a)(Ue.a.mark((function t(c){var r;return Ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(fc.h)(Object(fc.b)(e,"users"),Object(fc.j)(Object(fc.d)(),"==",c.id)),a.push(Object(fc.e)(r).then((function(e){var t={messageId:c.id,messages:c.data().messages,from:e.docs[0].data()};n.push(t)})).catch((function(e){return console.log(e)})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Promise.all(a).then((function(){h(n)}))}),(function(e){console.log(e)})),setTimeout((function(){s(!0)}),200)},children:Object(oe.jsx)("img",{width:"100%",src:"https://res.cloudinary.com/dk5jgf3xj/image/upload/v1633499175/doank18/logo/chat-removebg-preview_xbkxge.png",alt:"Chat"})}),Object(oe.jsxs)(rt.a,{open:i,onClose:function(){return s(!1)},maxWidth:"md",fullWidth:!0,children:[Object(oe.jsx)(it.a,{children:Object(oe.jsx)(x.a,{children:"Chat with hospital"})}),Object(oe.jsx)(ot.a,{children:Object(oe.jsx)(st.a,{children:Object(oe.jsxs)(Ae.a,{container:!0,spacing:4,children:[Object(oe.jsx)(Ae.a,{item:!0,xs:3,children:Object(oe.jsx)(Pa.a,{orientation:"vertical",variant:"scrollable",sx:{borderRight:1,borderColor:"divider"},value:w,onChange:function(e,t){S(t)},children:u&&u.map((function(e){var t,n;return Object(oe.jsx)(Da.a,{icon:Object(oe.jsx)(Zn.a,{src:null===(t=e.from)||void 0===t?void 0:t.photoURL}),label:null===(n=e.from)||void 0===n?void 0:n.displayName})}))})}),Object(oe.jsxs)(Ae.a,{item:!0,xs:9,children:[Object(oe.jsx)("div",{style:{height:300,overflow:"auto"},children:(null===(t=u[w])||void 0===t?void 0:t.messages)&&(null===(n=u[w])||void 0===n?void 0:n.messages.map((function(e){var t,n,a=new Date(1970,0,1);a.setUTCSeconds(null===(t=e.time)||void 0===t?void 0:t.seconds);var c=u.filter((function(e){return e.messageId!==e.uid}))[w];return Object(oe.jsxs)("div",{children:[e.uid!==C?Object(oe.jsx)(ct.a,{title:a.toString(),children:Object(oe.jsx)(Zn.a,{style:{display:"inline-block",width:30,height:30},src:(null===c||void 0===c||null===(n=c.from)||void 0===n?void 0:n.photoURL)||"https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png"})}):"",Object(oe.jsx)("span",{className:e.uid!==C?k.sender:k.receiver,children:e.content})]})})))}),Object(oe.jsxs)("form",{style:{width:650,marginTop:20},onSubmit:function(e){console.log(u);var t={messages:[].concat(Object(nn.a)(u[w].messages),[{content:m,uid:C||"",time:fc.a.now()}])},n=Object(fc.f)(),a=Object(fc.b)(n,"chats"),c=u[w].messageId,r=Object(fc.c)(a,c);Object(fc.i)(r,t,{merge:!0}).then((function(e){return O("")})).catch((function(e){return console.log(e)})),e.preventDefault()},children:[Object(oe.jsx)(ke.a,{placeholder:"Aa",style:{width:"90%"},onChange:function(e){O(e.target.value)},value:m}),Object(oe.jsx)(y.a,{disabled:""===m,type:"submit",children:Object(oe.jsx)(Oc.a,{color:""===m?"":"primary"})})]})]})]})})})]})]})}var yc=c.a.createContext(),wc=Object(j.a)((function(e){return{root:{display:"flex"},content:Object(s.a)({flexGrow:1,padding:e.spacing(10)},e.breakpoints.down("xs"),{padding:e.spacing(1)})}}));var Sc=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!!localStorage.getItem("token")),i=Object(o.a)(r,2),s=i[0],u=i[1],h=Object(a.useState)(window.location.href.substring(ve)),j=Object(o.a)(h,2),b=j[0],p=j[1],g=wc();return Object(a.useEffect)((function(){localStorage.getItem("token")&&ce.a.get("http://localhost:8080/auth/admin/user",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){c(e.data)})).catch((function(e){console.log(e),u(!1)}))}),[]),Object(oe.jsx)(yc.Provider,{value:{isAuth:s,setAuth:u,currentAuth:n,setCurrentAuth:c,page:b,setPage:p},children:Object(oe.jsx)("div",{className:g.root,children:Object(oe.jsxs)(l.a,{children:[Object(oe.jsx)(ma,{path:"/",component:da,isAuth:s}),Object(oe.jsxs)(d.d,{children:[Object(oe.jsx)(d.b,{path:"/login",exact:!0,children:Object(oe.jsx)(Aa,{})}),Object(oe.jsxs)("main",{className:g.content,children:[Object(oe.jsx)(d.b,{exact:!0,path:"/",children:Object(oe.jsx)(uc,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/roles",children:Object(oe.jsx)(we,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/roles/create",children:Object(oe.jsx)(Ne,{type:"create"})}),Object(oe.jsx)(d.b,{exact:!0,path:"/roles/:roleId",children:Object(oe.jsx)(Fe,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/accounts",children:Object(oe.jsx)($e,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/medicines",children:Object(oe.jsx)(Ke,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/medicines/create",children:Object(oe.jsx)(mt,{type:"create"})}),Object(oe.jsx)(d.b,{exact:!0,path:"/shifts",children:Object(oe.jsx)(ft,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/shifts/create",children:Object(oe.jsx)(vt,{type:"Create"})}),Object(oe.jsx)(d.b,{exact:!0,path:"/accounts/:accountId",children:Object(oe.jsx)(Vt,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/admins",children:Object(oe.jsx)(Ut,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/doctors",children:Object(oe.jsx)(Ht,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/employees",children:Object(oe.jsx)(Qt,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/schedules",children:Object(oe.jsx)(dn,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/schedules/create",children:Object(oe.jsx)(tn,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/bookings",children:Object(oe.jsx)(wn,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/bookings/create",children:Object(oe.jsx)(Nn,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/patients",children:Object(oe.jsx)(Bn,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/prescriptions",children:Object(oe.jsx)(Fn,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/prescriptions/create",children:Object(oe.jsx)(Ln,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/invoices",children:Object(oe.jsx)(Wn,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/invoices/create",children:Object(oe.jsx)(Qn,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/patients/:userId",children:Object(oe.jsx)(Ya,{role:"patients"})}),Object(oe.jsx)(d.b,{exact:!0,path:"/categories",children:Object(oe.jsx)(Ha,{})}),Object(oe.jsx)(d.b,{exact:!0,path:"/categories/create",children:Object(oe.jsx)($a,{type:"create"})}),Object(oe.jsx)(d.b,{exact:!0,path:"/chart",children:Object(oe.jsx)(gc,{})}),"ROLE_EMPLOYEE"===(null===n||void 0===n?void 0:n.role)?Object(oe.jsx)(vc,{uid:n.userId}):""]})]})]})})})},kc=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,641)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(oe.jsx)(c.a.StrictMode,{children:Object(oe.jsx)(Sc,{})}),document.getElementById("root")),kc()}},[[536,1,2]]]);
//# sourceMappingURL=main.291b133a.chunk.js.map